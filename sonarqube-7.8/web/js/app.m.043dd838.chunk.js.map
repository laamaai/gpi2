{"version":3,"sources":["webpack:///./src/main/js/components/controls/Tooltip.css?db93","webpack:///./src/main/js/components/controls/Tooltip.css","webpack:///./src/main/js/components/ui/popups.css?2d78","webpack:///./src/main/js/components/ui/popups.css","webpack:///./src/main/js/components/common/OrganizationAvatar.css?3bb2","webpack:///./src/main/js/components/common/OrganizationAvatar.css","webpack:///./src/main/js/components/ui/buttons.css?50c4","webpack:///./src/main/js/components/ui/buttons.css","webpack:///./src/main/js/components/controls/SearchBox.css?f1dc","webpack:///./src/main/js/components/controls/SearchBox.css","webpack:///./src/main/js/app/components/search/Search.css?062a","webpack:///./src/main/js/app/components/search/Search.css","webpack:///./src/main/js/components/nav/NavBar.css?1207","webpack:///./src/main/js/components/nav/NavBar.css","webpack:///./src/main/js/app/components/nav/global/GlobalNav.css?7daf","webpack:///./src/main/js/app/components/nav/global/GlobalNav.css","webpack:///./src/main/js/components/controls/GlobalMessages.css?9417","webpack:///./src/main/js/components/controls/GlobalMessages.css","webpack:///./src/main/js/app/components/a11y/A11ySkipLinks.css?cabe","webpack:///./src/main/js/app/components/a11y/A11ySkipLinks.css","webpack:///./src/main/js/components/workspace/styles.css?f0ba","webpack:///./src/main/js/components/workspace/styles.css","webpack:///./src/main/js/components/nav/ContextNavBar.css?0e87","webpack:///./src/main/js/components/nav/ContextNavBar.css","webpack:///./src/main/js/components/nav/NavBarTabs.css?690d","webpack:///./src/main/js/components/nav/NavBarTabs.css","webpack:///./src/main/js/app/components/MigrationContainer.tsx","webpack:///./src/main/js/app/components/App.tsx","webpack:///./src/main/js/apps/about/routes.ts","webpack:///./src/main/js/apps/account/routes.ts","webpack:///./src/main/js/apps/background-tasks/routes.ts","webpack:///./src/main/js/apps/code/routes.ts","webpack:///./src/main/js/apps/coding-rules/routes.ts","webpack:///./src/main/js/apps/component-measures/routes.ts","webpack:///./src/main/js/apps/custom-measures/routes.ts","webpack:///./src/main/js/apps/groups/routes.ts","webpack:///./src/main/js/apps/explore/Explore.tsx","webpack:///./src/main/js/apps/explore/ExploreIssues.tsx","webpack:///./src/main/js/apps/explore/ExploreProjects.tsx","webpack:///./src/main/js/apps/issues/IssuesPageSelector.tsx","webpack:///./src/main/js/apps/marketplace/routes.ts","webpack:///./src/main/js/apps/custom-metrics/routes.ts","webpack:///./src/main/js/apps/overview/routes.ts","webpack:///./src/main/js/apps/tutorials/routes.ts","webpack:///./src/main/js/apps/quality-gates/routes.ts","webpack:///./src/main/js/apps/quality-profiles/routes.ts","webpack:///./src/main/js/apps/webhooks/routes.ts","webpack:///./src/main/js/apps/organizations/routes.ts","webpack:///./src/main/js/apps/permission-templates/routes.ts","webpack:///./src/main/js/apps/portfolio/routes.ts","webpack:///./src/main/js/apps/projectActivity/routes.ts","webpack:///./src/main/js/apps/projectBranches/routes.ts","webpack:///./src/main/js/apps/projectQualityGate/routes.ts","webpack:///./src/main/js/apps/projectQualityProfiles/routes.ts","webpack:///./src/main/js/apps/projects/components/DefaultPageSelector.tsx","webpack:///./src/main/js/apps/projects/components/DefaultPageSelectorContainer.tsx","webpack:///./src/main/js/apps/projects/routes.ts","webpack:///./src/main/js/apps/projects/components/FavoriteProjectsContainer.tsx","webpack:///./src/main/js/apps/projectsManagement/routes.ts","webpack:///./src/main/js/apps/sessions/routes.ts","webpack:///./src/main/js/apps/settings/routes.ts","webpack:///./src/main/js/apps/system/routes.ts","webpack:///./src/main/js/apps/users/routes.ts","webpack:///./src/main/js/apps/web-api/routes.ts","webpack:///./src/main/js/apps/documentation/routes.ts","webpack:///./src/main/js/apps/maintenance/routes.tsx","webpack:///./src/main/js/apps/permissions/routes.ts","webpack:///./src/main/js/app/utils/startReactApp.tsx","webpack:///./src/main/js/components/icons-components/DeleteIcon.tsx","webpack:///./src/main/js/components/icons-components/EditIcon.tsx","webpack:///./src/main/js/components/ui/buttons.tsx","webpack:///./src/main/js/components/icons-components/Icon.tsx","webpack:///./src/main/js/helpers/urls.ts","webpack:///./src/main/js/app/theme.js","webpack:///./src/main/js/components/common/DeferredSpinner.tsx","webpack:///./src/main/js/components/controls/Tooltip.tsx","webpack:///./src/main/js/helpers/measures.ts","webpack:///./src/main/js/apps/settings/store/rootReducer.ts","webpack:///./src/main/js/store/rootReducer.ts","webpack:///./src/main/js/components/lazyLoad.tsx","webpack:///./src/main/js/app/utils/throwGlobalError.ts","webpack:///./src/main/js/components/icons-components/InfoIcon.tsx","webpack:///./src/main/js/components/ui/Alert.tsx","webpack:///./src/main/js/components/controls/Dropdown.tsx","webpack:///./src/main/js/helpers/branches.ts","webpack:///./src/main/js/components/icons-components/DropdownIcon.tsx","webpack:///./src/main/js/helpers/users.ts","webpack:///./src/main/js/components/hoc/withRouter.tsx","webpack:///./src/main/js/api/components.ts","webpack:///./src/main/js/app/components/embed-docs-modal/SuggestionsContext.ts","webpack:///./src/main/js/components/icons-components/SearchIcon.tsx","webpack:///./src/main/js/components/controls/SearchBox.tsx","webpack:///./src/main/js/api/issues.ts","webpack:///./src/main/js/store/globalMessages.ts","webpack:///./src/main/js/components/icons-components/HelpIcon.tsx","webpack:///./src/main/js/components/controls/DocumentClickHandler.tsx","webpack:///./src/main/js/components/controls/Toggler.tsx","webpack:///./src/main/js/store/utils/configureStore.ts","webpack:///./src/main/js/app/utils/getStore.ts","webpack:///./src/main/js/components/ui/Avatar.tsx","webpack:///./src/main/js/helpers/path.ts","webpack:///./src/main/js/app/components/a11y/A11yContext.tsx","webpack:///./src/main/js/api/auth.ts","webpack:///./src/main/js/store/rootActions.ts","webpack:///./src/main/js/api/languages.ts","webpack:///./src/main/js/api/organizations.ts","webpack:///./src/main/js/components/ui/popups.tsx","webpack:///./src/main/js/components/common/InstanceMessage.tsx","webpack:///./src/main/js/components/hoc/utils.ts","webpack:///./src/main/js/app/utils/getHistory.ts","webpack:///./src/main/js/apps/issues/utils.ts","webpack:///./src/main/js/api/users.ts","webpack:///./src/main/js/apps/quality-profiles/utils.ts","webpack:///./src/main/js/components/nav/NavBar.tsx","webpack:///./src/main/js/helpers/query.ts","webpack:///./src/main/js/helpers/constants.ts","webpack:///./src/main/js/store/users.ts","webpack:///./src/main/js/api/quality-gates.ts","webpack:///./src/main/js/helpers/scrolling.ts","webpack:///./src/main/js/app/components/GlobalFooterSonarCloud.tsx","webpack:///./src/main/js/app/components/GlobalFooterBranding.tsx","webpack:///./src/main/js/app/components/GlobalFooterContainer.tsx","webpack:///./src/main/js/app/components/GlobalFooter.tsx","webpack:///./src/main/js/components/icons-components/ChevronRightcon.tsx","webpack:///./src/main/js/components/hoc/withCurrentUser.tsx","webpack:///./src/main/js/apps/settings/utils.ts","webpack:///./src/main/js/components/common/OrganizationAvatar.tsx","webpack:///./src/main/js/store/appState.ts","webpack:///./src/main/js/api/settings.ts","webpack:///./src/main/js/components/icons-components/AlertSuccessIcon.tsx","webpack:///./src/main/js/helpers/types.ts","webpack:///./src/main/js/store/organizations.ts","webpack:///./src/main/js/components/icons-components/AlertErrorIcon.tsx","webpack:///./src/main/js/apps/projects/utils.ts","webpack:///./src/main/js/api/measures.ts","webpack:///./src/main/js/helpers/colors.ts","webpack:///./src/main/js/app/components/nav/global/GlobalNavBranding.tsx","webpack:///./src/main/js/app/components/nav/global/GlobalNavMenu.tsx","webpack:///./src/main/js/app/components/nav/global/GlobalNavExplore.tsx","webpack:///./src/main/js/app/components/nav/global/GlobalNavUser.tsx","webpack:///./src/main/js/app/components/nav/global/GlobalNavUserContainer.tsx","webpack:///./src/main/js/app/components/search/Search.tsx","webpack:///./src/main/js/app/components/embed-docs-modal/EmbedDocsPopupHelper.tsx","webpack:///./src/main/js/app/components/nav/global/GlobalNav.tsx","webpack:///./src/main/js/app/components/StartupModal.tsx","webpack:///./src/main/js/app/components/embed-docs-modal/SuggestionsProvider.tsx","webpack:///./src/main/js/app/components/a11y/A11yProvider.tsx","webpack:///./src/main/js/app/components/a11y/A11ySkipLinks.tsx","webpack:///./src/main/js/components/workspace/WorkspacePortal.tsx","webpack:///./src/main/js/components/workspace/Workspace.tsx","webpack:///./src/main/js/app/components/GlobalContainer.tsx","webpack:///./src/main/js/apps/marketplace/utils.ts","webpack:///./src/main/js/components/ui/OrganizationLink.tsx","webpack:///./src/main/js/api/metrics.ts","webpack:///./src/main/js/components/workspace/context.ts","webpack:///./src/main/js/apps/account/organizations/actions.ts","webpack:///./src/main/js/components/icons-components/ClearIcon.tsx","webpack:///./src/main/js/app/components/OnboardingContext.tsx","webpack:///./src/main/js/helpers/issues.ts","webpack:///./src/main/js/components/nav/NavBarTabs.tsx","webpack:///./src/main/js/apps/settings/store/values.ts","webpack:///./src/main/js/components/icons-components/AlertWarnIcon.tsx","webpack:///./src/main/js/components/controls/OutsideClickHandler.tsx","webpack:///./src/main/js/app/components/RecentHistory.ts","webpack:///./src/main/js/components/nav/ContextNavBar.tsx","webpack:///./src/main/js/apps/projects/components/AllProjectsContainer.tsx","webpack:///./src/main/js/store/languages.ts","webpack:///./src/main/js/apps/settings/store/settingsPage.ts","webpack:///./src/main/js/components/ui/OrganizationListItem.tsx","webpack:///./src/main/js/apps/coding-rules/query.ts","webpack:///./src/main/js/apps/issues/components/AppContainer.tsx","webpack:///./src/main/js/components/SourceViewer/helpers/getCoverageStatus.ts","webpack:///./src/main/js/apps/projects/query.ts","webpack:///./src/main/js/components/controls/GlobalMessages.tsx","webpack:///./src/main/js/app/components/GlobalMessagesContainer.tsx","webpack:///./src/main/js/store/branches.ts","webpack:///./src/main/js/store/metrics.ts","webpack:///./src/main/js/apps/settings/store/definitions.ts","webpack:///./src/main/js/helpers/qualityGates.ts","webpack:///./src/main/js/components/controls/ScreenPositionFixer.tsx","webpack:///./src/main/js/components/ui/GenericAvatar.tsx","webpack:///./src/main/js/app/components/search/utils.ts","webpack:///./src/main/js/components/icons-components/ClockIcon.tsx","webpack:///./src/main/js/api/news.ts","webpack:///./src/main/js/api/marketplace.ts"],"names":["content","__webpack_require__","module","i","options","hmr","transform","insertInto","undefined","locals","exports","push","MigrationContainer_MigrationContainer","index_js_exposed","[object Object]","Object","system","this","props","router","pathname","query","return_to","window","location","search","hash","children","PageTracker","lazyLoad","Promise","all","e","then","bind","mapDispatchToProps","fetchLanguages","rootActions","fetchMyOrganizations","actions","components_App","react_redux_es","state","enableGravatar","rootReducer","gravatarServerUrl","appState","currentUser","Boolean","value","mounted","setScrollbarWidth","outer","document","createElement","style","visibility","width","msOverflowStyle","body","appendChild","widthNoScroll","offsetWidth","overflow","inner","widthWithScroll","parentNode","removeChild","setProperty","concat","renderPreconnectLink","parser","href","hostname","origin","rel","_this$props","users","about_routes","indexRoute","component","childRoutes","path","account_routes","background_tasks_routes","code_routes","coding_rules_routes","onEnter","nextState","replace","length","split","forEach","part","tokens","decodeURIComponent","parseHash","substr","normalizedQuery","assign","coding_rules_query","open","component_measures_routes","metric","params","domainName","view","id","graph","custom_metrics","metricKey","custom_measures_routes","groups_routes","Explore","ContextNavBar","height","theme","className","l10n","NavBarTabs","es","activeClassName","to","resolved","ExploreIssues","AppContainer","hideAuthorFacet","multiOrganizations","myIssues","ExploreProjects","AllProjectsContainer","isFavorite","organization","storageOptionsSuffix","IssuesPageSelector","withCurrentUser","_ref","marketplace_routes","custom_metrics_routes","overview_routes","tutorials_routes","routes_App","quality_gates_routes","quality_profiles_routes","webhooks_routes","OrganizationContainer","organizations_routes","organizationKey","resolve","lib","default","OrganizationAdminAccess","permission_templates_routes","portfolio_routes","projectActivity_routes","projectBranches_routes","projectQualityGate_routes","projectQualityProfiles_routes","components_DefaultPageSelector","withRouter","isFavoriteSet","storage","utils","isAllSet","defineIfShouldBeRedirected","prevProps","shouldBeRedirected","shouldForceSorting","sort","keys","setState","components","filter","ps","r","paging","total","_this$state","DefaultPageSelectorContainer","projects_routes","_","types","projectsManagement_routes","sessions_routes","settings_routes","system_routes","users_routes","web_api_routes","documentation_routes_App","documentation_routes","maintenanceRoutes","setupRoutes","globalPermissionsRoutes","projectPermissionsRoutes","handleUpdate","action","scrollTo","d","__webpack_exports__","startReactApp","RouteWithChildRoutes","lang","el","getElementById","history","getHistory","store","getStore","react_dom_index_js_exposed","index_es","defaultLocale","locale","onUpdate","key","from","GlobalContainer","DeleteIcon","_ref$fill","fill","size","Icon","EditIcon","buttons_Button","handleClick","event","onClick","_this$props$preventDe","preventDefault","_this$props$stopPropa","stopPropagation","currentTarget","blur","_a","_a$type","innerRef","type","__rest","classnames","disabled","ref","ButtonLink","SubmitButton","ResetButtonLink","ButtonIcon","_props$color","color","tooltip","other","buttonComponent","Tooltip","mouseEnterDelay","overlay","ClearButton","_a$color","_a$iconProps","iconProps","ClearIcon","DeleteButton","_a$iconProps2","EditButton","_a$iconProps3","ListButton","ChevronRightcon","_a$size","_a$height","_a$width","_a$viewBox","viewBox","react__WEBPACK_IMPORTED_MODULE_0__","fillRule","clipRule","strokeLinejoin","strokeMiterlimit","version","xmlSpace","xmlnsXlink","getBaseUrl","baseUrl","getHostUrl","getPathUrlAsString","internal","arguments","querystring__WEBPACK_IMPORTED_MODULE_2__","lodash_omitBy__WEBPACK_IMPORTED_MODULE_1___default","lodash_isNil__WEBPACK_IMPORTED_MODULE_0___default","a","getProjectUrl","project","branch","getPortfolioUrl","getPortfolioAdminUrl","qualifier","getComponentBackgroundTaskUrl","componentKey","status","getBranchLikeUrl","branchLike","_branches__WEBPACK_IMPORTED_MODULE_3__","getPullRequestUrl","getShortLivingBranchUrl","name","getLongLivingBranchUrl","pullRequest","getIssuesUrl","getComponentIssuesUrl","getComponentDrilldownUrl","selectionKey","treemapView","listView","selected","getComponentDrilldownUrlWithSelection","getMeasureTreemapUrl","getActivityUrl","getMeasureHistoryUrl","getComponentPermissionsUrl","getQualityProfileUrl","language","_apps_quality_profiles_utils__WEBPACK_IMPORTED_MODULE_4__","getQualityGateUrl","getQualityGatesUrl","encodeURIComponent","getRulesUrl","getDeprecatedActiveRulesUrl","activation","statuses","getRuleUrl","rule","rule_key","getMarkdownHelpUrl","getCodeUrl","line","getOrganizationUrl","getHomePageUrl","homepage","getReturnUrl","returnTo","url","regex","RegExp","test","isRelativeUrl","blue","veryLightBlue","lightBlue","darkBlue","green","lineCoverageGreen","lightGreen","veryLightGreen","yellow","orange","red","lineCoverageRed","purple","conciseIssueRed","gray94","gray80","gray71","gray67","gray60","gray40","transparentWhite","transparentGray","disableGrayText","disableGrayBorder","disableGrayBg","barBackgroundColor","barBorderColor","baseFontColor","secondFontColor","leakColor","leakColorHover","leakBorderColor","globalNavBarBg","snippetFontColor","issueBgColor","hotspotBgColor","warningIconColor","alertBorderError","alertBackgroundError","alertTextError","alertIconError","alertBorderWarning","alertBackgroundWarning","alertTextWarning","alertIconWarning","alertBorderSuccess","alertBackgroundSuccess","alertTextSuccess","alertIconSuccess","alertBorderInfo","alertBackgroundInfo","alertTextInfo","alertIconInfo","grid","gridSize","baseFontSize","verySmallFontSize","smallFontSize","mediumFontSize","bigFontSize","hugeFontSize","hugeControlHeight","largeControlHeight","controlHeight","smallControlHeight","tinyControlHeight","globalNavHeight","globalNavHeightRaw","globalNavContentHeight","globalNavContentHeightRaw","contextNavHeightRaw","maxPageWidth","minPageWidth","pagePadding","baseFontFamily","systemFontFamily","defaultShadow","aboveNormalZIndex","normalZIndex","belowNormalZIndex","pageMainZIndex","tooltipZIndex","dropdownMenuZIndex","processContainerZIndex","modalZIndex","modalOverlayZIndex","popupZIndex","sonarcloudOrange500","sonarcloudOrange600","sonarcloudOrange700","sonarcloudBlack100","sonarcloudBlack200","sonarcloudBlack250","sonarcloudBlack300","sonarcloudBlack500","sonarcloudBlack700","sonarcloudBlack800","sonarcloudBlack900","sonarcloudBlue500","sonarcloudBlue600","sonarcloudBlue900","sonarcloudBorderGray","sonarcloudFontFamily","DeferredSpinner","classnames__WEBPACK_IMPORTED_MODULE_1__","showSpinner","startTimer","timer","setTimeout","timeout","stopTimer","clearTimeout","loading","nextProps","customSpinner","defaultProps","isMeasured","react__WEBPACK_IMPORTED_MODULE_1__","TooltipInner","super","mouseIn","addEventListeners","addEventListener","throttledPositionTooltip","removeEventListeners","removeEventListener","clearTimeouts","mouseEnterTimeout","mouseLeaveTimeout","isVisible","visible","getPlacement","placement","tooltipNodeRef","node","tooltipNode","positionTooltip","toggleNode","react_dom__WEBPACK_IMPORTED_MODULE_2__","Element","toggleRect","getBoundingClientRect","tooltipRect","left","top","measurements","pageXOffset","pageYOffset","clearPosition","handleMouseEnter","onShow","handleMouseLeave","mouseLeaveDelay","onHide","handleOverlayMouseEnter","handleOverlayMouseLeave","lodash_throttle__WEBPACK_IMPORTED_MODULE_0___default","prevState","_this$props$className","classNameSpace","onMouseEnter","onMouseLeave","TooltipPortal","_ScreenPositionFixer__WEBPACK_IMPORTED_MODULE_3__","ready","_ref$leftFix","leftFix","_ref$topFix","topFix","marginLeft","marginTop","formatMeasure","localizeMetric","getShortType","enhanceMeasuresWithMetrics","getPeriodValue","isPeriodBestValue","isDiffMetric","getRatingTooltip","getDisplayMetrics","findMeasure","_l10n__WEBPACK_IMPORTED_MODULE_0__","_types__WEBPACK_IMPORTED_MODULE_1__","HOURS_IN_DAY","formatter","useFormatter","INT","intFormatter","SHORT_INT","shortIntFormatter","FLOAT","floatFormatter","PERCENT","percentFormatter","WORK_DUR","durationFormatter","SHORT_WORK_DUR","shortDurationFormatter","RATING","ratingFormatter","LEVEL","levelFormatter","MILLISEC","millisecondsFormatter","noFormatter","getFormatter","measures","metrics","map","measure","find","periodIndex","periods","period","index","bestValue","indexOf","numberFormatter","minimumFractionDigits","maximumFractionDigits","format","Intl","NumberFormat","parseFloat","decimals","parseInt","String","fromCharCode","toUpperCase","l10nKey","result","minutes","Math","round","seconds","addSpaceIfNeeded","hoursInDay","isNegative","absValue","abs","days","floor","remainingValue","hours","formatted","shouldDisplayDays","shouldDisplayHours","shouldDisplayMinutes","formatDuration","shouldDisplayDaysInShortFormat","roundedDays","formattedDays","shouldDisplayHoursInShortFormat","roundedHours","formattedHours","formattedMinutes","formatDurationShort","maintainabilityRatingGrid","getMaintainabilityRatingGrid","numbers","settingValue","getGlobalSettingValue","getState","getRatingGrid","s","n","isNaN","ratingLetter","finalMetricKey","rating","maintainabilityGrid","maintainabilityRatingThreshold","getMaintainabilityRatingTooltip","Number","hidden","includes","redux","definitions","values","settingsPage","globalMessages","getValue","getAppState","rootReducer_getGlobalMessages","getLanguages","getCurrentUserSetting","getCurrentUser","getMetrics","getMetricsKey","getOrganizationByKey","getMyOrganizations","areThereCustomOrganizations","getSettingsAppDefinition","getSettingsAppAllCategories","getSettingsAppDefaultCategory","getSettingsAppSettingsForCategory","getSettingsAppChangedValue","isSettingsAppLoading","getSettingsAppValidationMessage","getBranchStatusByBranchLike","branches","languages","organizations","settingsApp","organizationsEnabled","getDefinition","getAllCategories","getDefaultCategory","category","definition","getSettingsForCategory","getChangedValue","isLoading","getValidationMessage","_ui_Alert__WEBPACK_IMPORTED_MODULE_1__","_helpers_l10n__WEBPACK_IMPORTED_MODULE_2__","_helpers_storage__WEBPACK_IMPORTED_MODULE_3__","LAST_FAILED_CHUNK_STORAGE_KEY","loader","displayName","receiveComponent","Component","error","failToReceiveComponent","lastFailedChunk","request","reload","variant","throwGlobalError","_getStore__WEBPACK_IMPORTED_MODULE_0__","_helpers_request__WEBPACK_IMPORTED_MODULE_1__","_store_globalMessages__WEBPACK_IMPORTED_MODULE_2__","message","dispatch","reject","response","InfoIcon","Alert","display","domProps","is-inline","role","is-banner","AlertErrorIcon","AlertWarnIcon","AlertSuccessIcon","Dropdown","DropdownOverlay","_ScreenPositionFixer__WEBPACK_IMPORTED_MODULE_2__","_Toggler__WEBPACK_IMPORTED_MODULE_3__","_ui_popups__WEBPACK_IMPORTED_MODULE_4__","closeDropdown","handleToggleClick","onOpen","a11yAttrs","aria-expanded","aria-haspopup","child","onToggleClick","_this$props$closeOnCl","closeOnClick","_this$props$closeOnCl2","closeOnClickOutside","toggler","onRequestClose","noPadding","noOverlayPadding","overlayPlacement","tagName","renderPopup","arrowStyle","Bottom","isBranch","isMain","isShortLivingBranch","isLongLivingBranch","isMainBranch","isPullRequest","getBranchLikeDisplayName","title","getBranchLikeKey","isSameBranchLike","b","sortBranchesAsTree","branchLikes","mainBranch","longLivingBranches","shortLivingBranches","pullRequests","getPullRequests","getNestedShortLivingBranches","lodash_sortBy__WEBPACK_IMPORTED_MODULE_0___default","longLivingBranch","pr","isOrphan","mergeBranch","found","current","base","getBranchLikeQuery","fillBranchLike","DropdownIcon","_Icon__WEBPACK_IMPORTED_MODULE_1__","_ref$size","_ref$turned","turned","hasGlobalPermission","user","permission","permissions","global","isLoggedIn","react_router__WEBPACK_IMPORTED_MODULE_0__","WrappedComponent","getComponents","bulkDeleteProjects","deleteProject","deletePortfolio","createProject","searchProjectTags","setProjectTags","getComponentTree","getChildren","getComponentLeaves","getComponent","getTree","getComponentData","doesComponentExists","getComponentShow","getParents","getBreadcrumbs","getMyProjects","searchProjects","changeKey","getSuggestions","getComponentForSourceViewer","getSources","getDuplications","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_0__","parameters","catch","portfolio","data","strategy","additional","metricKeys","join","ancestors","reverse","recentlyBrowsed","more","sources","SuggestionsContext","addSuggestions","removeSuggestions","suggestions","SearchIcon","SearchBox_SearchBox","_this","changeValue","debounced","minLength","onChange","debouncedOnChange","cancel","handleInputChange","handleInputKeyDown","keyCode","handleResetClick","onKeyDown","input","focus","debounce_default","inputClassName","touched","tooShort","aria-label","autoComplete","autoFocus","maxLength","onFocus","placeholder","buttons","searchIssues","getFacets","getFacet","searchIssueTags","getIssueChangelog","addIssueComment","deleteIssueComment","editIssueComment","setIssueAssignee","setIssueSeverity","setIssueTags","setIssueTransition","setIssueType","bulkChangeIssues","searchIssueAuthors","getIssueFlowSnippets","_helpers_request__WEBPACK_IMPORTED_MODULE_0__","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_1__","_components_SourceViewer_helpers_getCoverageStatus__WEBPACK_IMPORTED_MODULE_2__","facets","additionalFields","facet","tags","issue","changelog","issueKeys","issues","authors","issueKey","k","reduce","lineMap","coverageStatus","MessageLevel","closeGlobalMessage","closeAllGlobalMessages","addGlobalMessage","level","lodash_uniqueId__WEBPACK_IMPORTED_MODULE_0___default","addGlobalMessageActionCreator","addGlobalErrorMessage","Error","addGlobalSuccessMessage","Success","getGlobalMessages","HelpIcon","DocumentClickHandler_DocumentClickHandler","addClickHandler","handleDocumentClick","removeClickHandler","Toggler_Toggler","handleKeyDown","isTrueOrUndefined","closeOnEscape","OutsideClickHandler","onClickOutside","renderOverlay","x","middlewares","finalCreateStore","createStore","initialState","configureStore","store_appState","react_redux__WEBPACK_IMPORTED_MODULE_1__","classnames__WEBPACK_IMPORTED_MODULE_2__","_GenericAvatar__WEBPACK_IMPORTED_MODULE_3__","_store_rootReducer__WEBPACK_IMPORTED_MODULE_4__","Avatar","alt","src","collapsePath","limit","head","tail","middle","slice","cut","shift","collapsedDirFromPath","fileFromPath","splitPath","cutLongWords","str","word","limitComponentName","A11yContext","addA11ySkipLink","removeA11ySkipLink","links","basicCheckStatus","store_languages","fetchMetrics","api_metrics","store_metrics","fetchOrganizations","api_organizations","store_organizations","fetchOrganization","_ref2","_slicedToArray","navigation","organizationWithPermissions","fetchBranchStatus","projectKey","quality_gates","helpers_branches","projectStatus","ignoredConditions","conditions","qualityGates","doLogin","login","password","setMethod","setData","submit","auth_login","doLogout","requireAuthorization","registerBranchStatus","getOrganizations","getOrganization","getOrganizationNavigation","createOrganization","updateOrganization","deleteOrganization","searchMembers","addMember","removeMember","getOrganizationBilling","setOrganizationMemberSync","syncMembers","o","changes","p","PopupPlacement","Popup","_props$placement","no-padding","PopupArrow","InstanceMessage","_helpers_system__WEBPACK_IMPORTED_MODULE_0__","transformedMessage","getWrappedDisplayName","hocName","wrappedDisplayName","history__WEBPACK_IMPORTED_MODULE_1__","basename","STANDARDS","parseQuery","getOpen","areMyIssuesSelected","serializeQuery","areQueriesEqual","mapFacet","parseFacets","formatFacetStat","searchAssignees","isMySet","saveMyIssues","getLocations","getSelectedLocation","allLocationsEmpty","scrollToIssue","shouldOpenSeverityFacet","shouldOpenStandardsFacet","shouldOpenStandardsChildFacet","shouldOpenSonarSourceSecurityFacet","_api_organizations__WEBPACK_IMPORTED_MODULE_0__","_api_users__WEBPACK_IMPORTED_MODULE_1__","_helpers_measures__WEBPACK_IMPORTED_MODULE_2__","_helpers_query__WEBPACK_IMPORTED_MODULE_4__","_helpers_scrolling__WEBPACK_IMPORTED_MODULE_5__","STANDARD_TYPES","parseAsSort","assigned","assignees","createdAfter","createdAt","createdBefore","createdInLast","cwe","directories","files","fileUuids","modules","moduleUuids","owaspTop10","projects","resolutions","rules","sansTop25","severities","sinceLeakPeriod","sonarsourceSecurity","propertyMapping","val","count","finalProperty","property","stat","page","q","results","_ref3","selectedFlowIndex","flows","secondaryLocations","selectedLocationIndex","locations","every","msg","smooth","element","querySelector","topOffset","bottomOffset","openFacets","isFilteredBySecurityIssueTypes","isOneStandardChildFacetOpen","standardType","some","changePassword","getUserGroups","getIdentityProviders","searchUsers","createUser","updateUser","deactivateUser","skipOnboarding","setHomePage","setUserSetting","scmAccount","setting","sortProfiles","profiles","sorted","putProfile","profile","depth","parent","parentKey","childrenCount","isStagnant","rulesUpdatedAt","updateDate","_helpers_dates__WEBPACK_IMPORTED_MODULE_1__","Date","getProfilesPath","getProfilesForLanguagePath","getProfilePath","getProfileComparePath","withKey","getProfileChangelogPath","since","NavBar","followHorizontalScroll","documentElement","scrollLeft","throttledFollowHorizontalScroll","notif","navbar-inner-with-notif","queriesEqual","keysA","keysB","lodash_isEqual__WEBPACK_IMPORTED_MODULE_2___default","cleanQuery","lodash_omitBy__WEBPACK_IMPORTED_MODULE_0___default","lodash_isNil__WEBPACK_IMPORTED_MODULE_1___default","parseAsBoolean","defaultValue","parseAsOptionalBoolean","parseAsDate","date","_dates__WEBPACK_IMPORTED_MODULE_3__","parseAsString","parseAsOptionalString","parseAsArray","itemParser","serializeDate","serializer","toISOString","serializeDateShort","serializeString","serializeStringArray","serializeOptionalBoolean","SEVERITIES","ISSUE_TYPES","RULE_TYPES","RULE_STATUSES","RATING_COLORS","_app_theme__WEBPACK_IMPORTED_MODULE_0__","Actions","receiveCurrentUser","ReceiveCurrentUser","skipOnboardingAction","SkipOnboardingAction","_api_users__WEBPACK_IMPORTED_MODULE_3__","setCurrentUserSettingAction","SetCurrentUserSetting","SetHomePageAction","setHomePageAction","setCurrentUserSetting","oldSetting","_helpers_users__WEBPACK_IMPORTED_MODULE_2__","settings","redux__WEBPACK_IMPORTED_MODULE_1__","usersByLogin","userLogins","lodash_uniq__WEBPACK_IMPORTED_MODULE_0___default","showOnboardingTutorial","findIndex","fetchQualityGates","fetchQualityGate","createQualityGate","deleteQualityGate","renameQualityGate","copyQualityGate","setQualityGateAsDefault","createCondition","updateCondition","deleteCondition","getGateForProject","searchGates","associateGateWithProject","dissociateGateWithProject","getApplicationQualityGate","getQualityGateProjectStatus","qualityGate","isDefault","isWindow","getScroll","y","scrollTop","scrollElement","smoothScroll","target","scroll","positiveDirection","step","ceil","SCROLLING_DURATION","stepsDone","interval","setInterval","clearInterval","goal","min","max","smoothScrollTop","position","smoothScrollLeft","scrollToElement","opts","_element$getBoundingC","bottom","innerHeight","parentTop","scrollHorizontally","leftOffset","rightOffset","_element$getBoundingC2","right","innerWidth","parentLeft","lodash_debounce__WEBPACK_IMPORTED_MODULE_0___default","leading","GlobalFooterSonarCloud","get_year","react_router_es","GlobalFooterBranding","official","productionDatabase","sonarqubeEdition","edition","sonarqubeVersion","hideLoggedInInfo","currentEdition","ChevronRightIcon","_utils__WEBPACK_IMPORTED_MODULE_2__","_store_rootReducer__WEBPACK_IMPORTED_MODULE_3__","Wrapper","DEFAULT_CATEGORY","getPropertyName","getPropertyDescription","getCategoryName","getSubCategoryName","getSubCategoryDescription","getUniqueName","getSettingValue","isEmptyValue","isCategoryDefinition","getEmptyValue","isDefaultOrInherited","getDefaultValue","_helpers_l10n__WEBPACK_IMPORTED_MODULE_0__","description","subCategory","indexSuffix","fieldValues","multiValues","item","fields","field","inherited","parentFieldValues","parentValue","parentValues","OrganizationAvatar","_ui_GenericAvatar__WEBPACK_IMPORTED_MODULE_2__","imgLoadError","handleImgError","small","no-border","avatar","is-small","onError","setAppState","setAdminPages","_apps_marketplace_utils__WEBPACK_IMPORTED_MODULE_0__","SetAppState","adminPages","SetAdminPages","RequireAuthorization","authenticationError","authorizationError","defaultOrganization","community","qualifiers","getDefinitions","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_2__","getValues","setSettingValue","_apps_settings_utils__WEBPACK_IMPORTED_MODULE_3__","JSON","stringify","setSimpleSettingValue","resetSettingValue","sendTestEmail","subject","checkSecretKey","generateSecretKey","encryptValue","_app_theme__WEBPACK_IMPORTED_MODULE_2__","isDefined","receiveOrganizations","receiveMyOrganizations","byKey","my","redux__WEBPACK_IMPORTED_MODULE_3__","onReceiveOrganizations","admin","lodash_omit__WEBPACK_IMPORTED_MODULE_2___default","lodash_uniq__WEBPACK_IMPORTED_MODULE_1___default","lodash_without__WEBPACK_IMPORTED_MODULE_0___default","PROJECTS_DEFAULT_FILTER","PROJECTS_FAVORITE","PROJECTS_ALL","SORTING_METRICS","SORTING_LEAK_METRICS","class","SORTING_SWITCH","analysis_date","reliability","security","maintainability","coverage","duplications","new_reliability","new_security","new_maintainability","new_coverage","new_duplications","new_lines","VIEWS","label","VISUALIZATIONS","PAGE_SIZE","PAGE_SIZE_VISUALIZATIONS","METRICS","LEAK_METRICS","METRICS_BY_VISUALIZATION","risk","FACETS","LEAK_FACETS","REVERSED_FACETS","localizeSorting","parseSorting","desc","sortValue","sortDesc","fetchProjects","pageIndex","defaultData","_query__WEBPACK_IMPORTED_MODULE_1__","mapPropertyToMetric","asc","convertToSorting","convertToQueryData","defineFacets","f","_api_components__WEBPACK_IMPORTED_MODULE_4__","fetchProjectMeasures","fetchProjectOrganizations","_ref2$","getFacetsMap","componentMeasures","_helpers_measures__WEBPACK_IMPORTED_MODULE_6__","projectKeys","visualization","defineMetrics","_api_measures__WEBPACK_IMPORTED_MODULE_5__","_api_organizations__WEBPACK_IMPORTED_MODULE_3__","analysisDate","reliability_rating","new_reliability_rating","security_rating","new_security_rating","sqale_rating","new_maintainability_rating","duplicated_lines_density","new_duplicated_lines_density","ncloc","alert_status","mapMetricToProperty","mapFacetValues","gate","ONE_MINUTE","ONE_HOUR","ONE_DAY","ONE_MONTH","ONE_YEAR","ms","years","months","lastId","getMeasures","getMeasuresAndMeta","getMeasuresForProjects","getCustomMeasures","createCustomMeasure","updateCustomMeasure","deleteCustomMeasure","customMeasures","pageSize","stringToColor","charCodeAt","toString","isDarkColor","rgb","getTextColor","background","dark","light","GlobalNavBranding","customLogoUrl","customLogoWidth","urls","SonarCloudNavBranding","global_GlobalNavBranding","GlobalNavMenu_GlobalNavMenu","renderGlobalPageLink","active","startsWith","activeLink","canAdmin","_this$props$appState$","globalPages","withoutPortfolios","governanceInstalled","renderProjects","renderPortfolios","renderIssuesLink","renderRulesLink","renderProfilesLink","renderQualityGatesLink","renderAdministrationLink","renderMore","GlobalNavExplore","global_GlobalNavUser","handleLogin","handleLogout","hasOrganizations","email","sortBy_default","org","toLowerCase","OrganizationListItem","renderAuthenticated","renderAnonymous","GlobalNavUserContainer","SearchResults","SearchResult","components_search_Search","focusInput","handleClickOutside","closeSearch","handleFocus","click","openSearch","clear","shortQuery","getPlainComponentsList","search_utils","next","findFile","findInResults","file","stopLoading","RecentHistory","get","api_components","group","items","list","keyBy_default","warning","searchMore","loadingMore","moreResults","uniqBy_default","handleQueryChange","selectPrevious","selectNext","openSelected","scrollToSelected","nodes","scrolling","handleSelect","searchInputRef","renderResult","onClose","onSelect","renderNoResults","keymaster","_prevProps","SearchBox","allowMore","onMoreClick","ClockIcon","defaultMessage","shortcut","EmbedDocsPopup","EmbedDocsPopupHelper_EmbedDocsPopupHelper","helpOpen","onKeyPress","code","which","toggleHelp","setHelpDisplay","closeHelp","Toggler","GlobalNavPlus","NotificationsSidebar","NavLatestNotification","store_users","nav_global_GlobalNav","accessToken","notificationsLastReadDate","notificationsOptOut","dates","loadingNews","loadingMoreNews","news","notificationSidebar","fetchFeatureNews","api_news","newsRef","newsPaging","fetchMoreFeatureNews","handleOpenNotificationSidebar","handleCloseNotificationSidebar","lastNews","readDate","publicationDate","getTime","now","OnboardingContext","Consumer","data-test","openProjectOnboarding","OnboardingModal","LicensePromptModal","ModalKey","LICENSE_PROMPT","StartupModal_mapDispatchToProps","components_StartupModal","closeOnboarding","modal","license","closeLicense","openOnboarding","onboarding","tab","alm","tryAutoOpenLicense","hasLicenseManager","lastPrompt","marketplace","isValidEdition","tryAutoOpenOnboarding","Provider","onOpenProjectOnboarding","SuggestionsProvider_SuggestionsProvider","fetchSuggestions","jsonList","EmbedDocsSuggestions","suggestion","scope","newKey","oldKey","A11yProvider_A11yProvider","link","weight","l","A11ySkipLinks_A11ySkipLinks","WorkspacePortal_WorkspacePortal","classList","add","WORKSPACE","WorkspaceNav","WorkspaceRuleViewer","WorkspaceComponentViewer","MIN_HEIGHT","MAX_HEIGHT","INITIAL_HEIGHT","TYPE_KEY","Workspace_Workspace","loadWorkspace","parse","saveWorkspace","omit_default","openComponent","reopenComponent","openRule","reopenRule","ruleKey","closeComponent","closeRule","handleComponentLoad","details","handleRuleLoad","collapse","maximize","maximized","minimize","resize","deltaY","minHeight","maxHeight","context","onComponentClose","onComponentOpen","onRuleClose","onRuleOpen","onCollapse","onLoad","onMaximize","onMinimize","onResize","_props$footer","footer","GlobalFooterContainer","GlobalMessagesContainer","EditionKey","EDITIONS","homeUrl","developer","downloadUrl","enterprise","datacenter","getEditionUrl","querystring__WEBPACK_IMPORTED_MODULE_1__","_helpers_request__WEBPACK_IMPORTED_MODULE_3__","EXCLUDED_PLUGINS","filterPlugins","plugins","plugin","isPluginAvailable","release","isPluginInstalled","isPluginPending","updatedAt","lodash_memoize__WEBPACK_IMPORTED_MODULE_0___default","urlQuery","_helpers_query__WEBPACK_IMPORTED_MODULE_2__","OrganizationLink","react_router__WEBPACK_IMPORTED_MODULE_1__","getAllMetrics","getMetricDomains","getMetricTypes","createMetric","updateMetric","deleteMetric","prev","domains","WorkspaceContext","fetchIfAnyoneCanCreateOrganizations","_store_organizations__WEBPACK_IMPORTED_MODULE_1__","_api_settings__WEBPACK_IMPORTED_MODULE_2__","_settings_store_values__WEBPACK_IMPORTED_MODULE_3__","member","thin","sortByType","_constants__WEBPACK_IMPORTED_MODULE_2__","injectRelational","source","baseField","lookupField","newFields","baseValue","lookupValue","candidate","charAt","reverseLocations","parseIssueFromResponse","_splitFlows","parsedFlows","flow","textRange","componentName","lodash_flatten__WEBPACK_IMPORTED_MODULE_1___default","startLine","startOffset","splitFlows","comments","comment","commentWithAuthor","author","injectCommentsRelational","prepareClosed","endLine","endOffset","ensureTextRange","receiveValues","settingsByKey","lodash_keyBy__WEBPACK_IMPORTED_MODULE_0___default","_store_appState__WEBPACK_IMPORTED_MODULE_2__","react_dom__WEBPACK_IMPORTED_MODULE_1__","handleWindowClick","contains","_helpers_storage__WEBPACK_IMPORTED_MODULE_0__","RECENT_HISTORY","HISTORY_LIMIT","newHistory","icon","sonarHistory","newEntry","entry","unshift","set","_NavBar__WEBPACK_IMPORTED_MODULE_2__","react_redux__WEBPACK_IMPORTED_MODULE_0__","_components_lazyLoad__WEBPACK_IMPORTED_MODULE_1__","_store_rootReducer__WEBPACK_IMPORTED_MODULE_2__","receiveLanguages","getLanguageByKey","cancelChange","CancelChange","ChangeValue","failValidation","FailValidation","passValidation","PassValidation","startLoading","StartLoading","StopLoading","changedValues","validationMessages","lodash_omit__WEBPACK_IMPORTED_MODULE_0___default","_OrganizationLink__WEBPACK_IMPORTED_MODULE_1__","_common_OrganizationAvatar__WEBPACK_IMPORTED_MODULE_2__","_helpers_l10n__WEBPACK_IMPORTED_MODULE_3__","_organization$actions","shouldRequestFacet","getServerFacet","getAppFacet","_helpers_query__WEBPACK_IMPORTED_MODULE_0__","activationSeverities","active_severities","availableSince","available_since","compareToProfile","inheritance","parseAsInheritance","qprofile","repositories","searchQuery","template","is_template","serverFacet","fetchIssues","requestOrganizations","_store_rootReducer__WEBPACK_IMPORTED_MODULE_5__","_api_issues__WEBPACK_IMPORTED_MODULE_2__","parsedIssues","_helpers_issues__WEBPACK_IMPORTED_MODULE_7__","organizationKeys","_store_organizations__WEBPACK_IMPORTED_MODULE_8__","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_4__","fetchIssueOrganizations","userOrganizations","_components_lazyLoad__WEBPACK_IMPORTED_MODULE_6__","getCoverageStatus","lineHits","coveredConditions","parseUrlQuery","convertToFilter","hasFilterParams","hasVisualizationParams","_utils__WEBPACK_IMPORTED_MODULE_0__","getAsLevel","getAsNumericRating","getAsStringArray","getAsString","getVisualization","pushMetricToArray","convertCoverage","convertDuplications","convertSize","convertIssuesRating","convertArrayMetric","visualizationParams","num","conditionsArray","convertFunction","Array","isArray","GlobalMessages_GlobalMessage","handleClose","process-spinner-failed","process-spinner-success","messages","registerBranchStatusAction","_helpers_branches__WEBPACK_IMPORTED_MODULE_0__","RegisterBranchStatus","branchLikeKey","byComponent","receiveMetrics","receiveDefinitions","ReceiveDefinitions","lodash_keyBy__WEBPACK_IMPORTED_MODULE_2___default","getAllDefinitions","getDefinitionsForCategory","lodash_uniqBy__WEBPACK_IMPORTED_MODULE_0___default","categories","_utils__WEBPACK_IMPORTED_MODULE_3__","lodash_sortBy__WEBPACK_IMPORTED_MODULE_1___default","extractStatusConditionsFromProjectStatus","c","actual","actualValue","errorThreshold","op","comparator","isSameStatusConditionList","prevConditions","c1","c2","EDGE_MARGIN","_app_theme__WEBPACK_IMPORTED_MODULE_3__","ScreenPositionFixer","throttledPosition","_node$getBoundingClie","_document$body","clientHeight","clientWidth","GenericAvatar","_helpers_colors__WEBPACK_IMPORTED_MODULE_2__","text","words","backgroundColor","fontSize","fontWeight","lineHeight","textAlign","verticalAlign","ORDER","sortQualifiers","_Icon__WEBPACK_IMPORTED_MODULE_2__","stroke","cx","cy","fetchPrismicRefs","fetchPrismicNews","fetchPrismicFeatureNews","PRISMIC_API_URL","master","refs","tag","access_token","orderings","fetchLinks","results_per_page","total_results_size","notification","publication_date","features","feature","primary","readMore","read_more_link","isValidLicense","showLicense"],"mappings":"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","file":"js/app.m.043dd838.chunk.js","sourcesContent":["\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Tooltip.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Tooltip.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Tooltip.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".tooltip{position:absolute;z-index:8000;display:block;height:auto;box-sizing:border-box;font-size:12px;font-weight:300;line-height:1.5;animation:fadeIn .3s forwards}.tooltip.top{padding:5px 0;margin-top:-3px}.tooltip.right{padding:0 5px;margin-left:3px}.tooltip.bottom{padding:5px 0;margin-top:3px}.tooltip.left{padding:0 5px;margin-left:-3px}.tooltip-inner{max-width:300px;text-align:left;text-decoration:none;border-radius:4px;overflow:hidden;word-break:break-word;padding:12px 17px;color:#fff;background-color:#475760;letter-spacing:.04em}.tooltip-inner .alert{margin-bottom:5px;border-radius:4px}.tooltip-inner a{border-bottom-color:#8da6b3;color:#a5d0ea}.tooltip-inner hr{background-color:#5d6d75}.tooltip-arrow{position:absolute;width:0;height:0;border:solid transparent}.tooltip.top .tooltip-arrow{bottom:0;left:50%;border-width:5px 5px 0;transform:translateX(-5px);border-top-color:#475760}.tooltip.right .tooltip-arrow{top:50%;left:0;transform:translateY(-5px);border-width:5px 5px 5px 0;border-right-color:#475760}.tooltip.left .tooltip-arrow{top:50%;right:0;transform:translateY(-5px);border-width:5px 0 5px 5px;border-left-color:#475760}.tooltip.bottom .tooltip-arrow{top:0;left:50%;transform:translateX(-5px);border-width:0 5px 5px;border-bottom-color:#475760}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./popups.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./popups.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./popups.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".popup{position:absolute;z-index:5000;margin-top:-16px;margin-left:8px;padding:8px;border:1px solid #e6e6e6;border-radius:3px;box-sizing:border-box;background-color:#fff;box-shadow:0 6px 12px rgba(0,0,0,.175);cursor:default}.popup.no-padding{padding:0}.popup-arrow,.popup-arrow:after{position:absolute;display:block;width:0;height:0;border:6px solid transparent}.popup-arrow{top:15px;left:-6px;border-left-width:0;border-right-color:#e6e6e6}.popup-arrow:after{content:\\\" \\\";left:1px;bottom:-6px;border-left-width:0;border-right-color:#fff}.popup.is-bottom{top:100%;left:0;margin:0 0 0 50%;transform:translate(-50%,6px)}.popup.is-bottom .popup-arrow{top:-6px;left:calc(50% - 6px);border-left-width:6px;border-top-width:0;border-right-color:transparent;border-bottom-color:#e6e6e6}.popup.is-bottom .popup-arrow.is-left{left:8px}.popup.is-bottom .popup-arrow:after{left:-6px;bottom:-7px;border-left-width:6px;border-top-width:0;border-right-color:transparent;border-bottom-color:#fff}.popup.is-bottom-right{top:100%;right:0;margin:0;transform:translateY(6px)}.popup.is-bottom-right .popup-arrow{top:-6px;left:auto;right:8px;border-left-width:6px;border-top-width:0;border-right-color:transparent;border-bottom-color:#e6e6e6}.popup.is-bottom-right .popup-arrow:after{left:-6px;bottom:-7px;border-left-width:6px;border-top-width:0;border-right-color:transparent;border-bottom-color:#fff}.popup.is-bottom-left{top:100%;left:0;margin:0;transform:translate(-8px,6px)}.popup.is-bottom-left .popup-arrow{top:-6px;right:auto;left:8px;border-left-width:6px;border-top-width:0;border-right-color:transparent;border-bottom-color:#e6e6e6}.popup.is-bottom-left .popup-arrow:after{left:-6px;bottom:-7px;border-left-width:6px;border-top-width:0;border-right-color:transparent;border-bottom-color:#fff}.popup.is-left-top{top:-4px;right:100%;margin:0;transform:translateX(-6px)}.popup.is-left-top .popup-arrow{right:-6px;left:auto;top:8px;border-left-color:#e6e6e6}.popup.is-left-top .popup-arrow,.popup.is-left-top .popup-arrow:after{border-right-width:0;border-left-width:6px;border-right-color:transparent}.popup.is-left-top .popup-arrow:after{top:-6px;left:-7px;border-left-color:#fff}.popup.is-right-top{top:-4px;left:100%;margin:0;transform:translateX(6px)}.popup.is-right-top .popup-arrow{left:-6px;right:auto;top:8px;border-right-color:#e6e6e6}.popup.is-right-top .popup-arrow,.popup.is-right-top .popup-arrow:after{border-left-width:0;border-right-width:6px;border-left-color:transparent}.popup.is-right-top .popup-arrow:after{top:-6px;right:-7px;border-right-color:#fff}.popup:not(.no-padding)>.menu,.popup:not(.no-padding)>.multi-select{margin:-8px}\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./OrganizationAvatar.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./OrganizationAvatar.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./OrganizationAvatar.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".navbar-context-avatar{display:inline-flex;vertical-align:top;justify-content:center;align-items:center;width:32px;height:32px;border:1px solid #e6e6e6}.navbar-context-avatar.no-border{border:none}.navbar-context-avatar.is-small{width:16px;height:16px}.navbar-context-avatar img{vertical-align:top;max-width:100%;max-height:100%}.navbar-context-avatar img,.navbar-context-avatar svg{transform:none}\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./buttons.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./buttons.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./buttons.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".button{display:inline-flex;align-items:center;justify-content:center;vertical-align:middle;height:24px;line-height:22px;padding:0 12px;border:1px solid #236a97;border-radius:2px;box-sizing:border-box;background:transparent;color:#236a97;font-weight:600;font-size:12px;text-decoration:none;cursor:pointer;outline:none;transition:border-color .2s ease,box-shadow .2s ease}.button.button-active,.button:hover{background:#236a97;color:#fff}.button:active{box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.button:focus{box-shadow:0 0 0 3px rgba(35,106,151,.25)}.button.disabled,.button:disabled,.button:disabled:active,.button:disabled:focus,.button:disabled:hover{color:#bbb!important;border-color:#ddd!important;background:#ebebeb!important;cursor:not-allowed!important;box-shadow:none!important}.button-red{border-color:#d4333f;color:#d4333f}.button-red.active,.button-red:hover{background:#d4333f;color:#fff}.button-red:focus{box-shadow:0 0 0 3px rgba(212,51,63,.25)}.button-success{border-color:#0a0;color:#0a0}.button-success.active,.button-success:hover{background:#0a0;color:#fff}.button-success:focus{box-shadow:0 0 0 3px rgba(0,170,0,.25)}.button-grey{border-color:#b4b4b4;color:#777}.button-grey.active,.button-grey:hover{background:#b4b4b4;color:#fff}.button-grey:focus{box-shadow:0 0 0 3px hsla(0,0%,70.6%,.25)}.button-link{display:inline-flex;height:auto;line-height:1;margin:0;padding:0;border-radius:0;background:transparent;color:#236a97;border:none;border-bottom:1px solid #cae3f2;font-weight:400;font-size:inherit;transition:all .2s ease}.dropdown .button-link{border-bottom:none}.button-link:hover{background:transparent;color:#4b9fd5}.button-link:active,.button-link:focus{box-shadow:none;outline:thin dotted #ccc}.button-link:disabled,.button-link:disabled:active,.button-link:disabled:focus,.button-link:disabled:hover{color:#777;background:transparent!important;cursor:default}.button-small{height:20px;line-height:18px;padding:0 6px;font-size:11px}.button-tiny{height:16px;line-height:16px;padding:0 4px}.button-large{height:32px;padding:0 16px;font-size:14px}.button-huge{flex-direction:column;padding:16px;width:200px;height:200px;background-color:#fff;border:1px solid #fff;border-radius:3px;transition:all .2s ease;box-shadow:0 1px 1px 1px #e6e6e6}.button-huge:active,.button-huge:focus,.button-huge:hover{background-color:#fff;color:#236a97;box-shadow:0 6px 12px rgba(0,0,0,.175);transform:translateY(-2px)}.button-group{display:inline-block;vertical-align:middle;font-size:0;white-space:nowrap}.button-group>.button,.button-group>button{position:relative;z-index:2;display:inline-block;vertical-align:middle;margin:0;cursor:pointer}.button-group>.button.active:not(:disabled),.button-group>.button:active:not(:disabled),.button-group>.button:focus:not(:disabled),.button-group>.button:hover:not(:disabled){z-index:3}.button-group>.button:disabled{z-index:1}.button-group>.button:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.button-group>.button:not(:last-child):not(.dropdown-toggle){border-top-right-radius:0;border-bottom-right-radius:0}.button-group>.button+.button{margin-left:-1px}.button-group>a:not(.button){vertical-align:middle;margin:0 8px;font-size:12px}.button-icon{display:inline-flex;justify-content:center;align-items:center;vertical-align:middle;width:24px;height:24px;padding:0;border:none;color:inherit}.button-icon.button-small{width:20px;height:20px;padding:0}.button-icon.button-small svg{margin-top:0}.button-icon.button-tiny{width:16px;height:16px;padding:0}.button-icon.button-tiny svg{margin-top:0}.button-icon:focus,.button-icon:hover{background-color:currentColor}.button-icon:focus svg,.button-icon:hover svg{color:#fff}.button-list{display:inline-flex;justify-content:space-between;height:auto;border:1px solid #e6e6e6;padding:8px;margin:4px;color:#777;font-weight:400}.button-list:hover{background-color:#fff;border-color:#4b9fd5;color:#236a97}\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./SearchBox.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./SearchBox.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./SearchBox.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".search-box{position:relative;display:inline-block;vertical-align:middle;font-size:0;white-space:nowrap}.search-box,.search-box-input{width:100%;max-width:300px}.search-box-input{padding-left:24px!important;padding-right:24px!important;font-size:13px}.search-box-input::-webkit-search-cancel-button,.search-box-input::-webkit-search-decoration,.search-box-input::-webkit-search-results-button,.search-box-input::-webkit-search-results-decoration{-webkit-appearance:none;display:none}.search-box-input::-ms-clear,.search-box-input::-ms-reveal{display:none;width:0;height:0}.search-box-note{position:absolute;top:1px;left:40px;right:24px;line-height:24px;color:#777;font-size:12px;text-align:right;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;pointer-events:none}.search-box-input:focus~.search-box-magnifier{color:#4b9fd5}.search-box-magnifier{position:absolute;top:4px;left:4px;color:#999;transition:color .3s ease}.search-box>.spinner{position:absolute;top:4px;left:5px}.search-box-clear{position:absolute;top:4px;right:4px}.search-box-input-note{position:absolute;top:100%;left:0;line-height:1;color:#777;font-size:12px;white-space:nowrap}\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./Search.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./Search.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./Search.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".navbar-search{position:relative;padding:8px 0}.navbar-search .search-box,.navbar-search .search-box-input{width:26vw;max-width:310px;min-width:260px;height:32px}.navbar-search .search-box-input{border-color:#fff}.navbar-search .search-box-note{line-height:30px}.navbar-search .search-box-clear,.navbar-search .search-box-magnifier{top:8px}.navbar-search-input{vertical-align:middle;width:310px;margin-top:3px;margin-bottom:3px;padding-left:26px!important}.navbar-search-input-hint{position:absolute;top:1px;right:27px;line-height:24px;font-size:12px;color:#777}.navbar-search-icon{position:relative;z-index:3;vertical-align:middle;width:16px;margin-left:4px;margin-right:-20px;background-color:#fff;color:#777}.navbar-search-icon:before{font-size:14px}.navbar-search-item-link{display:flex!important}.navbar-search-item-match{flex-grow:5;overflow:hidden;text-overflow:ellipsis}.navbar-search-item-right{flex-grow:1;padding-left:10px;text-align:right}.navbar-search-item-icons{position:relative;flex-shrink:0;width:16px;height:16px}.navbar-search-item-icons>*{position:absolute;z-index:5;top:0;left:0}.navbar-search-item-icons>.icon-clock,.navbar-search-item-icons>.icon-outline{z-index:6;top:-4px;left:-5px}.navbar-search-no-results{margin-top:4px;padding:5px 10px}.global-navbar-search-dropdown{top:100%!important;max-height:80vh;width:440px;padding:0!important;overflow-y:auto;overflow-x:hidden}.global-navbar-search-dropdown .dropdown-bottom-hint{margin-bottom:0}\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./NavBar.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./NavBar.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./NavBar.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".navbar,[class*=\\\" navbar-\\\"],[class^=navbar-]{box-sizing:border-box}.navbar-inner{position:fixed;left:0;right:0}.ReactModal__Body--open .navbar-inner{padding-right:var(--sbw)}.navbar-limited{position:relative;min-width:1080px;max-width:1320px;margin-left:auto;margin-right:auto;padding-left:20px;padding-right:20px}\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./GlobalNav.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./GlobalNav.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./GlobalNav.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".navbar-global,.navbar-global .navbar-inner{background-color:#262626;z-index:421}.navbar-global .navbar-limited{display:flex}.navbar-brand{display:flex;justify-content:center;align-items:center;height:48px;margin-left:-8px;padding-top:4px;padding-left:8px;padding-right:8px;border-bottom:4px solid transparent}.navbar-login{margin-right:-10px;white-space:nowrap}.navbar-avatar{margin-right:-8px;padding:8px!important;border:none!important}.navbar-icon{display:inline-block;height:48px;padding:16px 12px!important;border-bottom:none!important;color:#fff!important}.navbar-plus{margin-right:-8px}.global-navbar-menu{display:flex;align-items:center;height:48px}.global-navbar-menu>li>a{display:block;height:48px;padding:8px 10px;line-height:32px;border-bottom:4px solid transparent;box-sizing:border-box;color:#ccc;font-size:12px;letter-spacing:.05em;white-space:nowrap}.global-navbar-menu>.dropdown.open>a,.global-navbar-menu>li>a.active,.global-navbar-menu>li>a:focus,.global-navbar-menu>li>a:hover,.navbar-brand:focus,.navbar-brand:hover{background-color:#020202}.global-navbar-menu>li>a.active{border-bottom-color:#646464}.global-navbar-menu-right{flex:1;justify-content:flex-end;margin-left:40px}.global-navbar-menu-right .navbar-search{flex:0 1 240px;min-width:0}.global-navbar-menu-right .navbar-search .search-box,.global-navbar-menu-right .navbar-search .search-box-input{min-width:0;width:100%}@media print{.navbar-global{display:none!important}}\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./GlobalMessages.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./GlobalMessages.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./GlobalMessages.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".processes-container{position:fixed;z-index:7000;top:0;left:50%;width:350px;margin-left:-175px}.process-spinner{position:relative;padding:0 10px;line-height:24px;border-radius:0 0 3px 3px;box-sizing:border-box;background-color:#f0e8ac;text-align:center;opacity:0;transition:all .2s ease}.process-spinner.shown{opacity:1}.process-spinner+.process-spinner{margin-top:5px;border-radius:3px}.process-spinner-failed{padding-right:30px;background-color:#d4333f;color:#fff}.process-spinner-success{padding-right:30px;background-color:#0a0;color:#fff}.process-spinner-close{position:absolute;top:2px;right:2px}.process-spinner-close:focus path,.process-spinner-close:hover path{fill:#d4333f!important}\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./A11ySkipLinks.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./A11ySkipLinks.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./A11ySkipLinks.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".a11y-skip-link{width:0;height:0;padding:8px;position:absolute;left:-9999px;top:-9999px;border:0;font-size:1rem;text-align:center;z-index:999}.a11y-skip-link:focus{width:auto;height:auto;left:6px;top:6px;color:#fff;text-decoration:underline}\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".workspace-nav{position:fixed;z-index:451;bottom:0;right:0;height:28px}.workspace-nav-list{float:right}.workspace-nav-item{position:relative;display:inline-flex;align-items:center;margin-right:8px}.workspace-nav-item-link{display:inline-flex;align-items:center;height:28px;padding:0 28px 0 8px;border:none;background-color:#404040;color:#fff;font-size:12px}.workspace-nav-item-link:focus,.workspace-nav-item-link:hover{color:#fff;opacity:.9}.workspace-nav-item-close{position:absolute;right:4px;top:4px}.workspace-viewer{position:fixed;z-index:450;bottom:0;left:0;right:0;box-sizing:border-box;background-color:#fff;box-shadow:0 -6px 12px rgba(0,0,0,.175)}.workspace-viewer-header{position:relative;height:30px;padding:3px 10px;box-sizing:border-box;background-color:#404040;color:#fff;font-weight:300}.workspace-viewer-name{float:left;line-height:24px;color:#fff;font-weight:400}.workspace-viewer-name i{margin-top:3px}.workspace-viewer-resize{position:absolute;top:3px;left:50%;width:30px;height:5px;margin-left:-15px;background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iNSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEuNDE0Ij48cGF0aCBmaWxsPSIjNzc3IiBmaWxsLW9wYWNpdHk9Ii41IiBkPSJNMCAwaDJ2Mkgwek00IDBoMnYySDR6TTggMGgydjJIOHpNMTIgMGgydjJoLTJ6TTE2IDBoMnYyaC0yek0yMCAwaDJ2MmgtMnpNMjQgMGgydjJoLTJ6TTI4IDBoMnYyaC0yek0wIDNoMnYySDB6TTQgM2gydjJINHpNOCAzaDJ2Mkg4ek0xMiAzaDJ2MmgtMnpNMTYgM2gydjJoLTJ6TTIwIDNoMnYyaC0yek0yNCAzaDJ2MmgtMnpNMjggM2gydjJoLTJ6Ii8+PHBhdGggZmlsbD0iIzc3NyIgZmlsbC1vcGFjaXR5PSIuNSIgZD0iTTAgMGgydjJIMHpNNCAwaDJ2Mkg0ek04IDBoMnYySDh6TTEyIDBoMnYyaC0yek0xNiAwaDJ2MmgtMnpNMjAgMGgydjJoLTJ6TTI0IDBoMnYyaC0yek0yOCAwaDJ2MmgtMnoiLz48L3N2Zz4=);cursor:ns-resize}.workspace-viewer-actions{float:right}.workspace-viewer-actions a{color:inherit}.workspace-header-icon:focus path,.workspace-header-icon:hover path{color:#404040}.workspace-viewer-container{height:calc(40vh - 30px);min-height:100px;max-height:calc(95vh - 30px);padding:5px 10px;overflow-y:scroll;overflow-x:auto;box-sizing:border-box}.with-workspace .source-viewer{padding-bottom:40vh}.with-workspace .workspace-viewer .source-viewer{padding-bottom:0}\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./ContextNavBar.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./ContextNavBar.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./ContextNavBar.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".navbar-context,.navbar-context .navbar-inner{background-color:#fff;z-index:420}.navbar-context .navbar-inner{padding-top:8px;border-bottom:1px solid #e6e6e6}.navbar-context .navbar-inner-with-notif{border-bottom:none}.navbar-context-justified{display:flex;justify-content:space-between}.navbar-context-header{display:flex;align-items:center;min-width:0;height:32px;font-size:16px}.navbar-context-header>:not(.navbar-context-header-breadcrumb-link){flex-shrink:0}.navbar-context-header-breadcrumb-link{min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.navbar-context-header .slash-separator{margin-left:8px;margin-right:8px;font-size:24px}.navbar-context-header .slash-separator:after{color:rgba(68,68,68,.2)}.navbar-context-meta{display:flex;align-items:center;height:32px;padding-left:20px;color:#777;font-size:12px;text-align:right}.navbar-context-meta-secondary{position:absolute;top:34px;right:0;padding:0 20px;white-space:nowrap}.navbar-context-description{display:inline-block;line-height:24px;margin-left:8px;padding-top:4px;color:#777;font-size:12px}\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./NavBarTabs.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./NavBarTabs.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./NavBarTabs.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".navbar-tabs{display:flex;align-items:center;clear:left;height:24px;margin-top:8px}.navbar-tabs>li+li{margin-left:20px}.navbar-tabs>li>a{display:block;height:24px;line-height:16px;padding-top:2px;border-bottom:3px solid transparent;box-sizing:border-box;color:#444;transition:none}.navbar-tabs>li>a.active,.navbar-tabs>li>a:focus,.navbar-tabs>li>a:hover{border-bottom-color:#4b9fd5}\", \"\"]);\n\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { WithRouterProps } from 'react-router';\nimport { getSystemStatus } from '../../helpers/system';\n\nexport default class MigrationContainer extends React.PureComponent<WithRouterProps> {\n  componentDidMount() {\n    if (getSystemStatus() !== 'UP') {\n      this.props.router.push({\n        pathname: '/maintenance',\n        query: {\n          return_to: window.location.pathname + window.location.search + window.location.hash\n        }\n      });\n    }\n  }\n\n  render() {\n    if (getSystemStatus() !== 'UP') {\n      return null;\n    }\n    return this.props.children;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { fetchLanguages } from '../../store/rootActions';\nimport { fetchMyOrganizations } from '../../apps/account/organizations/actions';\nimport { isSonarCloud } from '../../helpers/system';\nimport { lazyLoad } from '../../components/lazyLoad';\nimport { getCurrentUser, getAppState, getGlobalSettingValue, Store } from '../../store/rootReducer';\nimport { isLoggedIn } from '../../helpers/users';\n\nconst PageTracker = lazyLoad(() => import('./PageTracker'));\n\ninterface StateProps {\n  appState: T.AppState | undefined;\n  currentUser: T.CurrentUser | undefined;\n  enableGravatar: boolean;\n  gravatarServerUrl: string;\n}\n\ninterface DispatchProps {\n  fetchLanguages: () => Promise<void>;\n  fetchMyOrganizations: () => Promise<void>;\n}\n\ninterface OwnProps {\n  children: JSX.Element;\n}\n\ntype Props = StateProps & DispatchProps & OwnProps;\n\nclass App extends React.PureComponent<Props> {\n  mounted = false;\n\n  componentDidMount() {\n    this.mounted = true;\n    this.props.fetchLanguages();\n    this.setScrollbarWidth();\n    const { appState, currentUser } = this.props;\n    if (appState && isSonarCloud() && currentUser && isLoggedIn(currentUser)) {\n      this.props.fetchMyOrganizations();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  setScrollbarWidth = () => {\n    // See https://stackoverflow.com/questions/13382516/getting-scroll-bar-width-using-javascript\n    const outer = document.createElement('div');\n    outer.style.visibility = 'hidden';\n    outer.style.width = '100px';\n    outer.style.msOverflowStyle = 'scrollbar';\n\n    document.body.appendChild(outer);\n\n    const widthNoScroll = outer.offsetWidth;\n    outer.style.overflow = 'scroll';\n\n    const inner = document.createElement('div');\n    inner.style.width = '100%';\n    outer.appendChild(inner);\n\n    const widthWithScroll = inner.offsetWidth;\n\n    if (outer.parentNode) {\n      outer.parentNode.removeChild(outer);\n    }\n\n    document.body.style.setProperty('--sbw', `${widthNoScroll - widthWithScroll}px`);\n  };\n\n  renderPreconnectLink = () => {\n    const parser = document.createElement('a');\n    parser.href = this.props.gravatarServerUrl;\n    if (parser.hostname !== window.location.hostname) {\n      return <link href={parser.origin} rel=\"preconnect\" />;\n    } else {\n      return null;\n    }\n  };\n\n  render() {\n    return (\n      <>\n        <PageTracker>{this.props.enableGravatar && this.renderPreconnectLink()}</PageTracker>\n        {this.props.children}\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store): StateProps => {\n  const enableGravatar = getGlobalSettingValue(state, 'sonar.lf.enableGravatar');\n  const gravatarServerUrl = getGlobalSettingValue(state, 'sonar.lf.gravatarServerUrl');\n  return {\n    appState: getAppState(state),\n    currentUser: getCurrentUser(state),\n    enableGravatar: Boolean(enableGravatar && enableGravatar.value === 'true'),\n    gravatarServerUrl: (gravatarServerUrl && gravatarServerUrl.value) || ''\n  };\n};\n\nconst mapDispatchToProps = ({\n  fetchLanguages,\n  fetchMyOrganizations\n} as any) as DispatchProps;\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(App);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from '../../components/lazyLoad';\nimport { isSonarCloud } from '../../helpers/system';\n\nconst routes = [\n  {\n    indexRoute: {\n      component: lazyLoad(() =>\n        isSonarCloud() ? import('./sonarcloud/Home') : import('./components/AboutApp')\n      )\n    },\n    childRoutes: isSonarCloud()\n      ? [\n          {\n            path: 'contact',\n            component: lazyLoad(() => import('./sonarcloud/Contact'))\n          },\n          {\n            path: 'pricing',\n            component: lazyLoad(() => import('./sonarcloud/Pricing'))\n          },\n          {\n            path: 'sq',\n            childRoutes: [\n              { indexRoute: { component: lazyLoad(() => import('./sonarcloud/SQHome')) } },\n              {\n                path: 'as-a-service',\n                component: lazyLoad(() => import('./sonarcloud/AsAService'))\n              },\n              {\n                path: 'branch-analysis-and-pr-decoration',\n                component: lazyLoad(() => import('./sonarcloud/BranchAnalysis'))\n              },\n              {\n                path: 'sonarlint-integration',\n                component: lazyLoad(() => import('./sonarcloud/SonarLintIntegration'))\n              },\n              {\n                path: 'vsts',\n                component: lazyLoad(() => import('./sonarcloud/AzureDevOps'))\n              }\n            ]\n          }\n        ]\n      : []\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from '../../components/lazyLoad';\n\nconst routes = [\n  {\n    component: lazyLoad(() => import('./components/Account')),\n    childRoutes: [\n      {\n        indexRoute: { component: lazyLoad(() => import('./profile/Profile')) }\n      },\n      {\n        path: 'security',\n        component: lazyLoad(() => import('./components/Security'))\n      },\n      {\n        path: 'projects',\n        component: lazyLoad(() => import('./projects/ProjectsContainer'))\n      },\n      {\n        path: 'notifications',\n        component: lazyLoad(() => import('./notifications/NotificationsContainer'))\n      },\n      {\n        path: 'organizations',\n        component: lazyLoad(() => import('./organizations/UserOrganizations'))\n      }\n    ]\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from '../../components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/BackgroundTasksApp')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from '../../components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { RouterState, RedirectFunction } from 'react-router';\nimport { parseQuery, serializeQuery } from './query';\nimport { lazyLoad } from '../../components/lazyLoad';\nimport { RawQuery } from '../../helpers/query';\n\nfunction parseHash(hash: string): RawQuery {\n  const query: RawQuery = {};\n  const parts = hash.split('|');\n  parts.forEach(part => {\n    const tokens = part.split('=');\n    if (tokens.length === 2) {\n      query[decodeURIComponent(tokens[0])] = decodeURIComponent(tokens[1]);\n    }\n  });\n  return query;\n}\n\nconst routes = [\n  {\n    indexRoute: {\n      onEnter: (nextState: RouterState, replace: RedirectFunction) => {\n        const { hash } = window.location;\n        if (hash.length > 1) {\n          const query = parseHash(hash.substr(1));\n          const normalizedQuery = {\n            ...serializeQuery(parseQuery(query)),\n            open: query.open\n          };\n          replace({ pathname: nextState.location.pathname, query: normalizedQuery });\n        }\n      },\n      component: lazyLoad(() => import('./components/App'))\n    }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { RouterState, RedirectFunction } from 'react-router';\nimport { lazyLoad } from '../../components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/App')) }\n  },\n  {\n    path: 'domain/:domainName',\n    onEnter(nextState: RouterState, replace: RedirectFunction) {\n      replace({\n        pathname: '/component_measures',\n        query: {\n          ...nextState.location.query,\n          metric: nextState.params.domainName\n        }\n      });\n    }\n  },\n  {\n    path: 'metric/:metricKey(/:view)',\n    onEnter(nextState: RouterState, replace: RedirectFunction) {\n      if (nextState.params.view === 'history') {\n        replace({\n          pathname: '/project/activity',\n          query: {\n            id: nextState.location.query.id,\n            graph: 'custom',\n            custom_metrics: nextState.params.metricKey\n          }\n        });\n      } else {\n        replace({\n          pathname: '/component_measures',\n          query: {\n            ...nextState.location.query,\n            metric: nextState.params.metricKey,\n            view: nextState.params.view\n          }\n        });\n      }\n    }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from '../../components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from '../../components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport * as theme from '../../app/theme';\nimport ContextNavBar from '../../components/nav/ContextNavBar';\nimport NavBarTabs from '../../components/nav/NavBarTabs';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  children: JSX.Element;\n}\n\nexport default function Explore(props: Props) {\n  return (\n    <div id=\"explore\">\n      <ContextNavBar height={theme.contextNavHeightRaw} id=\"explore-navigation\">\n        <header className=\"navbar-context-header\">\n          <h1>{translate('explore')}</h1>\n        </header>\n\n        <NavBarTabs>\n          <li>\n            <Link activeClassName=\"active\" to=\"/explore/projects\">\n              {translate('projects.page')}\n            </Link>\n          </li>\n          <li>\n            <Link\n              activeClassName=\"active\"\n              to={{ pathname: '/explore/issues', query: { resolved: 'false' } }}>\n              {translate('issues.page')}\n            </Link>\n          </li>\n        </NavBarTabs>\n      </ContextNavBar>\n\n      {props.children}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport AppContainer from '../issues/components/AppContainer';\nimport { RawQuery } from '../../helpers/query';\n\ninterface Props {\n  location: { pathname: string; query: RawQuery };\n}\n\nexport default function ExploreIssues(props: Props) {\n  return (\n    <AppContainer hideAuthorFacet={true} multiOrganizations={true} myIssues={false} {...props} />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport AllProjectsContainer from '../projects/components/AllProjectsContainer';\nimport { RawQuery } from '../../helpers/query';\n\ninterface Props {\n  location: { pathname: string; query: RawQuery };\n}\n\nexport default function ExploreProjects(props: Props) {\n  return (\n    <AllProjectsContainer\n      isFavorite={false}\n      organization={undefined}\n      storageOptionsSuffix=\"explore\"\n      {...props}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport AppContainer from './components/AppContainer';\nimport { isSonarCloud } from '../../helpers/system';\nimport { isLoggedIn } from '../../helpers/users';\nimport { withCurrentUser } from '../../components/hoc/withCurrentUser';\nimport { Location } from '../../components/hoc/withRouter';\n\nexport interface Props {\n  currentUser: T.CurrentUser;\n  location: Location;\n}\n\nexport function IssuesPage({ currentUser, location }: Props) {\n  const myIssues = (isLoggedIn(currentUser) && isSonarCloud()) || undefined;\n  return <AppContainer location={location} myIssues={myIssues} />;\n}\n\nexport default withCurrentUser(IssuesPage);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from '../../components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./AppContainer')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from '../../components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from '../../components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from '../../components/lazyLoad';\nimport { isSonarCloud } from '../../helpers/system';\n\nconst routes = [\n  {\n    indexRoute: {\n      component: lazyLoad(() =>\n        isSonarCloud() ? import('./onboarding/OnboardingPage') : import('./ProjectOnboardingPage')\n      )\n    }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from '../../components/lazyLoad';\n\nconst App = lazyLoad(() => import('./components/App'));\n\nconst routes = [{ indexRoute: { component: App } }, { path: 'show/:id', component: App }];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from '../../components/lazyLoad';\n\nconst routes = [\n  {\n    component: lazyLoad(() => import('./components/AppContainer')),\n    indexRoute: { component: lazyLoad(() => import('./home/HomeContainer')) },\n    childRoutes: [\n      {\n        component: lazyLoad(() => import('./components/ProfileContainer')),\n        childRoutes: [\n          {\n            path: 'show',\n            component: lazyLoad(() => import('./details/ProfileDetails'))\n          },\n          {\n            path: 'changelog',\n            component: lazyLoad(() => import('./changelog/ChangelogContainer'))\n          },\n          {\n            path: 'compare',\n            component: lazyLoad(() => import('./compare/ComparisonContainer'))\n          }\n        ]\n      }\n    ]\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from '../../components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { RouterState, RedirectFunction } from 'react-router';\nimport codingRulesRoutes from '../coding-rules/routes';\nimport qualityGatesRoutes from '../quality-gates/routes';\nimport qualityProfilesRoutes from '../quality-profiles/routes';\nimport webhooksRoutes from '../webhooks/routes';\nimport { lazyLoad } from '../../components/lazyLoad';\n\nconst OrganizationContainer = lazyLoad(() => import('./components/OrganizationContainer'));\n\nconst routes = [\n  {\n    path: ':organizationKey',\n    component: lazyLoad(() => import('./components/OrganizationPage')),\n    childRoutes: [\n      {\n        indexRoute: {\n          onEnter(nextState: RouterState, replace: RedirectFunction) {\n            const { params } = nextState;\n            replace(`/organizations/${params.organizationKey}/projects`);\n          }\n        }\n      },\n      {\n        path: 'projects',\n        component: OrganizationContainer,\n        childRoutes: [\n          { indexRoute: { component: lazyLoad(() => import('./components/OrganizationProjects')) } }\n        ]\n      },\n      {\n        path: 'issues',\n        component: OrganizationContainer,\n        childRoutes: [\n          { indexRoute: { component: lazyLoad(() => import('../issues/components/AppContainer')) } }\n        ]\n      },\n      {\n        path: 'rules',\n        component: OrganizationContainer,\n        childRoutes: codingRulesRoutes\n      },\n      {\n        path: 'members',\n        component: lazyLoad(() => import('../organizationMembers/OrganizationMembersContainer'))\n      },\n      {\n        path: 'quality_profiles',\n        childRoutes: qualityProfilesRoutes\n      },\n      {\n        path: 'quality_gates',\n        component: OrganizationContainer,\n        childRoutes: qualityGatesRoutes\n      },\n      {\n        component: lazyLoad(() =>\n          import('./components/OrganizationAccessContainer').then(lib => ({\n            default: lib.OrganizationAdminAccess\n          }))\n        ),\n        childRoutes: [\n          { path: 'delete', component: lazyLoad(() => import('./components/OrganizationDelete')) },\n          { path: 'edit', component: lazyLoad(() => import('./components/OrganizationEdit')) },\n          { path: 'groups', component: lazyLoad(() => import('../groups/components/App')) },\n          {\n            path: 'permissions',\n            component: lazyLoad(() => import('../permissions/global/components/App'))\n          },\n          {\n            path: 'permission_templates',\n            component: lazyLoad(() => import('../permission-templates/components/App'))\n          },\n          {\n            path: 'projects_management',\n            component: lazyLoad(() => import('../projectsManagement/AppContainer'))\n          },\n          { path: 'webhooks', childRoutes: webhooksRoutes },\n          {\n            path: 'extension/:pluginKey/:extensionKey',\n            component: lazyLoad(() =>\n              import('../../app/components/extensions/OrganizationPageExtension')\n            )\n          }\n        ]\n      }\n    ]\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from '../../components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from '../../components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from '../../components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: {\n      component: lazyLoad(() => import('./components/ProjectActivityAppContainer'))\n    }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from '../../components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/AppContainer')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from '../../components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from '../../components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport AllProjectsContainer from './AllProjectsContainer';\nimport { PROJECTS_DEFAULT_FILTER, PROJECTS_FAVORITE, PROJECTS_ALL } from '../utils';\nimport { get } from '../../../helpers/storage';\nimport { searchProjects } from '../../../api/components';\nimport { isSonarCloud } from '../../../helpers/system';\nimport { isLoggedIn } from '../../../helpers/users';\nimport { withRouter, Location, Router } from '../../../components/hoc/withRouter';\n\ninterface Props {\n  currentUser: T.CurrentUser;\n  location: Pick<Location, 'pathname' | 'query'>;\n  router: Pick<Router, 'replace'>;\n}\n\ninterface State {\n  shouldBeRedirected?: boolean;\n  shouldForceSorting?: string;\n}\n\nexport class DefaultPageSelector extends React.PureComponent<Props, State> {\n  state: State = {};\n\n  componentDidMount() {\n    if (isSonarCloud() && !isLoggedIn(this.props.currentUser)) {\n      this.props.router.replace('/explore/projects');\n    }\n\n    if (!isSonarCloud()) {\n      this.defineIfShouldBeRedirected();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (!isSonarCloud()) {\n      if (prevProps.location !== this.props.location) {\n        this.defineIfShouldBeRedirected();\n      } else if (this.state.shouldBeRedirected === true) {\n        this.props.router.replace({ ...this.props.location, pathname: '/projects/favorite' });\n      } else if (this.state.shouldForceSorting != null) {\n        this.props.router.replace({\n          ...this.props.location,\n          query: {\n            ...this.props.location.query,\n            sort: this.state.shouldForceSorting\n          }\n        });\n      }\n    }\n  }\n\n  isFavoriteSet = (): boolean => {\n    const setting = get(PROJECTS_DEFAULT_FILTER);\n    return setting === PROJECTS_FAVORITE;\n  };\n\n  isAllSet = (): boolean => {\n    const setting = get(PROJECTS_DEFAULT_FILTER);\n    return setting === PROJECTS_ALL;\n  };\n\n  defineIfShouldBeRedirected() {\n    if (Object.keys(this.props.location.query).length > 0) {\n      // show ALL projects when there are some filters\n      this.setState({ shouldBeRedirected: false, shouldForceSorting: undefined });\n    } else if (!isLoggedIn(this.props.currentUser)) {\n      // show ALL projects if user is anonymous\n      if (!this.props.location.query || !this.props.location.query.sort) {\n        // force default sorting to last analysis date\n        this.setState({ shouldBeRedirected: false, shouldForceSorting: '-analysis_date' });\n      } else {\n        this.setState({ shouldBeRedirected: false, shouldForceSorting: undefined });\n      }\n    } else if (this.isFavoriteSet()) {\n      // show FAVORITE projects if \"favorite\" setting is explicitly set\n      this.setState({ shouldBeRedirected: true, shouldForceSorting: undefined });\n    } else if (this.isAllSet()) {\n      // show ALL projects if \"all\" setting is explicitly set\n      this.setState({ shouldBeRedirected: false, shouldForceSorting: undefined });\n    } else {\n      // otherwise, request favorites\n      this.setState({ shouldBeRedirected: undefined, shouldForceSorting: undefined });\n      searchProjects({ filter: 'isFavorite', ps: 1 }).then(r => {\n        // show FAVORITE projects if there are any\n        this.setState({ shouldBeRedirected: r.paging.total > 0, shouldForceSorting: undefined });\n      });\n    }\n  }\n\n  render() {\n    if (isSonarCloud() && isLoggedIn(this.props.currentUser)) {\n      return (\n        <AllProjectsContainer\n          isFavorite={true}\n          location={this.props.location}\n          organization={undefined}\n        />\n      );\n    }\n\n    const { shouldBeRedirected, shouldForceSorting } = this.state;\n\n    if (\n      shouldBeRedirected !== undefined &&\n      shouldBeRedirected !== true &&\n      shouldForceSorting === undefined\n    ) {\n      return (\n        <AllProjectsContainer\n          isFavorite={false}\n          location={this.props.location}\n          organization={undefined}\n        />\n      );\n    }\n\n    return null;\n  }\n}\n\nexport default withRouter(DefaultPageSelector);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport DefaultPageSelector from './DefaultPageSelector';\nimport { getCurrentUser, Store } from '../../../store/rootReducer';\n\nconst stateToProps = (state: Store) => ({\n  currentUser: getCurrentUser(state)\n});\n\nexport default connect(stateToProps)(DefaultPageSelector);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { RouterState, RedirectFunction } from 'react-router';\nimport DefaultPageSelectorContainer from './components/DefaultPageSelectorContainer';\nimport FavoriteProjectsContainer from './components/FavoriteProjectsContainer';\nimport { PROJECTS_DEFAULT_FILTER, PROJECTS_ALL } from './utils';\nimport { save } from '../../helpers/storage';\nimport { lazyLoad } from '../../components/lazyLoad';\nimport { isDefined } from '../../helpers/types';\n\nconst routes = [\n  { indexRoute: { component: DefaultPageSelectorContainer } },\n  {\n    path: 'all',\n    onEnter(_: RouterState, replace: RedirectFunction) {\n      save(PROJECTS_DEFAULT_FILTER, PROJECTS_ALL);\n      replace('/projects');\n    }\n  },\n  { path: 'favorite', component: FavoriteProjectsContainer },\n  {\n    path: 'create',\n    component: lazyLoad(() => import('../create/project/CreateProjectPage'))\n  }\n].filter(isDefined);\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport AllProjectsContainer from './AllProjectsContainer';\n\nexport default function FavoriteProjectsContainer(props: any) {\n  return <AllProjectsContainer isFavorite={true} {...props} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from '../../components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./AppContainer')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from '../../components/lazyLoad';\n\nconst routes = [\n  {\n    path: 'new',\n    component: lazyLoad(() => import('./components/LoginContainer'))\n  },\n  {\n    path: 'logout',\n    component: lazyLoad(() => import('./components/Logout'))\n  },\n  {\n    path: 'unauthorized',\n    component: lazyLoad(() => import('./components/Unauthorized'))\n  },\n  {\n    path: 'email_already_exists',\n    component: lazyLoad(() => import('./components/EmailAlreadyExists'))\n  },\n  {\n    path: 'update_login',\n    component: lazyLoad(() => import('./components/UpdateLogin'))\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from '../../components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/AppContainer')) }\n  },\n  {\n    path: 'encryption',\n    component: lazyLoad(() => import('./encryption/EncryptionApp'))\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from '../../components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/App')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from '../../components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./UsersAppContainer')) }\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from '../../components/lazyLoad';\n\nconst routes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./components/WebApiApp')) }\n  },\n  {\n    path: '**',\n    component: lazyLoad(() => import('./components/WebApiApp'))\n  }\n];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from '../../components/lazyLoad';\n\nconst App = lazyLoad(() => import(/* webpackChunkName: \"docs\" */ './components/App'));\n\nconst routes = [{ indexRoute: { component: App } }, { path: '**', indexRoute: { component: App } }];\n\nexport default routes;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { IndexRoute } from 'react-router';\nimport { lazyLoad } from '../../components/lazyLoad';\n\nexport const maintenanceRoutes = (\n  <IndexRoute component={lazyLoad(() => import('./components/MaintenanceAppContainer'))} />\n);\n\nexport const setupRoutes = (\n  <IndexRoute component={lazyLoad(() => import('./components/SetupAppContainer'))} />\n);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from '../../components/lazyLoad';\n\nexport const globalPermissionsRoutes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./global/components/App')) }\n  }\n];\n\nexport const projectPermissionsRoutes = [\n  {\n    indexRoute: { component: lazyLoad(() => import('./project/components/AppContainer')) }\n  }\n];\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n/* eslint-disable react/jsx-sort-props */\nimport * as React from 'react';\nimport { render } from 'react-dom';\nimport { Router, Route, IndexRoute, Redirect, RouteProps, RouteConfig } from 'react-router';\nimport { Provider } from 'react-redux';\nimport { IntlProvider } from 'react-intl';\nimport { Location } from 'history';\nimport getStore from './getStore';\nimport getHistory from './getHistory';\nimport MigrationContainer from '../components/MigrationContainer';\nimport App from '../components/App';\nimport GlobalContainer from '../components/GlobalContainer';\nimport aboutRoutes from '../../apps/about/routes';\nimport accountRoutes from '../../apps/account/routes';\nimport backgroundTasksRoutes from '../../apps/background-tasks/routes';\nimport codeRoutes from '../../apps/code/routes';\nimport codingRulesRoutes from '../../apps/coding-rules/routes';\nimport componentMeasuresRoutes from '../../apps/component-measures/routes';\nimport customMeasuresRoutes from '../../apps/custom-measures/routes';\nimport groupsRoutes from '../../apps/groups/routes';\nimport Issues from '../../apps/issues/components/AppContainer';\nimport Explore from '../../apps/explore/Explore';\nimport ExploreIssues from '../../apps/explore/ExploreIssues';\nimport ExploreProjects from '../../apps/explore/ExploreProjects';\nimport IssuesPageSelector from '../../apps/issues/IssuesPageSelector';\nimport marketplaceRoutes from '../../apps/marketplace/routes';\nimport customMetricsRoutes from '../../apps/custom-metrics/routes';\nimport overviewRoutes from '../../apps/overview/routes';\nimport onboardingRoutes from '../../apps/tutorials/routes';\nimport organizationsRoutes from '../../apps/organizations/routes';\nimport permissionTemplatesRoutes from '../../apps/permission-templates/routes';\nimport portfolioRoutes from '../../apps/portfolio/routes';\nimport projectActivityRoutes from '../../apps/projectActivity/routes';\nimport projectBranchesRoutes from '../../apps/projectBranches/routes';\nimport projectQualityGateRoutes from '../../apps/projectQualityGate/routes';\nimport projectQualityProfilesRoutes from '../../apps/projectQualityProfiles/routes';\nimport projectsRoutes from '../../apps/projects/routes';\nimport projectsManagementRoutes from '../../apps/projectsManagement/routes';\nimport qualityGatesRoutes from '../../apps/quality-gates/routes';\nimport qualityProfilesRoutes from '../../apps/quality-profiles/routes';\nimport sessionsRoutes from '../../apps/sessions/routes';\nimport settingsRoutes from '../../apps/settings/routes';\nimport systemRoutes from '../../apps/system/routes';\nimport usersRoutes from '../../apps/users/routes';\nimport webAPIRoutes from '../../apps/web-api/routes';\nimport documentationRoutes from '../../apps/documentation/routes';\nimport webhooksRoutes from '../../apps/webhooks/routes';\nimport { maintenanceRoutes, setupRoutes } from '../../apps/maintenance/routes';\nimport { globalPermissionsRoutes, projectPermissionsRoutes } from '../../apps/permissions/routes';\nimport { lazyLoad } from '../../components/lazyLoad';\nimport { isSonarCloud } from '../../helpers/system';\n\nfunction handleUpdate(this: { state: { location: Location } }) {\n  const { action } = this.state.location;\n\n  if (action === 'PUSH') {\n    window.scrollTo(0, 0);\n  }\n}\n\n// this is not an official api\nconst RouteWithChildRoutes = Route as React.ComponentClass<\n  RouteProps & { childRoutes: RouteConfig }\n>;\n\nexport default function startReactApp(\n  lang: string,\n  currentUser?: T.CurrentUser,\n  appState?: T.AppState\n) {\n  const el = document.getElementById('content');\n\n  const history = getHistory();\n  const store = getStore(currentUser, appState);\n\n  render(\n    <Provider store={store}>\n      <IntlProvider defaultLocale={lang} locale={lang}>\n        <Router history={history} onUpdate={handleUpdate}>\n          <Route\n            path=\"/account/issues\"\n            onEnter={(_, replace) => {\n              replace({ pathname: '/issues', query: { myIssues: 'true', resolved: 'false' } });\n            }}\n          />\n\n          <Route\n            path=\"/codingrules\"\n            onEnter={(_, replace) => {\n              replace('/coding_rules' + window.location.hash);\n            }}\n          />\n\n          <Route\n            path=\"/dashboard/index/:key\"\n            onEnter={(nextState, replace) => {\n              replace({ pathname: '/dashboard', query: { id: nextState.params.key } });\n            }}\n          />\n\n          <Route\n            path=\"/issues/search\"\n            onEnter={(_, replace) => {\n              replace('/issues' + window.location.hash);\n            }}\n          />\n\n          <Redirect from=\"/admin\" to=\"/admin/settings\" />\n          <Redirect from=\"/background_tasks\" to=\"/admin/background_tasks\" />\n          <Redirect from=\"/component/index\" to=\"/component\" />\n          <Redirect from=\"/component_issues\" to=\"/project/issues\" />\n          <Redirect from=\"/dashboard/index\" to=\"/dashboard\" />\n          <Redirect from=\"/governance\" to=\"/portfolio\" />\n          <Redirect from=\"/groups\" to=\"/admin/groups\" />\n          <Redirect from=\"/extension/governance/portfolios\" to=\"/portfolios\" />\n          <Redirect from=\"/metrics\" to=\"/admin/custom_metrics\" />\n          <Redirect from=\"/permission_templates\" to=\"/admin/permission_templates\" />\n          <Redirect from=\"/profiles/index\" to=\"/profiles\" />\n          <Redirect from=\"/projects_admin\" to=\"/admin/projects_management\" />\n          <Redirect from=\"/quality_gates/index\" to=\"/quality_gates\" />\n          <Redirect from=\"/roles/global\" to=\"/admin/permissions\" />\n          <Redirect from=\"/admin/roles/global\" to=\"/admin/permissions\" />\n          <Redirect from=\"/settings\" to=\"/admin/settings\" />\n          <Redirect from=\"/settings/encryption\" to=\"/admin/settings/encryption\" />\n          <Redirect from=\"/settings/index\" to=\"/admin/settings\" />\n          <Redirect from=\"/sessions/login\" to=\"/sessions/new\" />\n          <Redirect from=\"/system\" to=\"/admin/system\" />\n          <Redirect from=\"/system/index\" to=\"/admin/system\" />\n          <Redirect from=\"/view\" to=\"/portfolio\" />\n          <Redirect from=\"/users\" to=\"/admin/users\" />\n\n          <Route\n            path=\"markdown/help\"\n            component={lazyLoad(() => import('../components/MarkdownHelp'))}\n          />\n\n          <Route component={lazyLoad(() => import('../components/SimpleContainer'))}>\n            <Route path=\"maintenance\">{maintenanceRoutes}</Route>\n            <Route path=\"setup\">{setupRoutes}</Route>\n          </Route>\n\n          <Route component={MigrationContainer}>\n            <Route component={lazyLoad(() => import('../components/SimpleSessionsContainer'))}>\n              <RouteWithChildRoutes path=\"/sessions\" childRoutes={sessionsRoutes} />\n            </Route>\n\n            <Route path=\"/\" component={App}>\n              <IndexRoute component={lazyLoad(() => import('../components/Landing'))} />\n              <RouteWithChildRoutes path=\"about\" childRoutes={aboutRoutes} />\n\n              <Route component={GlobalContainer}>\n                <RouteWithChildRoutes path=\"account\" childRoutes={accountRoutes} />\n                {!isSonarCloud() && (\n                  <RouteWithChildRoutes path=\"coding_rules\" childRoutes={codingRulesRoutes} />\n                )}\n                <RouteWithChildRoutes path=\"documentation\" childRoutes={documentationRoutes} />\n                <Route path=\"explore\" component={Explore}>\n                  <Route path=\"issues\" component={ExploreIssues} />\n                  <Route path=\"projects\" component={ExploreProjects} />\n                </Route>\n                <Route\n                  path=\"extension/:pluginKey/:extensionKey\"\n                  component={lazyLoad(() => import('../components/extensions/GlobalPageExtension'))}\n                />\n                <Route path=\"issues\" component={IssuesPageSelector} />\n                <RouteWithChildRoutes path=\"onboarding\" childRoutes={onboardingRoutes} />\n                {isSonarCloud() && (\n                  <>\n                    <Route\n                      path=\"create-organization\"\n                      component={lazyLoad(() =>\n                        import('../../apps/create/organization/CreateOrganization')\n                      )}\n                    />\n                    <Route\n                      path=\"feedback/downgrade\"\n                      component={lazyLoad(() =>\n                        import('../../apps/feedback/downgrade/DowngradeFeedback')\n                      )}\n                    />\n                  </>\n                )}\n                <RouteWithChildRoutes path=\"organizations\" childRoutes={organizationsRoutes} />\n                <RouteWithChildRoutes path=\"projects\" childRoutes={projectsRoutes} />\n                <RouteWithChildRoutes path=\"quality_gates\" childRoutes={qualityGatesRoutes} />\n                <Route\n                  path=\"portfolios\"\n                  component={lazyLoad(() => import('../components/extensions/PortfoliosPage'))}\n                />\n                {!isSonarCloud() && (\n                  <RouteWithChildRoutes path=\"profiles\" childRoutes={qualityProfilesRoutes} />\n                )}\n                <RouteWithChildRoutes path=\"web_api\" childRoutes={webAPIRoutes} />\n\n                <Route component={lazyLoad(() => import('../components/ComponentContainer'))}>\n                  <RouteWithChildRoutes path=\"code\" childRoutes={codeRoutes} />\n                  <RouteWithChildRoutes\n                    path=\"component_measures\"\n                    childRoutes={componentMeasuresRoutes}\n                  />\n                  <RouteWithChildRoutes path=\"dashboard\" childRoutes={overviewRoutes} />\n                  <RouteWithChildRoutes path=\"portfolio\" childRoutes={portfolioRoutes} />\n                  <RouteWithChildRoutes\n                    path=\"project/activity\"\n                    childRoutes={projectActivityRoutes}\n                  />\n                  <Route\n                    path=\"project/extension/:pluginKey/:extensionKey\"\n                    component={lazyLoad(() =>\n                      import('../components/extensions/ProjectPageExtension')\n                    )}\n                  />\n                  <Route path=\"project/issues\" component={Issues} />\n                  <RouteWithChildRoutes\n                    path=\"project/quality_gate\"\n                    childRoutes={projectQualityGateRoutes}\n                  />\n                  <RouteWithChildRoutes\n                    path=\"project/quality_profiles\"\n                    childRoutes={projectQualityProfilesRoutes}\n                  />\n                  <Route component={lazyLoad(() => import('../components/ProjectAdminContainer'))}>\n                    {!isSonarCloud() && (\n                      <RouteWithChildRoutes\n                        path=\"custom_measures\"\n                        childRoutes={customMeasuresRoutes}\n                      />\n                    )}\n                    <Route\n                      path=\"project/admin/extension/:pluginKey/:extensionKey\"\n                      component={lazyLoad(() =>\n                        import('../components/extensions/ProjectAdminPageExtension')\n                      )}\n                    />\n                    <RouteWithChildRoutes\n                      path=\"project/background_tasks\"\n                      childRoutes={backgroundTasksRoutes}\n                    />\n                    <RouteWithChildRoutes\n                      path=\"project/branches\"\n                      childRoutes={projectBranchesRoutes}\n                    />\n                    <RouteWithChildRoutes path=\"project/settings\" childRoutes={settingsRoutes} />\n                    <RouteWithChildRoutes\n                      path=\"project_roles\"\n                      childRoutes={projectPermissionsRoutes}\n                    />\n                    <RouteWithChildRoutes path=\"project/webhooks\" childRoutes={webhooksRoutes} />\n                    <Route\n                      path=\"project/deletion\"\n                      component={lazyLoad(() => import('../../apps/projectDeletion/App'))}\n                    />\n                    <Route\n                      path=\"project/links\"\n                      component={lazyLoad(() => import('../../apps/projectLinks/App'))}\n                    />\n                    <Route\n                      path=\"project/key\"\n                      component={lazyLoad(() => import('../../apps/projectKey/Key'))}\n                    />\n                  </Route>\n                </Route>\n\n                <Route\n                  component={lazyLoad(() => import('../components/AdminContainer'))}\n                  path=\"admin\">\n                  <Route\n                    path=\"extension/:pluginKey/:extensionKey\"\n                    component={lazyLoad(() =>\n                      import('../components/extensions/GlobalAdminPageExtension')\n                    )}\n                  />\n                  <RouteWithChildRoutes\n                    path=\"background_tasks\"\n                    childRoutes={backgroundTasksRoutes}\n                  />\n                  <RouteWithChildRoutes path=\"custom_metrics\" childRoutes={customMetricsRoutes} />\n                  {!isSonarCloud() && (\n                    <>\n                      <RouteWithChildRoutes path=\"groups\" childRoutes={groupsRoutes} />\n                      <RouteWithChildRoutes\n                        path=\"permission_templates\"\n                        childRoutes={permissionTemplatesRoutes}\n                      />\n                      <RouteWithChildRoutes\n                        path=\"permissions\"\n                        childRoutes={globalPermissionsRoutes}\n                      />\n                      <RouteWithChildRoutes\n                        path=\"projects_management\"\n                        childRoutes={projectsManagementRoutes}\n                      />\n                    </>\n                  )}\n                  <RouteWithChildRoutes path=\"settings\" childRoutes={settingsRoutes} />\n                  <RouteWithChildRoutes path=\"system\" childRoutes={systemRoutes} />\n                  <RouteWithChildRoutes path=\"marketplace\" childRoutes={marketplaceRoutes} />\n                  <RouteWithChildRoutes path=\"users\" childRoutes={usersRoutes} />\n                  <RouteWithChildRoutes path=\"webhooks\" childRoutes={webhooksRoutes} />\n                </Route>\n              </Route>\n              <Route\n                path=\"not_found\"\n                component={lazyLoad(() => import('../components/NotFound'))}\n              />\n              <Route path=\"*\" component={lazyLoad(() => import('../components/NotFound'))} />\n            </Route>\n          </Route>\n        </Router>\n      </IntlProvider>\n    </Provider>,\n    el\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function DeleteIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M13.571429 1.8750019h-3.214285l-.251787-.5113283a.64285716.65624976 0 0 0-.5758927-.3636718H6.4678572a.63535718.64859353 0 0 0-.5732142.3636718l-.2517858.5113283H2.4285714A.42857144.43749984 0 0 0 2 2.3125018v.8749996a.42857144.43749984 0 0 0 .4285714.4374999H13.571429A.42857144.43749984 0 0 0 14 3.1875014v-.8749996a.42857144.43749984 0 0 0-.428571-.4374999zM3.4250001 13.769529a1.2857144 1.3124996 0 0 0 1.2830357 1.230468h6.5839282A1.2857144 1.3124996 0 0 0 12.575 13.769529l.567857-9.269528H2.8571428z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function EditIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M4.875 12.986l.721-.72-1.861-1.862-.721.72v.848h1.014v1.014h.847zm4.143-7.35c0-.117-.058-.175-.174-.175a.183.183 0 0 0-.135.056L4.416 9.81a.183.183 0 0 0-.056.135c0 .116.058.174.175.174a.183.183 0 0 0 .134-.056L8.962 5.77a.183.183 0 0 0 .056-.134zM8.59 4.115l3.295 3.295L5.295 14H2v-3.295l6.59-6.59zm5.41.76a.97.97 0 0 1-.293.713l-1.315 1.315-3.295-3.295L10.412 2.3c.19-.2.428-.301.713-.301.28 0 .52.1.72.301l1.862 1.853c.195.206.293.447.293.721z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport * as theme from '../../app/theme';\nimport ChevronRightIcon from '../icons-components/ChevronRightcon';\nimport ClearIcon from '../icons-components/ClearIcon';\nimport DeleteIcon from '../icons-components/DeleteIcon';\nimport EditIcon from '../icons-components/EditIcon';\nimport Tooltip from '../controls/Tooltip';\nimport { IconProps } from '../icons-components/Icon';\nimport './buttons.css';\n\ntype AllowedButtonAttributes = Pick<\n  React.ButtonHTMLAttributes<HTMLButtonElement>,\n  'className' | 'disabled' | 'id' | 'style' | 'title'\n>;\n\ninterface ButtonProps extends AllowedButtonAttributes {\n  autoFocus?: boolean;\n  children?: React.ReactNode;\n  innerRef?: (node: HTMLElement | null) => void;\n  name?: string;\n  onClick?: () => void;\n  preventDefault?: boolean;\n  stopPropagation?: boolean;\n  type?: string;\n}\n\nexport class Button extends React.PureComponent<ButtonProps> {\n  handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    const { onClick, preventDefault = true, stopPropagation = false } = this.props;\n\n    event.currentTarget.blur();\n    if (preventDefault) event.preventDefault();\n    if (stopPropagation) event.stopPropagation();\n    if (onClick) onClick();\n  };\n\n  render() {\n    const {\n      className,\n      innerRef,\n      onClick,\n      preventDefault,\n      stopPropagation,\n      type = 'button',\n      ...props\n    } = this.props;\n    return (\n      // eslint-disable-next-line react/button-has-type\n      <button\n        {...props}\n        className={classNames('button', className)}\n        disabled={this.props.disabled}\n        id={this.props.id}\n        onClick={this.handleClick}\n        ref={this.props.innerRef}\n        type={type}\n      />\n    );\n  }\n}\n\nexport function ButtonLink({ className, ...props }: ButtonProps) {\n  return <Button {...props} className={classNames('button-link', className)} />;\n}\n\nexport function SubmitButton(props: T.Omit<ButtonProps, 'type'>) {\n  // do not prevent default to actually submit a form\n  return <Button {...props} preventDefault={false} type=\"submit\" />;\n}\n\nexport function ResetButtonLink(props: T.Omit<ButtonProps, 'type'>) {\n  return <ButtonLink {...props} type=\"reset\" />;\n}\n\ninterface ButtonIconProps extends ButtonProps {\n  className?: string;\n  color?: string;\n  onClick?: () => void;\n  tooltip?: string;\n}\n\nexport function ButtonIcon(props: ButtonIconProps) {\n  const { className, color = theme.darkBlue, tooltip, ...other } = props;\n  const buttonComponent = (\n    <Button\n      className={classNames(className, 'button-icon')}\n      stopPropagation={true}\n      style={{ color }}\n      {...other}\n    />\n  );\n  if (tooltip) {\n    return (\n      <Tooltip mouseEnterDelay={0.4} overlay={tooltip}>\n        {buttonComponent}\n      </Tooltip>\n    );\n  }\n  return buttonComponent;\n}\n\ninterface ActionButtonProps extends ButtonIconProps {\n  className?: string;\n  iconProps?: IconProps;\n  onClick?: () => void;\n}\n\nexport function ClearButton({ color = theme.gray60, iconProps = {}, ...props }: ActionButtonProps) {\n  return (\n    <ButtonIcon color={color} {...props}>\n      <ClearIcon {...iconProps} />\n    </ButtonIcon>\n  );\n}\n\nexport function DeleteButton({ iconProps = {}, ...props }: ActionButtonProps) {\n  return (\n    <ButtonIcon color={theme.red} {...props}>\n      <DeleteIcon {...iconProps} />\n    </ButtonIcon>\n  );\n}\n\nexport function EditButton({ iconProps = {}, ...props }: ActionButtonProps) {\n  return (\n    <ButtonIcon {...props}>\n      <EditIcon {...iconProps} />\n    </ButtonIcon>\n  );\n}\n\nexport function ListButton({ className, children, ...props }: ButtonProps) {\n  return (\n    <Button className={classNames('button-list', className)} {...props}>\n      {children}\n      <ChevronRightIcon />\n    </Button>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\nexport interface IconProps {\n  className?: string;\n  fill?: string;\n  size?: number;\n}\n\ninterface Props {\n  children: React.ReactNode;\n  className?: string;\n  size?: number;\n  style?: React.CSSProperties;\n\n  // try to avoid using these:\n  width?: number;\n  height?: number;\n  viewBox?: string;\n}\n\nexport default function Icon({\n  children,\n  className,\n  size = 16,\n  style,\n  height = size,\n  width = size,\n  viewBox = '0 0 16 16',\n  ...other\n}: Props) {\n  return (\n    <svg\n      className={className}\n      height={height}\n      style={{\n        fillRule: 'evenodd',\n        clipRule: 'evenodd',\n        strokeLinejoin: 'round',\n        strokeMiterlimit: 1.41421,\n        ...style\n      }}\n      version=\"1.1\"\n      viewBox={viewBox}\n      width={width}\n      xmlSpace=\"preserve\"\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n      {...other}>\n      {children}\n    </svg>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { stringify } from 'querystring';\nimport { omitBy, isNil } from 'lodash';\nimport {\n  isShortLivingBranch,\n  isPullRequest,\n  isLongLivingBranch,\n  getBranchLikeQuery\n} from './branches';\nimport { getProfilePath } from '../apps/quality-profiles/utils';\n\ninterface Query {\n  [x: string]: string | undefined;\n}\n\nexport interface Location {\n  pathname: string;\n  query?: Query;\n}\n\nexport function getBaseUrl(): string {\n  return (window as any).baseUrl;\n}\n\nexport function getHostUrl(): string {\n  return window.location.origin + getBaseUrl();\n}\n\nexport function getPathUrlAsString(path: Location, internal = true): string {\n  return `${internal ? getBaseUrl() : getHostUrl()}${path.pathname}?${stringify(\n    omitBy(path.query, isNil)\n  )}`;\n}\n\nexport function getProjectUrl(project: string, branch?: string): Location {\n  return { pathname: '/dashboard', query: { id: project, branch } };\n}\n\nexport function getPortfolioUrl(key: string): Location {\n  return { pathname: '/portfolio', query: { id: key } };\n}\n\nexport function getPortfolioAdminUrl(key: string, qualifier: string) {\n  return { pathname: '/project/admin/extension/governance/console', query: { id: key, qualifier } };\n}\n\nexport function getComponentBackgroundTaskUrl(componentKey: string, status?: string): Location {\n  return { pathname: '/project/background_tasks', query: { id: componentKey, status } };\n}\n\nexport function getBranchLikeUrl(project: string, branchLike?: T.BranchLike): Location {\n  if (isPullRequest(branchLike)) {\n    return getPullRequestUrl(project, branchLike.key);\n  } else if (isShortLivingBranch(branchLike)) {\n    return getShortLivingBranchUrl(project, branchLike.name);\n  } else if (isLongLivingBranch(branchLike)) {\n    return getLongLivingBranchUrl(project, branchLike.name);\n  } else {\n    return getProjectUrl(project);\n  }\n}\n\nexport function getLongLivingBranchUrl(project: string, branch: string): Location {\n  return { pathname: '/dashboard', query: { branch, id: project } };\n}\n\nexport function getShortLivingBranchUrl(project: string, branch: string): Location {\n  return { pathname: '/dashboard', query: { branch, id: project } };\n}\n\nexport function getPullRequestUrl(project: string, pullRequest: string): Location {\n  return { pathname: '/dashboard', query: { id: project, pullRequest } };\n}\n\n/**\n * Generate URL for a global issues page\n */\nexport function getIssuesUrl(query: Query, organization?: string): Location {\n  const pathname = organization ? `/organizations/${organization}/issues` : '/issues';\n  return { pathname, query };\n}\n\n/**\n * Generate URL for a component's issues page\n */\nexport function getComponentIssuesUrl(componentKey: string, query?: Query): Location {\n  return { pathname: '/project/issues', query: { ...(query || {}), id: componentKey } };\n}\n\n/**\n * Generate URL for a component's drilldown page\n */\nexport function getComponentDrilldownUrl(options: {\n  componentKey: string;\n  metric: string;\n  branchLike?: T.BranchLike;\n  selectionKey?: string;\n  treemapView?: boolean;\n  listView?: boolean;\n}): Location {\n  const { componentKey, metric, branchLike, selectionKey, treemapView, listView } = options;\n  const query: Query = { id: componentKey, metric, ...getBranchLikeQuery(branchLike) };\n  if (treemapView) {\n    query.view = 'treemap';\n  }\n  if (listView) {\n    query.view = 'list';\n  }\n  if (selectionKey) {\n    query.selected = selectionKey;\n  }\n  return { pathname: '/component_measures', query };\n}\n\nexport function getComponentDrilldownUrlWithSelection(\n  componentKey: string,\n  selectionKey: string,\n  metric: string,\n  branchLike?: T.BranchLike\n): Location {\n  return getComponentDrilldownUrl({ componentKey, selectionKey, metric, branchLike });\n}\n\nexport function getMeasureTreemapUrl(componentKey: string, metric: string) {\n  return getComponentDrilldownUrl({ componentKey, metric, treemapView: true });\n}\n\nexport function getActivityUrl(component: string, branchLike?: T.BranchLike) {\n  return {\n    pathname: '/project/activity',\n    query: { id: component, ...getBranchLikeQuery(branchLike) }\n  };\n}\n\n/**\n * Generate URL for a component's measure history\n */\nexport function getMeasureHistoryUrl(component: string, metric: string, branchLike?: T.BranchLike) {\n  return {\n    pathname: '/project/activity',\n    query: {\n      id: component,\n      graph: 'custom',\n      custom_metrics: metric,\n      ...getBranchLikeQuery(branchLike)\n    }\n  };\n}\n\n/**\n * Generate URL for a component's permissions page\n */\nexport function getComponentPermissionsUrl(componentKey: string): Location {\n  return { pathname: '/project_roles', query: { id: componentKey } };\n}\n\n/**\n * Generate URL for a quality profile\n */\nexport function getQualityProfileUrl(\n  name: string,\n  language: string,\n  organization?: string | null\n): Location {\n  return getProfilePath(name, language, organization);\n}\n\nexport function getQualityGateUrl(key: string, organization?: string | null): Location {\n  return {\n    pathname: getQualityGatesUrl(organization).pathname + '/show/' + encodeURIComponent(key)\n  };\n}\n\nexport function getQualityGatesUrl(organization?: string | null): Location {\n  return {\n    pathname:\n      (organization ? '/organizations/' + encodeURIComponent(organization) : '') + '/quality_gates'\n  };\n}\n\n/**\n * Generate URL for the rules page\n */\nexport function getRulesUrl(query: Query, organization: string | null | undefined): Location {\n  const pathname = organization ? `/organizations/${organization}/rules` : '/coding_rules';\n  return { pathname, query };\n}\n\n/**\n * Generate URL for the rules page filtering only active deprecated rules\n */\nexport function getDeprecatedActiveRulesUrl(\n  query: Query = {},\n  organization: string | null | undefined\n): Location {\n  const baseQuery = { activation: 'true', statuses: 'DEPRECATED' };\n  return getRulesUrl({ ...query, ...baseQuery }, organization);\n}\n\nexport function getRuleUrl(rule: string, organization: string | undefined) {\n  return getRulesUrl({ open: rule, rule_key: rule }, organization);\n}\n\nexport function getMarkdownHelpUrl(): string {\n  return getBaseUrl() + '/markdown/help';\n}\n\nexport function getCodeUrl(\n  project: string,\n  branchLike?: T.BranchLike,\n  selected?: string,\n  line?: number\n) {\n  return {\n    pathname: '/code',\n    query: { id: project, ...getBranchLikeQuery(branchLike), selected, line }\n  };\n}\n\nexport function getOrganizationUrl(organization: string) {\n  return `/organizations/${organization}`;\n}\n\nexport function getHomePageUrl(homepage: T.HomePage) {\n  switch (homepage.type) {\n    case 'APPLICATION':\n      return homepage.branch\n        ? getProjectUrl(homepage.component, homepage.branch)\n        : getProjectUrl(homepage.component);\n    case 'PROJECT':\n      return homepage.branch\n        ? getLongLivingBranchUrl(homepage.component, homepage.branch)\n        : getProjectUrl(homepage.component);\n    case 'ORGANIZATION':\n      return getOrganizationUrl(homepage.organization);\n    case 'PORTFOLIO':\n      return getPortfolioUrl(homepage.component);\n    case 'PORTFOLIOS':\n      return '/portfolios';\n    case 'MY_PROJECTS':\n      return '/projects';\n    case 'ISSUES':\n    case 'MY_ISSUES':\n      return { pathname: '/issues', query: { resolved: 'false' } };\n  }\n\n  // should never happen, but just in case...\n  return '/projects';\n}\n\nexport function getReturnUrl(location: { hash?: string; query?: { return_to?: string } }) {\n  const returnTo = location.query && location.query['return_to'];\n  if (isRelativeUrl(returnTo)) {\n    return returnTo + (location.hash ? location.hash : '');\n  }\n  return getBaseUrl() + '/';\n}\n\nexport function isRelativeUrl(url?: string): boolean {\n  const regex = new RegExp(/^\\/[^/\\\\]/);\n  return Boolean(url && regex.test(url));\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// IMPORTANT: any change in this file requires restart of the dev server\n\nconst grid = 8;\n\nmodule.exports = {\n  // colors\n  blue: '#4b9fd5',\n  veryLightBlue: '#f2faff',\n  lightBlue: '#cae3f2',\n  darkBlue: '#236a97',\n  green: '#00aa00',\n  lineCoverageGreen: '#b4dd78',\n  lightGreen: '#b0d513',\n  veryLightGreen: '#f5f9fc',\n  yellow: '#eabe06',\n  orange: '#ed7d20',\n  red: '#d4333f',\n  lineCoverageRed: '#a4030f',\n  purple: '#9139d4',\n\n  conciseIssueRed: '#d18582',\n\n  gray94: '#efefef',\n  gray80: '#cdcdcd',\n  gray71: '#b4b4b4',\n  gray67: '#aaa',\n  gray60: '#999',\n  gray40: '#404040',\n\n  transparentWhite: 'rgba(255,255,255,0.62)',\n  transparentGray: 'rgba(200, 200, 200, 0.5)',\n\n  disableGrayText: '#bbb',\n  disableGrayBorder: '#ddd',\n  disableGrayBg: '#ebebeb',\n\n  barBackgroundColor: '#f3f3f3',\n  barBorderColor: '#e6e6e6',\n\n  baseFontColor: '#444',\n  secondFontColor: '#777',\n\n  leakColor: '#fbf3d5',\n  leakColorHover: '#f0e7c4',\n  leakBorderColor: '#eae3c7',\n\n  globalNavBarBg: '#262626',\n\n  snippetFontColor: '#f0f0f0',\n\n  //issues\n  issueBgColor: '#ffeaea',\n  hotspotBgColor: '#eeeff4',\n\n  // alerts\n  warningIconColor: '#e2bf41',\n\n  alertBorderError: '#ebccd1',\n  alertBackgroundError: '#f2dede',\n  alertTextError: '#862422',\n  alertIconError: '#b81723',\n\n  alertBorderWarning: '#faebcc',\n  alertBackgroundWarning: '#fcf8e3',\n  alertTextWarning: '#6f4f17',\n  alertIconWarning: '#db781a',\n\n  alertBorderSuccess: '#d6e9c6',\n  alertBackgroundSuccess: '#dff0d8',\n  alertTextSuccess: '#215821',\n  alertIconSuccess: '#6d9867',\n\n  alertBorderInfo: '#b1dff3',\n  alertBackgroundInfo: '#d9edf7',\n  alertTextInfo: '#0e516f',\n  alertIconInfo: '#0271b9',\n\n  // sizes\n  grid,\n  gridSize: `${grid}px`,\n\n  baseFontSize: '13px',\n  verySmallFontSize: '10px',\n  smallFontSize: '12px',\n  mediumFontSize: '14px',\n  bigFontSize: '16px',\n  hugeFontSize: '24px',\n\n  hugeControlHeight: `${5 * grid}px`,\n  largeControlHeight: `${4 * grid}px`,\n  controlHeight: `${3 * grid}px`,\n  smallControlHeight: `${2.5 * grid}px`,\n  tinyControlHeight: `${2 * grid}px`,\n\n  globalNavHeight: `${6 * grid}px`,\n  globalNavHeightRaw: 6 * grid,\n  globalNavContentHeight: `${4 * grid}px`,\n  globalNavContentHeightRaw: 4 * grid,\n\n  contextNavHeightRaw: 9 * grid,\n\n  maxPageWidth: '1320px',\n  minPageWidth: '1080px',\n  pagePadding: '20px',\n\n  // different\n  baseFontFamily: \"'Helvetica Neue', 'Segoe UI', Helvetica, Arial, sans-serif\",\n  systemFontFamily: \"-apple-system,'BlinkMacSystemFont','Segoe UI','Helvetica','Arial',sans-serif\",\n  defaultShadow: '0 6px 12px rgba(0, 0, 0, 0.175)',\n\n  // z-index\n  // =======\n  //    1 -  100  for page elements (e.g. sidebars, panels)\n  //  101 -  500  for generic page fixed elements (e.g. navigation, workspace)\n  //  501 - 3000  for page ui elements\n  // 3001 - 8000  for generic ui elements (e.g. dropdowns, tooltips)\n\n  // common\n  aboveNormalZIndex: '3',\n  normalZIndex: '2',\n  belowNormalZIndex: '1',\n\n  // ui elements\n  pageMainZIndex: '50',\n\n  tooltipZIndex: '8000',\n\n  dropdownMenuZIndex: '7500',\n\n  processContainerZIndex: '7000',\n\n  modalZIndex: '6001',\n  modalOverlayZIndex: '6000',\n\n  popupZIndex: '5000',\n\n  // sonarcloud\n  sonarcloudOrange500: '#fd6a00',\n  sonarcloudOrange600: '#e26003',\n  sonarcloudOrange700: '#db5700',\n\n  sonarcloudBlack100: '#ffffff',\n  sonarcloudBlack200: '#f9f9fb',\n  sonarcloudBlack250: '#e6e8ea',\n  sonarcloudBlack300: '#cfd3d7',\n  sonarcloudBlack500: '#8a8c8f',\n  sonarcloudBlack700: '#434447',\n  sonarcloudBlack800: '#2d3032',\n  sonarcloudBlack900: '#070706',\n\n  sonarcloudBlue500: '#4c9bd6',\n  sonarcloudBlue600: '#327bb3',\n  sonarcloudBlue900: '#0b3c62',\n\n  sonarcloudBorderGray: 'rgba(207, 211, 215, 0.5)',\n  sonarcloudFontFamily:\n    \"Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif\"\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\n\ninterface Props {\n  children?: React.ReactNode;\n  className?: string;\n  loading?: boolean;\n  customSpinner?: JSX.Element;\n  timeout?: number;\n}\n\ninterface State {\n  showSpinner: boolean;\n}\n\nexport default class DeferredSpinner extends React.PureComponent<Props, State> {\n  timer: any;\n\n  static defaultProps = {\n    timeout: 100\n  };\n\n  state: State = { showSpinner: false };\n\n  componentDidMount() {\n    if (this.props.loading == null || this.props.loading === true) {\n      this.startTimer();\n    }\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (this.props.loading === false && nextProps.loading === true) {\n      this.stopTimer();\n      this.startTimer();\n    }\n    if (this.props.loading === true && nextProps.loading === false) {\n      this.stopTimer();\n      this.setState({ showSpinner: false });\n    }\n  }\n\n  componentWillUnmount() {\n    this.stopTimer();\n  }\n\n  startTimer = () => {\n    this.timer = setTimeout(() => this.setState({ showSpinner: true }), this.props.timeout);\n  };\n\n  stopTimer = () => {\n    clearTimeout(this.timer);\n  };\n\n  render() {\n    if (this.state.showSpinner) {\n      return (\n        this.props.customSpinner || <i className={classNames('spinner', this.props.className)} />\n      );\n    }\n    return this.props.children || null;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { createPortal, findDOMNode } from 'react-dom';\nimport { throttle } from 'lodash';\nimport ScreePositionFixer from './ScreenPositionFixer';\nimport './Tooltip.css';\n\nexport type Placement = 'bottom' | 'right' | 'left' | 'top';\n\ninterface Props {\n  classNameSpace?: string;\n  children: React.ReactElement<{}>;\n  mouseEnterDelay?: number;\n  mouseLeaveDelay?: number;\n  onShow?: () => void;\n  onHide?: () => void;\n  overlay: React.ReactNode;\n  placement?: Placement;\n  visible?: boolean;\n}\n\ninterface Measurements {\n  height: number;\n  left: number;\n  top: number;\n  width: number;\n}\n\ninterface OwnState {\n  visible: boolean;\n}\n\ntype State = OwnState & Partial<Measurements>;\n\nfunction isMeasured(state: State): state is OwnState & Measurements {\n  return state.height !== undefined;\n}\n\nexport default function Tooltip(props: Props) {\n  // overlay is a ReactNode, so it can be `undefined` or `null`\n  // this allows to easily render a tooltip conditionally\n  // more generaly we avoid rendering empty tooltips\n  return props.overlay != null && props.overlay !== '' ? (\n    <TooltipInner {...props} />\n  ) : (\n    props.children\n  );\n}\n\nexport class TooltipInner extends React.Component<Props, State> {\n  throttledPositionTooltip: () => void;\n  mouseEnterTimeout?: number;\n  mouseLeaveTimeout?: number;\n  tooltipNode?: HTMLElement | null;\n  mounted = false;\n  mouseIn = false;\n\n  static defaultProps = {\n    mouseEnterDelay: 0.1\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      visible: props.visible !== undefined ? props.visible : false\n    };\n    this.throttledPositionTooltip = throttle(this.positionTooltip, 10);\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    if (this.props.visible === true) {\n      this.positionTooltip();\n      this.addEventListeners();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props, prevState: State) {\n    if (\n      // opens\n      (this.props.visible === true && prevProps.visible === false) ||\n      (this.props.visible === undefined &&\n        this.state.visible === true &&\n        prevState.visible === false)\n    ) {\n      this.positionTooltip();\n      this.addEventListeners();\n    } else if (\n      // closes\n      (this.props.visible === false && prevProps.visible === true) ||\n      (this.props.visible === undefined &&\n        this.state.visible === false &&\n        prevState.visible === true)\n    ) {\n      this.clearPosition();\n      this.removeEventListeners();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    this.removeEventListeners();\n    this.clearTimeouts();\n  }\n\n  addEventListeners = () => {\n    window.addEventListener('resize', this.throttledPositionTooltip);\n    window.addEventListener('scroll', this.throttledPositionTooltip);\n  };\n\n  removeEventListeners = () => {\n    window.removeEventListener('resize', this.throttledPositionTooltip);\n    window.removeEventListener('scroll', this.throttledPositionTooltip);\n  };\n\n  clearTimeouts = () => {\n    window.clearTimeout(this.mouseEnterTimeout);\n    window.clearTimeout(this.mouseLeaveTimeout);\n  };\n\n  isVisible = () => {\n    return this.props.visible !== undefined ? this.props.visible : this.state.visible;\n  };\n\n  getPlacement = (): Placement => {\n    return this.props.placement || 'bottom';\n  };\n\n  tooltipNodeRef = (node: HTMLElement | null) => {\n    this.tooltipNode = node;\n  };\n\n  positionTooltip = () => {\n    // `findDOMNode(this)` will search for the DOM node for the current component\n    // first it will find a React.Fragment (see `render`),\n    // so it will get the DOM node of the first child, i.e. DOM node of `this.props.children`\n    // docs: https://reactjs.org/docs/refs-and-the-dom.html#exposing-dom-refs-to-parent-components\n\n    // eslint-disable-next-line react/no-find-dom-node\n    const toggleNode = findDOMNode(this);\n\n    if (toggleNode && toggleNode instanceof Element && this.tooltipNode) {\n      const toggleRect = toggleNode.getBoundingClientRect();\n      const tooltipRect = this.tooltipNode.getBoundingClientRect();\n      const { width, height } = tooltipRect;\n\n      let left = 0;\n      let top = 0;\n\n      switch (this.getPlacement()) {\n        case 'bottom':\n          left = toggleRect.left + toggleRect.width / 2 - width / 2;\n          top = toggleRect.top + toggleRect.height;\n          break;\n        case 'top':\n          left = toggleRect.left + toggleRect.width / 2 - width / 2;\n          top = toggleRect.top - height;\n          break;\n        case 'right':\n          left = toggleRect.left + toggleRect.width;\n          top = toggleRect.top + toggleRect.height / 2 - height / 2;\n          break;\n        case 'left':\n          left = toggleRect.left - width;\n          top = toggleRect.top + toggleRect.height / 2 - height / 2;\n          break;\n      }\n\n      // save width and height (and later set in `render`) to avoid resizing the tooltip element,\n      // when it's placed close to the window edge\n      const measurements: Measurements = {\n        left: window.pageXOffset + left,\n        top: window.pageYOffset + top,\n        width,\n        height\n      };\n      this.setState(measurements);\n    }\n  };\n\n  clearPosition = () => {\n    this.setState({\n      left: undefined,\n      top: undefined,\n      width: undefined,\n      height: undefined\n    });\n  };\n\n  handleMouseEnter = () => {\n    this.mouseEnterTimeout = window.setTimeout(() => {\n      // for some reason even after the `this.mouseEnterTimeout` is cleared, it still triggers\n      // to workaround this issue, check that its value is not `undefined`\n      // (if it's `undefined`, it means the timer has been reset)\n      if (\n        this.mounted &&\n        this.props.visible === undefined &&\n        this.mouseEnterTimeout !== undefined\n      ) {\n        this.setState({ visible: true });\n      }\n    }, (this.props.mouseEnterDelay || 0) * 1000);\n\n    if (this.props.onShow) {\n      this.props.onShow();\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (this.mouseEnterTimeout !== undefined) {\n      window.clearTimeout(this.mouseEnterTimeout);\n      this.mouseEnterTimeout = undefined;\n    }\n\n    if (!this.mouseIn) {\n      this.mouseLeaveTimeout = window.setTimeout(() => {\n        if (this.mounted && this.props.visible === undefined && !this.mouseIn) {\n          this.setState({ visible: false });\n        }\n      }, (this.props.mouseLeaveDelay || 0) * 1000);\n\n      if (this.props.onHide) {\n        this.props.onHide();\n      }\n    }\n  };\n\n  handleOverlayMouseEnter = () => {\n    this.mouseIn = true;\n  };\n\n  handleOverlayMouseLeave = () => {\n    this.mouseIn = false;\n    this.handleMouseLeave();\n  };\n\n  render() {\n    const { classNameSpace = 'tooltip' } = this.props;\n    return (\n      <>\n        {React.cloneElement(this.props.children, {\n          onMouseEnter: this.handleMouseEnter,\n          onMouseLeave: this.handleMouseLeave\n        })}\n        {this.isVisible() && (\n          <TooltipPortal>\n            <ScreePositionFixer ready={isMeasured(this.state)}>\n              {({ leftFix = 0, topFix = 0 }) => (\n                <div\n                  className={`${classNameSpace} ${this.getPlacement()}`}\n                  onMouseEnter={this.handleOverlayMouseEnter}\n                  onMouseLeave={this.handleOverlayMouseLeave}\n                  ref={this.tooltipNodeRef}\n                  style={\n                    isMeasured(this.state)\n                      ? {\n                          left: this.state.left + leftFix,\n                          top: this.state.top + topFix,\n                          width: this.state.width,\n                          height: this.state.height\n                        }\n                      : undefined\n                  }>\n                  <div className={`${classNameSpace}-inner`}>{this.props.overlay}</div>\n                  <div\n                    className={`${classNameSpace}-arrow`}\n                    style={\n                      isMeasured(this.state)\n                        ? { marginLeft: -leftFix, marginTop: -topFix }\n                        : undefined\n                    }\n                  />\n                </div>\n              )}\n            </ScreePositionFixer>\n          </TooltipPortal>\n        )}\n      </>\n    );\n  }\n}\n\nclass TooltipPortal extends React.Component {\n  el: HTMLElement;\n\n  constructor(props: {}) {\n    super(props);\n    this.el = document.createElement('div');\n  }\n\n  componentDidMount() {\n    document.body.appendChild(this.el);\n  }\n\n  componentWillUnmount() {\n    document.body.removeChild(this.el);\n  }\n\n  render() {\n    return createPortal(this.props.children, this.el);\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { translate, translateWithParameters, getCurrentLocale } from './l10n';\nimport { isDefined } from './types';\n\nconst HOURS_IN_DAY = 8;\n\ninterface Formatter {\n  (value: string | number, options?: any): string;\n}\n\n/** Format a measure value for a given type */\nexport function formatMeasure(\n  value: string | number | undefined,\n  type: string,\n  options?: any\n): string {\n  const formatter = getFormatter(type);\n  return useFormatter(value, formatter, options);\n}\n\n/** Return a localized metric name */\nexport function localizeMetric(metricKey: string): string {\n  return translate('metric', metricKey, 'name');\n}\n\n/** Return corresponding \"short\" for better display in UI */\nexport function getShortType(type: string): string {\n  if (type === 'INT') {\n    return 'SHORT_INT';\n  } else if (type === 'WORK_DUR') {\n    return 'SHORT_WORK_DUR';\n  }\n  return type;\n}\n\nexport function enhanceMeasuresWithMetrics(\n  measures: T.Measure[],\n  metrics: T.Metric[]\n): T.MeasureEnhanced[] {\n  return measures\n    .map(measure => {\n      const metric = metrics.find(metric => metric.key === measure.metric);\n      return metric && { ...measure, metric };\n    })\n    .filter(isDefined);\n}\n\n/** Get period value of a measure */\nexport function getPeriodValue(\n  measure: T.Measure | T.MeasureEnhanced,\n  periodIndex: number\n): string | undefined {\n  const { periods } = measure;\n  const period = periods && periods.find(period => period.index === periodIndex);\n  return period ? period.value : undefined;\n}\n\nexport function isPeriodBestValue(\n  measure: T.Measure | T.MeasureEnhanced,\n  periodIndex: number\n): boolean {\n  const { periods } = measure;\n  const period = periods && periods.find(period => period.index === periodIndex);\n  return (period && period.bestValue) || false;\n}\n\n/** Check if metric is differential */\nexport function isDiffMetric(metricKey: string): boolean {\n  return metricKey.indexOf('new_') === 0;\n}\n\nfunction useFormatter(\n  value: string | number | undefined,\n  formatter: Formatter,\n  options?: any\n): string {\n  return value !== undefined && value !== '' ? formatter(value, options) : '';\n}\n\nfunction getFormatter(type: string): Formatter {\n  const FORMATTERS: T.Dict<Formatter> = {\n    INT: intFormatter,\n    SHORT_INT: shortIntFormatter,\n    FLOAT: floatFormatter,\n    PERCENT: percentFormatter,\n    WORK_DUR: durationFormatter,\n    SHORT_WORK_DUR: shortDurationFormatter,\n    RATING: ratingFormatter,\n    LEVEL: levelFormatter,\n    MILLISEC: millisecondsFormatter\n  };\n  return FORMATTERS[type] || noFormatter;\n}\n\nfunction numberFormatter(\n  value: number,\n  minimumFractionDigits = 0,\n  maximumFractionDigits = minimumFractionDigits\n) {\n  const { format } = new Intl.NumberFormat(getCurrentLocale(), {\n    minimumFractionDigits,\n    maximumFractionDigits\n  });\n  return format(value);\n}\n\nfunction noFormatter(value: string | number): string | number {\n  return value;\n}\n\nfunction intFormatter(value: number): string {\n  return numberFormatter(value);\n}\n\nfunction shortIntFormatter(value: number): string {\n  if (value >= 1e9) {\n    return numberFormatter(value / 1e9) + translate('short_number_suffix.g');\n  } else if (value >= 1e6) {\n    return numberFormatter(value / 1e6) + translate('short_number_suffix.m');\n  } else if (value >= 1e4) {\n    return numberFormatter(value / 1e3) + translate('short_number_suffix.k');\n  } else if (value >= 1e3) {\n    return numberFormatter(value / 1e3, 0, 1) + translate('short_number_suffix.k');\n  } else {\n    return numberFormatter(value);\n  }\n}\n\nfunction floatFormatter(value: number): string {\n  return numberFormatter(value, 1, 5);\n}\n\nfunction percentFormatter(value: string | number, options: { decimals?: number } = {}): string {\n  if (typeof value === 'string') {\n    value = parseFloat(value);\n  }\n  if (options.decimals) {\n    return numberFormatter(value, options.decimals) + '%';\n  }\n  return value === 100 ? '100%' : numberFormatter(value, 1) + '%';\n}\n\nfunction ratingFormatter(value: string | number): string {\n  if (typeof value === 'string') {\n    value = parseInt(value, 10);\n  }\n  return String.fromCharCode(97 + value - 1).toUpperCase();\n}\n\nfunction levelFormatter(value: string): string {\n  const l10nKey = 'metric.level.' + value;\n  const result = translate(l10nKey);\n\n  // if couldn't translate, return the initial value\n  return l10nKey !== result ? result : value;\n}\n\nfunction millisecondsFormatter(value: number): string {\n  const ONE_SECOND = 1000;\n  const ONE_MINUTE = 60 * ONE_SECOND;\n  if (value >= ONE_MINUTE) {\n    const minutes = Math.round(value / ONE_MINUTE);\n    return `${minutes}min`;\n  } else if (value >= ONE_SECOND) {\n    const seconds = Math.round(value / ONE_SECOND);\n    return `${seconds}s`;\n  } else {\n    return `${value}ms`;\n  }\n}\n\n/*\n * Debt Formatters\n */\n\nfunction shouldDisplayDays(days: number): boolean {\n  return days > 0;\n}\n\nfunction shouldDisplayDaysInShortFormat(days: number): boolean {\n  return days > 0.9;\n}\n\nfunction shouldDisplayHours(days: number, hours: number): boolean {\n  return hours > 0 && days < 10;\n}\n\nfunction shouldDisplayHoursInShortFormat(hours: number): boolean {\n  return hours > 0.9;\n}\n\nfunction shouldDisplayMinutes(days: number, hours: number, minutes: number): boolean {\n  return minutes > 0 && hours < 10 && days === 0;\n}\n\nfunction addSpaceIfNeeded(value: string): string {\n  return value.length > 0 ? value + ' ' : value;\n}\n\nfunction formatDuration(isNegative: boolean, days: number, hours: number, minutes: number): string {\n  let formatted = '';\n  if (shouldDisplayDays(days)) {\n    formatted += translateWithParameters('work_duration.x_days', isNegative ? -1 * days : days);\n  }\n  if (shouldDisplayHours(days, hours)) {\n    formatted = addSpaceIfNeeded(formatted);\n    formatted += translateWithParameters(\n      'work_duration.x_hours',\n      isNegative && formatted.length === 0 ? -1 * hours : hours\n    );\n  }\n  if (shouldDisplayMinutes(days, hours, minutes)) {\n    formatted = addSpaceIfNeeded(formatted);\n    formatted += translateWithParameters(\n      'work_duration.x_minutes',\n      isNegative && formatted.length === 0 ? -1 * minutes : minutes\n    );\n  }\n  return formatted;\n}\n\nfunction formatDurationShort(\n  isNegative: boolean,\n  days: number,\n  hours: number,\n  minutes: number\n): string {\n  if (shouldDisplayDaysInShortFormat(days)) {\n    const roundedDays = Math.round(days);\n    const formattedDays = formatMeasure(isNegative ? -1 * roundedDays : roundedDays, 'SHORT_INT');\n    return translateWithParameters('work_duration.x_days', formattedDays);\n  }\n\n  if (shouldDisplayHoursInShortFormat(hours)) {\n    const roundedHours = Math.round(hours);\n    const formattedHours = formatMeasure(\n      isNegative ? -1 * roundedHours : roundedHours,\n      'SHORT_INT'\n    );\n    return translateWithParameters('work_duration.x_hours', formattedHours);\n  }\n\n  const formattedMinutes = formatMeasure(isNegative ? -1 * minutes : minutes, 'SHORT_INT');\n  return translateWithParameters('work_duration.x_minutes', formattedMinutes);\n}\n\nfunction durationFormatter(value: string | number): string {\n  if (typeof value === 'string') {\n    value = parseInt(value, 10);\n  }\n  if (value === 0) {\n    return '0';\n  }\n  const hoursInDay = HOURS_IN_DAY;\n  const isNegative = value < 0;\n  const absValue = Math.abs(value);\n  const days = Math.floor(absValue / hoursInDay / 60);\n  let remainingValue = absValue - days * hoursInDay * 60;\n  const hours = Math.floor(remainingValue / 60);\n  remainingValue -= hours * 60;\n  return formatDuration(isNegative, days, hours, remainingValue);\n}\n\nfunction shortDurationFormatter(value: string | number): string {\n  if (typeof value === 'string') {\n    value = parseInt(value, 10);\n  }\n  if (value === 0) {\n    return '0';\n  }\n  const hoursInDay = HOURS_IN_DAY;\n  const isNegative = value < 0;\n  const absValue = Math.abs(value);\n  const days = absValue / hoursInDay / 60;\n  let remainingValue = absValue - Math.floor(days) * hoursInDay * 60;\n  const hours = remainingValue / 60;\n  remainingValue -= Math.floor(hours) * 60;\n  return formatDurationShort(isNegative, days, hours, remainingValue);\n}\n\nfunction getRatingGrid(): string {\n  // workaround cyclic dependencies\n  const getStore = require('../app/utils/getStore').default;\n  const { getGlobalSettingValue } = require('../store/rootReducer');\n\n  const store = getStore();\n  const settingValue = getGlobalSettingValue(store.getState(), 'sonar.technicalDebt.ratingGrid');\n  return settingValue ? settingValue.value : '';\n}\n\nlet maintainabilityRatingGrid: number[];\n\nfunction getMaintainabilityRatingGrid(): number[] {\n  if (maintainabilityRatingGrid) {\n    return maintainabilityRatingGrid;\n  }\n\n  const str = getRatingGrid();\n  const numbers = str\n    .split(',')\n    .map(s => parseFloat(s))\n    .filter(n => !isNaN(n));\n\n  if (numbers.length === 4) {\n    maintainabilityRatingGrid = numbers;\n  } else {\n    maintainabilityRatingGrid = [0, 0, 0, 0];\n  }\n\n  return maintainabilityRatingGrid;\n}\n\nfunction getMaintainabilityRatingTooltip(rating: number): string {\n  const maintainabilityGrid = getMaintainabilityRatingGrid();\n  const maintainabilityRatingThreshold = maintainabilityGrid[Math.floor(rating) - 2];\n\n  if (rating < 2) {\n    return translateWithParameters(\n      'metric.sqale_rating.tooltip.A',\n      formatMeasure(maintainabilityGrid[0] * 100, 'PERCENT')\n    );\n  }\n\n  const ratingLetter = formatMeasure(rating, 'RATING');\n\n  return translateWithParameters(\n    'metric.sqale_rating.tooltip',\n    ratingLetter,\n    formatMeasure(maintainabilityRatingThreshold * 100, 'PERCENT')\n  );\n}\n\nexport function getRatingTooltip(metricKey: string, value: number | string): string {\n  const ratingLetter = formatMeasure(value, 'RATING');\n\n  const finalMetricKey = isDiffMetric(metricKey) ? metricKey.substr(4) : metricKey;\n\n  return finalMetricKey === 'sqale_rating' || finalMetricKey === 'maintainability_rating'\n    ? getMaintainabilityRatingTooltip(Number(value))\n    : translate('metric', finalMetricKey, 'tooltip', ratingLetter);\n}\n\nexport function getDisplayMetrics(metrics: T.Metric[]) {\n  return metrics.filter(metric => !metric.hidden && !['DATA', 'DISTRIB'].includes(metric.type));\n}\n\nexport function findMeasure(measures: T.Measure[], metric: string) {\n  return measures.find(measure => measure.metric === metric);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { combineReducers } from 'redux';\nimport definitions, * as fromDefinitions from './definitions';\nimport values, * as fromValues from './values';\nimport settingsPage, * as fromSettingsPage from './settingsPage';\nimport globalMessages, * as fromGlobalMessages from '../../../store/globalMessages';\n\ninterface State {\n  definitions: fromDefinitions.State;\n  globalMessages: fromGlobalMessages.State;\n  settingsPage: fromSettingsPage.State;\n  values: fromValues.State;\n}\n\nexport default combineReducers({ definitions, values, settingsPage, globalMessages });\n\nexport function getDefinition(state: State, key: string) {\n  return fromDefinitions.getDefinition(state.definitions, key);\n}\n\nexport function getAllCategories(state: State) {\n  return fromDefinitions.getAllCategories(state.definitions);\n}\n\nexport function getDefaultCategory(state: State) {\n  return fromDefinitions.getDefaultCategory(state.definitions);\n}\n\nexport function getValue(state: State, key: string, component?: string) {\n  return fromValues.getValue(state.values, key, component);\n}\n\nexport function getSettingsForCategory(state: State, category: string, component?: string) {\n  return fromDefinitions.getDefinitionsForCategory(state.definitions, category).map(definition => ({\n    key: definition.key,\n    ...getValue(state, definition.key, component),\n    definition\n  }));\n}\n\nexport function getChangedValue(state: State, key: string) {\n  return fromSettingsPage.getChangedValue(state.settingsPage, key);\n}\n\nexport function isLoading(state: State, key: string) {\n  return fromSettingsPage.isLoading(state.settingsPage, key);\n}\n\nexport function getValidationMessage(state: State, key: string) {\n  return fromSettingsPage.getValidationMessage(state.settingsPage, key);\n}\n\nexport function getGlobalMessages(state: State) {\n  return fromGlobalMessages.getGlobalMessages(state.globalMessages);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { combineReducers } from 'redux';\nimport appState from './appState';\nimport branches, * as fromBranches from './branches';\nimport globalMessages, * as fromGlobalMessages from './globalMessages';\nimport languages, * as fromLanguages from './languages';\nimport metrics, * as fromMetrics from './metrics';\nimport organizations, * as fromOrganizations from './organizations';\nimport users, * as fromUsers from './users';\nimport settingsApp, * as fromSettingsApp from '../apps/settings/store/rootReducer';\n\nexport type Store = {\n  appState: T.AppState;\n  branches: fromBranches.State;\n  globalMessages: fromGlobalMessages.State;\n  languages: T.Languages;\n  metrics: fromMetrics.State;\n  organizations: fromOrganizations.State;\n  users: fromUsers.State;\n\n  // apps\n  settingsApp: any;\n};\n\nexport default combineReducers<Store>({\n  appState,\n  branches,\n  globalMessages,\n  languages,\n  metrics,\n  organizations,\n  users,\n\n  // apps\n  settingsApp\n});\n\nexport function getAppState(state: Store) {\n  return state.appState;\n}\n\nexport function getGlobalMessages(state: Store) {\n  return fromGlobalMessages.getGlobalMessages(state.globalMessages);\n}\n\nexport function getLanguages(state: Store) {\n  return fromLanguages.getLanguages(state.languages);\n}\n\nexport function getCurrentUserSetting(state: Store, key: T.CurrentUserSettingNames) {\n  return fromUsers.getCurrentUserSetting(state.users, key);\n}\n\nexport function getCurrentUser(state: Store) {\n  return fromUsers.getCurrentUser(state.users);\n}\n\nexport function getMetrics(state: Store) {\n  return fromMetrics.getMetrics(state.metrics);\n}\n\nexport function getMetricsKey(state: Store) {\n  return fromMetrics.getMetricsKey(state.metrics);\n}\n\nexport function getOrganizationByKey(state: Store, key: string) {\n  return fromOrganizations.getOrganizationByKey(state.organizations, key);\n}\n\nexport function getMyOrganizations(state: Store) {\n  return fromOrganizations.getMyOrganizations(state.organizations);\n}\n\nexport function areThereCustomOrganizations(state: Store) {\n  return getAppState(state).organizationsEnabled;\n}\n\nexport function getGlobalSettingValue(state: Store, key: string) {\n  return fromSettingsApp.getValue(state.settingsApp, key);\n}\n\nexport function getSettingsAppDefinition(state: Store, key: string) {\n  return fromSettingsApp.getDefinition(state.settingsApp, key);\n}\n\nexport function getSettingsAppAllCategories(state: Store) {\n  return fromSettingsApp.getAllCategories(state.settingsApp);\n}\n\nexport function getSettingsAppDefaultCategory(state: Store) {\n  return fromSettingsApp.getDefaultCategory(state.settingsApp);\n}\n\nexport function getSettingsAppSettingsForCategory(\n  state: Store,\n  category: string,\n  component?: string\n) {\n  return fromSettingsApp.getSettingsForCategory(state.settingsApp, category, component);\n}\n\nexport function getSettingsAppChangedValue(state: Store, key: string) {\n  return fromSettingsApp.getChangedValue(state.settingsApp, key);\n}\n\nexport function isSettingsAppLoading(state: Store, key: string) {\n  return fromSettingsApp.isLoading(state.settingsApp, key);\n}\n\nexport function getSettingsAppValidationMessage(state: Store, key: string) {\n  return fromSettingsApp.getValidationMessage(state.settingsApp, key);\n}\n\nexport function getBranchStatusByBranchLike(\n  state: Store,\n  component: string,\n  branchLike: T.BranchLike\n) {\n  return fromBranches.getBranchStatusByBranchLike(state.branches, component, branchLike);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Alert } from './ui/Alert';\nimport { translate } from '../helpers/l10n';\nimport { get, save } from '../helpers/storage';\n\ninterface Loader<P> {\n  (): Promise<{ default: React.ComponentType<P> }>;\n}\n\nexport const LAST_FAILED_CHUNK_STORAGE_KEY = 'sonarqube.last_failed_chunk';\n\nexport function lazyLoad<P>(loader: Loader<P>, displayName?: string) {\n  interface ImportError {\n    request?: string;\n  }\n\n  interface State {\n    Component?: React.ComponentType<P>;\n    error?: ImportError;\n  }\n\n  // use `React.Component`, not `React.PureComponent` to always re-render\n  // and let the child component decide if it needs to change\n  // also, use any instead of P because typescript doesn't cope correctly with default props\n  return class LazyLoader extends React.Component<any, State> {\n    mounted = false;\n    static displayName = displayName;\n    state: State = {};\n\n    componentDidMount() {\n      this.mounted = true;\n      loader().then(i => this.receiveComponent(i.default), this.failToReceiveComponent);\n    }\n\n    componentWillUnmount() {\n      this.mounted = false;\n    }\n\n    receiveComponent = (Component: React.ComponentType<P>) => {\n      if (this.mounted) {\n        this.setState({ Component, error: undefined });\n      }\n    };\n\n    failToReceiveComponent = (error?: ImportError) => {\n      const lastFailedChunk = get(LAST_FAILED_CHUNK_STORAGE_KEY);\n      if (error && error.request === lastFailedChunk) {\n        // BOOM!\n        // this is the second time we try to load the same file\n        // usually that means the file does not exist on the server\n        // so we should not try to reload the page to not fall into infinite reloading\n        // just show the error message\n        if (this.mounted) {\n          this.setState({ Component: undefined, error });\n        }\n      } else {\n        if (error && error.request) {\n          save(LAST_FAILED_CHUNK_STORAGE_KEY, error.request);\n        }\n        window.location.reload();\n      }\n    };\n\n    render() {\n      const { Component, error } = this.state;\n\n      if (error && error.request) {\n        return <Alert variant=\"error\">{translate('default_error_message')}</Alert>;\n      }\n\n      if (!Component) {\n        return null;\n      }\n\n      return <Component {...this.props as any} />;\n    }\n  };\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport getStore from './getStore';\nimport { parseError } from '../../helpers/request';\nimport { addGlobalErrorMessage } from '../../store/globalMessages';\n\nexport default function throwGlobalError(error: { response: Response }): Promise<Response> {\n  const store = getStore();\n\n  // eslint-disable-next-line promise/no-promise-in-callback\n  parseError(error).then(\n    message => {\n      store.dispatch(addGlobalErrorMessage(message));\n    },\n    () => {}\n  );\n  return Promise.reject(error.response);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function InfoIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M10.333 12.375v-1.458a.288.288 0 0 0-.291-.292h-.875V5.958a.288.288 0 0 0-.292-.291H5.958a.288.288 0 0 0-.291.291v1.459c0 .164.127.291.291.291h.875v2.917h-.875a.288.288 0 0 0-.291.292v1.458c0 .164.127.292.291.292h4.084a.288.288 0 0 0 .291-.292zM9.167 4.208V2.75a.288.288 0 0 0-.292-.292h-1.75a.288.288 0 0 0-.292.292v1.458c0 .164.128.292.292.292h1.75a.288.288 0 0 0 .292-.292zM15 8c0 3.865-3.135 7-7 7s-7-3.135-7-7 3.135-7 7-7 7 3.135 7 7z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport * as theme from '../../app/theme';\nimport AlertErrorIcon from '../icons-components/AlertErrorIcon';\nimport InfoIcon from '../icons-components/InfoIcon';\nimport AlertWarnIcon from '../icons-components/AlertWarnIcon';\nimport AlertSuccessIcon from '../icons-components/AlertSuccessIcon';\nimport Tooltip from '../controls/Tooltip';\nimport { translate } from '../../helpers/l10n';\n\ntype AlertDisplay = 'banner' | 'block' | 'inline';\ntype AlertVariant = 'error' | 'warning' | 'success' | 'info';\n\nexport interface AlertProps {\n  display?: AlertDisplay;\n  variant: AlertVariant;\n}\n\nexport function Alert(props: AlertProps & React.HTMLAttributes<HTMLDivElement>) {\n  const { className, display, variant, ...domProps } = props;\n  return (\n    <div\n      className={classNames('alert', `alert-${variant}`, className, {\n        'is-inline': display === 'inline'\n      })}\n      role=\"alert\"\n      {...domProps}>\n      <div className={classNames('alert-inner', { 'is-banner': display === 'banner' })}>\n        <Tooltip overlay={translate('alert.tooltip', variant)}>\n          <div className={classNames('alert-icon', { 'is-banner': display === 'banner' })}>\n            {variant === 'error' && <AlertErrorIcon fill={theme.alertIconError} />}\n            {variant === 'warning' && <AlertWarnIcon fill={theme.alertIconWarning} />}\n            {variant === 'success' && <AlertSuccessIcon fill={theme.alertIconSuccess} />}\n            {variant === 'info' && <InfoIcon fill={theme.alertIconInfo} />}\n          </div>\n        </Tooltip>\n        <div className=\"alert-content\">{props.children}</div>\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport ScreenPositionFixer from './ScreenPositionFixer';\nimport Toggler from './Toggler';\nimport { Popup, PopupPlacement } from '../ui/popups';\n\ninterface OnClickCallback {\n  (event?: React.SyntheticEvent<HTMLElement>): void;\n}\n\ninterface RenderProps {\n  closeDropdown: () => void;\n  onToggleClick: OnClickCallback;\n  open: boolean;\n}\n\ninterface Props {\n  children:\n    | ((renderProps: RenderProps) => JSX.Element)\n    | React.ReactElement<{ onClick: OnClickCallback }>;\n  className?: string;\n  closeOnClick?: boolean;\n  closeOnClickOutside?: boolean;\n  onOpen?: () => void;\n  overlay: React.ReactNode;\n  overlayPlacement?: PopupPlacement;\n  noOverlayPadding?: boolean;\n  tagName?: string;\n}\n\ninterface State {\n  open: boolean;\n}\n\nexport default class Dropdown extends React.PureComponent<Props, State> {\n  state: State = { open: false };\n\n  componentDidUpdate(_: Props, prevState: State) {\n    if (!prevState.open && this.state.open && this.props.onOpen) {\n      this.props.onOpen();\n    }\n  }\n\n  closeDropdown = () => this.setState({ open: false });\n\n  handleToggleClick = (event?: React.SyntheticEvent<HTMLElement>) => {\n    if (event) {\n      event.preventDefault();\n      event.currentTarget.blur();\n    }\n    this.setState(state => ({ open: !state.open }));\n  };\n\n  render() {\n    const a11yAttrs = {\n      'aria-expanded': String(this.state.open),\n      'aria-haspopup': 'true'\n    };\n\n    const child = React.isValidElement(this.props.children)\n      ? React.cloneElement(this.props.children, { onClick: this.handleToggleClick, ...a11yAttrs })\n      : this.props.children({\n          closeDropdown: this.closeDropdown,\n          onToggleClick: this.handleToggleClick,\n          open: this.state.open\n        });\n\n    const { closeOnClick = true, closeOnClickOutside = false } = this.props;\n\n    const toggler = (\n      <Toggler\n        closeOnClick={closeOnClick}\n        closeOnClickOutside={closeOnClickOutside}\n        onRequestClose={this.closeDropdown}\n        open={this.state.open}\n        overlay={\n          <DropdownOverlay\n            noPadding={this.props.noOverlayPadding}\n            placement={this.props.overlayPlacement}>\n            {this.props.overlay}\n          </DropdownOverlay>\n        }>\n        {child}\n      </Toggler>\n    );\n\n    return React.createElement(\n      this.props.tagName || 'div',\n      { className: classNames('dropdown', this.props.className) },\n      toggler\n    );\n  }\n}\n\ninterface OverlayProps {\n  className?: string;\n  children: React.ReactNode;\n  noPadding?: boolean;\n  placement?: PopupPlacement;\n}\n\n// TODO use the same styling for <Select />\n// TODO use the same styling for <DateInput />\n\nexport class DropdownOverlay extends React.Component<OverlayProps> {\n  get placement() {\n    return this.props.placement || PopupPlacement.Bottom;\n  }\n\n  renderPopup = (leftFix?: number, topFix?: number) => (\n    <Popup\n      arrowStyle={\n        leftFix !== undefined && topFix !== undefined\n          ? { transform: `translate(${-leftFix}px, ${-topFix}px)` }\n          : undefined\n      }\n      className={this.props.className}\n      noPadding={this.props.noPadding}\n      placement={this.placement}\n      style={\n        leftFix !== undefined && topFix !== undefined\n          ? { marginLeft: `calc(50% + ${leftFix}px)` }\n          : undefined\n      }>\n      {this.props.children}\n    </Popup>\n  );\n\n  render() {\n    if (this.placement === PopupPlacement.Bottom) {\n      return (\n        <ScreenPositionFixer>\n          {({ leftFix, topFix }) => this.renderPopup(leftFix, topFix)}\n        </ScreenPositionFixer>\n      );\n    } else {\n      return this.renderPopup();\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sortBy } from 'lodash';\n\nexport function isBranch(branchLike?: T.BranchLike): branchLike is T.Branch {\n  return branchLike !== undefined && (branchLike as T.Branch).isMain !== undefined;\n}\n\nexport function isShortLivingBranch(branchLike?: T.BranchLike): branchLike is T.ShortLivingBranch {\n  return (\n    isBranch(branchLike) &&\n    !branchLike.isMain &&\n    (branchLike as T.ShortLivingBranch).type === 'SHORT'\n  );\n}\n\nexport function isLongLivingBranch(branchLike?: T.BranchLike): branchLike is T.LongLivingBranch {\n  return (\n    isBranch(branchLike) && !branchLike.isMain && (branchLike as T.LongLivingBranch).type === 'LONG'\n  );\n}\n\nexport function isMainBranch(branchLike?: T.BranchLike): branchLike is T.MainBranch {\n  return isBranch(branchLike) && branchLike.isMain;\n}\n\nexport function isPullRequest(branchLike?: T.BranchLike): branchLike is T.PullRequest {\n  return branchLike !== undefined && (branchLike as T.PullRequest).key !== undefined;\n}\n\nexport function getPullRequestDisplayName(pullRequest: T.PullRequest) {\n  return `${pullRequest.key}  ${pullRequest.title}`;\n}\n\nexport function getBranchLikeDisplayName(branchLike: T.BranchLike) {\n  return isPullRequest(branchLike) ? getPullRequestDisplayName(branchLike) : branchLike.name;\n}\n\nexport function getBranchLikeKey(branchLike: T.BranchLike) {\n  return isPullRequest(branchLike) ? `pull-request-${branchLike.key}` : `branch-${branchLike.name}`;\n}\n\nexport function getBranchQualityGateColor(status: string) {\n  let indicatorColor = 'gray';\n  if (status === 'ERROR') {\n    indicatorColor = 'red';\n  } else if (status === 'WARN') {\n    indicatorColor = 'orange';\n  } else if (status === 'OK') {\n    indicatorColor = 'green';\n  }\n  return indicatorColor;\n}\n\nexport function isSameBranchLike(a: T.BranchLike | undefined, b: T.BranchLike | undefined) {\n  // main branches are always equal\n  if (isMainBranch(a) && isMainBranch(b)) {\n    return true;\n  }\n\n  // short- and long-living branches are compared by type and name\n  if (\n    (isLongLivingBranch(a) && isLongLivingBranch(b)) ||\n    (isShortLivingBranch(a) && isShortLivingBranch(b))\n  ) {\n    return a.type === b.type && a.name === b.name;\n  }\n\n  // pull requests are compared by id\n  if (isPullRequest(a) && isPullRequest(b)) {\n    return a.key === b.key;\n  }\n\n  // finally if both parameters are `undefined`, consider them equal\n  return a === b;\n}\n\nexport function sortBranchesAsTree(branchLikes: T.BranchLike[]) {\n  const result: T.BranchLike[] = [];\n\n  const mainBranch = branchLikes.find(isMainBranch);\n  const longLivingBranches = branchLikes.filter(isLongLivingBranch);\n  const shortLivingBranches = branchLikes.filter(isShortLivingBranch);\n  const pullRequests = branchLikes.filter(isPullRequest);\n\n  // main branch is always first\n  if (mainBranch) {\n    result.push(\n      mainBranch,\n      ...getPullRequests(mainBranch.name),\n      ...getNestedShortLivingBranches(mainBranch.name)\n    );\n  }\n\n  // then all long-living branches\n  sortBy(longLivingBranches, 'name').forEach(longLivingBranch => {\n    result.push(\n      longLivingBranch,\n      ...getPullRequests(longLivingBranch.name),\n      ...getNestedShortLivingBranches(longLivingBranch.name)\n    );\n  });\n\n  // finally all orhpan pull requests and branches\n  result.push(\n    ...sortBy(pullRequests.filter(pr => pr.isOrphan), pullRequest => pullRequest.key),\n    ...sortBy(shortLivingBranches.filter(branch => branch.isOrphan), branch => branch.name)\n  );\n\n  return result;\n\n  /** Get all short-living branches (possibly nested) which should be merged to a given branch */\n  function getNestedShortLivingBranches(mergeBranch: string) {\n    const found: T.ShortLivingBranch[] = shortLivingBranches.filter(\n      branch => branch.mergeBranch === mergeBranch\n    );\n\n    let i = 0;\n    while (i < found.length) {\n      const current = found[i];\n      found.push(...shortLivingBranches.filter(branch => branch.mergeBranch === current.name));\n      i++;\n    }\n\n    return sortBy(found, branch => branch.name);\n  }\n\n  function getPullRequests(base: string) {\n    return sortBy(pullRequests.filter(pr => pr.base === base), pullRequest => pullRequest.key);\n  }\n}\n\nexport function getBranchLikeQuery(branchLike?: T.BranchLike): T.BranchParameters {\n  if (isShortLivingBranch(branchLike) || isLongLivingBranch(branchLike)) {\n    return { branch: branchLike.name };\n  } else if (isPullRequest(branchLike)) {\n    return { pullRequest: branchLike.key };\n  } else {\n    return {};\n  }\n}\n\n// Create branch object from branch name or pull request key\nexport function fillBranchLike(\n  branch?: string,\n  pullRequest?: string\n): T.ShortLivingBranch | T.PullRequest | undefined {\n  if (branch) {\n    return {\n      isMain: false,\n      mergeBranch: '',\n      name: branch,\n      type: 'SHORT'\n    } as T.ShortLivingBranch;\n  } else if (pullRequest) {\n    return { base: '', branch: '', key: pullRequest, title: '' } as T.PullRequest;\n  }\n  return undefined;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\ninterface DropdownIconProps {\n  turned?: boolean;\n}\n\nexport default function DropdownIcon({\n  className,\n  fill = 'currentColor',\n  size = 16,\n  turned = false\n}: IconProps & DropdownIconProps) {\n  return (\n    <Icon\n      className={className}\n      height={size}\n      style={turned ? { transform: 'rotate(180deg)' } : undefined}\n      viewBox=\"0 0 7 16\"\n      width={(size / 16) * 7}>\n      <path\n        d=\"M7 6.469a.42.42 0 0 1-.13.307L3.808 9.84a.42.42 0 0 1-.308.13.42.42 0 0 1-.308-.13L.13 6.776A.42.42 0 0 1 0 6.47a.42.42 0 0 1 .13-.308.42.42 0 0 1 .307-.13h6.126a.42.42 0 0 1 .307.13.42.42 0 0 1 .13.308z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function hasGlobalPermission(user: T.CurrentUser, permission: string): boolean {\n  if (!user.permissions) {\n    return false;\n  }\n  return user.permissions.global.includes(permission);\n}\n\nexport function isLoggedIn(user: T.CurrentUser): user is T.LoggedInUser {\n  return user.isLoggedIn;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { withRouter as originalWithRouter, WithRouterProps } from 'react-router';\n\nexport type Location = WithRouterProps['location'];\nexport type Router = WithRouterProps['router'];\n\ninterface InjectedProps {\n  location?: Partial<Location>;\n  router?: Partial<Router>;\n}\n\nexport function withRouter<P extends InjectedProps>(\n  WrappedComponent: React.ComponentType<P & InjectedProps>\n): React.ComponentType<T.Omit<P, keyof InjectedProps>> {\n  return originalWithRouter(WrappedComponent as any);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { getJSON, postJSON, post, RequestData } from '../helpers/request';\n\nexport interface BaseSearchProjectsParameters {\n  analyzedBefore?: string;\n  onProvisionedOnly?: boolean;\n  organization: string;\n  projects?: string;\n  q?: string;\n  qualifiers?: string;\n  visibility?: T.Visibility;\n}\n\nexport interface ProjectBase {\n  key: string;\n  name: string;\n  qualifier: string;\n  visibility: T.Visibility;\n}\n\nexport interface Project extends ProjectBase {\n  id: string;\n  lastAnalysisDate?: string;\n  organization: string;\n}\n\nexport interface SearchProjectsParameters extends BaseSearchProjectsParameters {\n  p?: number;\n  ps?: number;\n}\n\nexport function getComponents(\n  parameters: SearchProjectsParameters\n): Promise<{\n  components: Project[];\n  paging: T.Paging;\n}> {\n  return getJSON('/api/projects/search', parameters);\n}\n\nexport function bulkDeleteProjects(\n  parameters: BaseSearchProjectsParameters\n): Promise<void | Response> {\n  return post('/api/projects/bulk_delete', parameters).catch(throwGlobalError);\n}\n\nexport function deleteProject(project: string): Promise<void | Response> {\n  return post('/api/projects/delete', { project }).catch(throwGlobalError);\n}\n\nexport function deletePortfolio(portfolio: string): Promise<void | Response> {\n  return post('/api/views/delete', { key: portfolio }).catch(throwGlobalError);\n}\n\nexport function createProject(data: {\n  name: string;\n  project: string;\n  organization?: string;\n  visibility?: T.Visibility;\n}): Promise<{ project: ProjectBase }> {\n  return postJSON('/api/projects/create', data).catch(throwGlobalError);\n}\n\nexport function searchProjectTags(data?: { ps?: number; q?: string }): Promise<any> {\n  return getJSON('/api/project_tags/search', data).catch(throwGlobalError);\n}\n\nexport function setProjectTags(data: { project: string; tags: string }): Promise<void> {\n  return post('/api/project_tags/set', data);\n}\n\nexport function getComponentTree(\n  strategy: string,\n  component: string,\n  metrics: string[] = [],\n  additional: RequestData = {}\n): Promise<{\n  baseComponent: T.ComponentMeasure;\n  components: T.ComponentMeasure[];\n  metrics: T.Metric[];\n  paging: T.Paging;\n}> {\n  const url = '/api/measures/component_tree';\n  const data = { ...additional, component, metricKeys: metrics.join(','), strategy };\n  return getJSON(url, data).catch(throwGlobalError);\n}\n\nexport function getChildren(\n  component: string,\n  metrics: string[] = [],\n  additional: RequestData = {}\n) {\n  return getComponentTree('children', component, metrics, additional);\n}\n\nexport function getComponentLeaves(\n  component: string,\n  metrics: string[] = [],\n  additional: RequestData = {}\n) {\n  return getComponentTree('leaves', component, metrics, additional);\n}\n\nexport function getComponent(\n  data: { component: string; metricKeys: string } & T.BranchParameters\n): Promise<{ component: T.ComponentMeasure }> {\n  return getJSON('/api/measures/component', data);\n}\n\nexport interface TreeComponent extends T.LightComponent {\n  id: string;\n  name: string;\n  path?: string;\n  refId?: string;\n  refKey?: string;\n  tags?: string[];\n  visibility: T.Visibility;\n}\n\nexport function getTree(data: {\n  asc?: boolean;\n  branch?: string;\n  component: string;\n  p?: number;\n  ps?: number;\n  pullRequest?: string;\n  q?: string;\n  qualifiers?: string;\n  s?: string;\n  strategy?: 'all' | 'leaves' | 'children';\n}): Promise<{ baseComponent: TreeComponent; components: TreeComponent[]; paging: T.Paging }> {\n  return getJSON('/api/components/tree', data).catch(throwGlobalError);\n}\n\nexport function getComponentData(data: { component: string } & T.BranchParameters): Promise<any> {\n  return getJSON('/api/components/show', data);\n}\n\nexport function doesComponentExists(\n  data: { component: string } & T.BranchParameters\n): Promise<boolean> {\n  return getComponentData(data).then(({ component }) => component !== undefined, () => false);\n}\n\nexport function getComponentShow(data: { component: string } & T.BranchParameters): Promise<any> {\n  return getComponentData(data).catch(throwGlobalError);\n}\n\nexport function getParents(component: string): Promise<any> {\n  return getComponentShow({ component }).then(r => r.ancestors);\n}\n\nexport function getBreadcrumbs(data: { component: string } & T.BranchParameters): Promise<any> {\n  return getComponentShow(data).then(r => {\n    const reversedAncestors = [...r.ancestors].reverse();\n    return [...reversedAncestors, r.component];\n  });\n}\n\nexport function getMyProjects(data: {\n  p?: number;\n  ps?: number;\n}): Promise<{ paging: T.Paging; projects: T.MyProject[] }> {\n  return getJSON('/api/projects/search_my_projects', data);\n}\n\nexport interface Component {\n  organization: string;\n  id: string;\n  key: string;\n  name: string;\n  isFavorite?: boolean;\n  analysisDate?: string;\n  tags: string[];\n  visibility: T.Visibility;\n  leakPeriodDate?: string;\n}\n\nexport interface Facet {\n  property: string;\n  values: Array<{ val: string; count: number }>;\n}\n\nexport function searchProjects(\n  data: RequestData\n): Promise<{\n  components: Component[];\n  facets: Facet[];\n  organizations: Array<{ key: string; name: string }>;\n  paging: T.Paging;\n}> {\n  const url = '/api/components/search_projects';\n  return getJSON(url, data);\n}\n\nexport function searchComponents(data?: {\n  q?: string;\n  qualifiers?: string;\n  ps?: number;\n}): Promise<any> {\n  return getJSON('/api/components/search', data);\n}\n\nexport function changeKey(data: { from: string; to: string }) {\n  return post('/api/projects/update_key', data).catch(throwGlobalError);\n}\n\nexport interface SuggestionsResponse {\n  organizations: Array<{ key: string; name: string }>;\n  projects: Array<{ key: string; name: string }>;\n  results: Array<{\n    items: Array<{\n      isFavorite: boolean;\n      isRecentlyBrowsed: boolean;\n      key: string;\n      match: string;\n      name: string;\n      organization: string;\n      project: string;\n    }>;\n    more: number;\n    q: string;\n  }>;\n  warning?: string;\n}\n\nexport function getSuggestions(\n  query?: string,\n  recentlyBrowsed?: string[],\n  more?: string\n): Promise<SuggestionsResponse> {\n  const data: RequestData = {};\n  if (query) {\n    data.s = query;\n  }\n  if (recentlyBrowsed) {\n    data.recentlyBrowsed = recentlyBrowsed.join();\n  }\n  if (more) {\n    data.more = more;\n  }\n  return getJSON('/api/components/suggestions', data).catch(throwGlobalError);\n}\n\nexport function getComponentForSourceViewer(\n  data: { component: string } & T.BranchParameters\n): Promise<T.SourceViewerFile> {\n  return getJSON('/api/components/app', data);\n}\n\nexport function getSources(\n  data: { key: string; from?: number; to?: number } & T.BranchParameters\n): Promise<T.SourceLine[]> {\n  return getJSON('/api/sources/lines', data).then(r => r.sources);\n}\n\nexport function getDuplications(\n  data: { key: string } & T.BranchParameters\n): Promise<{ duplications: T.Duplication[]; files: T.Dict<T.DuplicatedFile> }> {\n  return getJSON('/api/duplications/show', data).catch(throwGlobalError);\n}\n\nexport function getTests(\n  data: { sourceFileKey: string; sourceFileLineNumber: number | string } & T.BranchParameters\n): Promise<any> {\n  return getJSON('/api/tests/list', data).then(r => r.tests);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { createContext } from 'react';\n\ninterface SuggestionsContextShape {\n  addSuggestions: (key: string) => void;\n  removeSuggestions: (key: string) => void;\n  suggestions: T.SuggestionLink[];\n}\n\nexport const SuggestionsContext = createContext<SuggestionsContextShape>({\n  addSuggestions: () => {},\n  removeSuggestions: () => {},\n  suggestions: []\n});\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function SearchIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M10.308 7.077c0-.89-.316-1.65-.949-2.283a3.111 3.111 0 0 0-2.282-.948c-.89 0-1.65.316-2.283.948a3.111 3.111 0 0 0-.948 2.283c0 .89.316 1.65.948 2.282a3.111 3.111 0 0 0 2.283.949c.89 0 1.65-.316 2.282-.949a3.111 3.111 0 0 0 .949-2.282zm3.692 6c0 .25-.091.466-.274.649a.887.887 0 0 1-.65.274.857.857 0 0 1-.648-.274L9.954 11.26c-.86.596-1.82.894-2.877.894a4.989 4.989 0 0 1-1.972-.4 5.076 5.076 0 0 1-1.623-1.082A5.076 5.076 0 0 1 2.4 9.049 4.989 4.989 0 0 1 2 7.077c0-.688.133-1.345.4-1.972a5.076 5.076 0 0 1 1.082-1.623A5.076 5.076 0 0 1 5.105 2.4 4.989 4.989 0 0 1 7.077 2c.687 0 1.345.133 1.972.4a5.076 5.076 0 0 1 1.623 1.082c.454.454.815.995 1.082 1.623.266.627.4 1.284.4 1.972a4.938 4.938 0 0 1-.894 2.877l2.473 2.474a.883.883 0 0 1 .267.649z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { debounce, Cancelable } from 'lodash';\nimport SearchIcon from '../icons-components/SearchIcon';\nimport DeferredSpinner from '../common/DeferredSpinner';\nimport { ClearButton } from '../ui/buttons';\nimport { translateWithParameters, translate } from '../../helpers/l10n';\nimport './SearchBox.css';\n\ninterface Props {\n  autoFocus?: boolean;\n  className?: string;\n  id?: string;\n  innerRef?: (node: HTMLInputElement | null) => void;\n  loading?: boolean;\n  minLength?: number;\n  onChange: (value: string) => void;\n  onClick?: React.MouseEventHandler<HTMLInputElement>;\n  onFocus?: React.FocusEventHandler<HTMLInputElement>;\n  onKeyDown?: React.KeyboardEventHandler<HTMLInputElement>;\n  placeholder: string;\n  value?: string;\n}\n\ninterface State {\n  value: string;\n}\n\nexport default class SearchBox extends React.PureComponent<Props, State> {\n  debouncedOnChange: ((query: string) => void) & Cancelable;\n  input?: HTMLInputElement | null;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { value: props.value || '' };\n    this.debouncedOnChange = debounce(this.props.onChange, 250);\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (\n      // input is controlled\n      nextProps.value !== undefined &&\n      // parent is aware of last change\n      // can happen when previous value was less than min length\n      this.state.value === this.props.value &&\n      nextProps.value !== this.state.value\n    ) {\n      this.setState({ value: nextProps.value });\n    }\n  }\n\n  changeValue = (value: string, debounced = true) => {\n    const { minLength } = this.props;\n    if (value.length === 0) {\n      // immediately notify when value is empty\n      this.props.onChange('');\n      // and cancel scheduled callback\n      this.debouncedOnChange.cancel();\n    } else if (!minLength || minLength <= value.length) {\n      if (debounced) {\n        this.debouncedOnChange(value);\n      } else {\n        this.props.onChange(value);\n      }\n    }\n  };\n\n  handleInputChange = (event: React.SyntheticEvent<HTMLInputElement>) => {\n    const { value } = event.currentTarget;\n    this.setState({ value });\n    this.changeValue(value);\n  };\n\n  handleInputKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {\n    if (event.keyCode === 27) {\n      // escape\n      event.preventDefault();\n      this.handleResetClick();\n    }\n    if (this.props.onKeyDown) {\n      this.props.onKeyDown(event);\n    }\n  };\n\n  handleResetClick = () => {\n    this.changeValue('', false);\n    if (this.props.value === undefined || this.props.value === '') {\n      this.setState({ value: '' });\n    }\n    if (this.input) {\n      this.input.focus();\n    }\n  };\n\n  ref = (node: HTMLInputElement | null) => {\n    this.input = node;\n    if (this.props.innerRef) {\n      this.props.innerRef(node);\n    }\n  };\n\n  render() {\n    const { loading, minLength } = this.props;\n    const { value } = this.state;\n\n    const inputClassName = classNames('search-box-input', {\n      touched: value.length > 0 && (!minLength || minLength > value.length)\n    });\n\n    const tooShort = minLength !== undefined && value.length > 0 && value.length < minLength;\n\n    return (\n      <div\n        className={classNames('search-box', this.props.className)}\n        id={this.props.id}\n        title={tooShort ? translateWithParameters('select2.tooShort', minLength!) : ''}>\n        <input\n          aria-label={translate('search_verb')}\n          autoComplete=\"off\"\n          autoFocus={this.props.autoFocus}\n          className={inputClassName}\n          maxLength={100}\n          onChange={this.handleInputChange}\n          onClick={this.props.onClick}\n          onFocus={this.props.onFocus}\n          onKeyDown={this.handleInputKeyDown}\n          placeholder={this.props.placeholder}\n          ref={this.ref}\n          type=\"search\"\n          value={value}\n        />\n\n        <DeferredSpinner loading={loading !== undefined ? loading : false}>\n          <SearchIcon className=\"search-box-magnifier\" />\n        </DeferredSpinner>\n\n        {value && (\n          <ClearButton\n            className=\"button-tiny search-box-clear\"\n            iconProps={{ size: 12 }}\n            onClick={this.handleResetClick}\n          />\n        )}\n\n        {tooShort && (\n          <span className=\"search-box-note\">\n            {translateWithParameters('select2.tooShort', minLength!)}\n          </span>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON, RequestData } from '../helpers/request';\nimport { RawIssue } from '../helpers/issues';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport getCoverageStatus from '../components/SourceViewer/helpers/getCoverageStatus';\n\nexport interface IssueResponse {\n  components?: Array<{ key: string; name: string }>;\n  issue: RawIssue;\n  rules?: Array<{}>;\n  users?: Array<{ login: string }>;\n}\n\ninterface IssuesResponse {\n  components?: { key: string; organization: string; name: string }[];\n  effortTotal: number;\n  facets: Array<{\n    property: string;\n    values: { count: number; val: string }[];\n  }>;\n  issues: RawIssue[];\n  paging: {\n    pageIndex: number;\n    pageSize: number;\n    total: number;\n  };\n  rules?: Array<{}>;\n  users?: { login: string }[];\n}\n\ntype FacetName =\n  | 'assigned_to_me'\n  | 'assignees'\n  | 'authors'\n  | 'createdAt'\n  | 'cwe'\n  | 'directories'\n  | 'files'\n  | 'languages'\n  | 'modules'\n  | 'owaspTop10'\n  | 'projects'\n  | 'reporters'\n  | 'resolutions'\n  | 'rules'\n  | 'sansTop25'\n  | 'severities'\n  | 'statuses'\n  | 'tags'\n  | 'types';\n\nexport function searchIssues(query: RequestData): Promise<IssuesResponse> {\n  return getJSON('/api/issues/search', query);\n}\n\nexport function getFacets(\n  query: RequestData,\n  facets: FacetName[]\n): Promise<{\n  facets: Array<{ property: string; values: T.FacetValue[] }>;\n  response: IssuesResponse;\n}> {\n  const data = {\n    ...query,\n    facets: facets.join(),\n    ps: 1,\n    additionalFields: '_all'\n  };\n  return searchIssues(data).then(r => {\n    return { facets: r.facets, response: r };\n  });\n}\n\nexport function getFacet(\n  query: RequestData,\n  facet: FacetName\n): Promise<{ facet: { count: number; val: string }[]; response: IssuesResponse }> {\n  return getFacets(query, [facet]).then(r => {\n    return { facet: r.facets[0].values, response: r.response };\n  });\n}\n\nexport function searchIssueTags(data: {\n  organization?: string;\n  project?: string;\n  ps?: number;\n  q?: string;\n}): Promise<string[]> {\n  return getJSON('/api/issues/tags', data)\n    .then(r => r.tags)\n    .catch(throwGlobalError);\n}\n\nexport function getIssueChangelog(issue: string): Promise<any> {\n  return getJSON('/api/issues/changelog', { issue }).then(r => r.changelog, throwGlobalError);\n}\n\nexport function getIssueFilters() {\n  return getJSON('/api/issue_filters/search').then(r => r.issueFilters);\n}\n\nexport function addIssueComment(data: { issue: string; text: string }): Promise<IssueResponse> {\n  return postJSON('/api/issues/add_comment', data);\n}\n\nexport function deleteIssueComment(data: { comment: string }): Promise<IssueResponse> {\n  return postJSON('/api/issues/delete_comment', data);\n}\n\nexport function editIssueComment(data: { comment: string; text: string }): Promise<IssueResponse> {\n  return postJSON('/api/issues/edit_comment', data);\n}\n\nexport function setIssueAssignee(data: {\n  issue: string;\n  assignee?: string;\n}): Promise<IssueResponse> {\n  return postJSON('/api/issues/assign', data);\n}\n\nexport function setIssueSeverity(data: { issue: string; severity: string }): Promise<any> {\n  return postJSON('/api/issues/set_severity', data);\n}\n\nexport function setIssueTags(data: { issue: string; tags: string }): Promise<IssueResponse> {\n  return postJSON('/api/issues/set_tags', data);\n}\n\nexport function setIssueTransition(data: {\n  issue: string;\n  transition: string;\n}): Promise<IssueResponse> {\n  return postJSON('/api/issues/do_transition', data);\n}\n\nexport function setIssueType(data: { issue: string; type: string }): Promise<IssueResponse> {\n  return postJSON('/api/issues/set_type', data);\n}\n\nexport function bulkChangeIssues(issueKeys: string[], query: RequestData): Promise<void> {\n  return post('/api/issues/bulk_change', { issues: issueKeys.join(), ...query });\n}\n\nexport function searchIssueAuthors(data: {\n  organization?: string;\n  project?: string;\n  ps?: number;\n  q?: string;\n}): Promise<string[]> {\n  return getJSON('/api/issues/authors', data).then(r => r.authors, throwGlobalError);\n}\n\nexport function getIssueFlowSnippets(issueKey: string): Promise<T.Dict<T.SnippetsByComponent>> {\n  return getJSON('/api/sources/issue_snippets', { issueKey }).then(result => {\n    Object.keys(result).forEach(k => {\n      if (result[k].sources) {\n        result[k].sources = result[k].sources.reduce(\n          (lineMap: T.Dict<T.SourceLine>, line: T.SourceLine) => {\n            line.coverageStatus = getCoverageStatus(line);\n            lineMap[line.line] = line;\n            return lineMap;\n          },\n          {}\n        );\n      }\n    });\n    return result;\n  }, throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { uniqueId } from 'lodash';\nimport { Dispatch } from 'redux';\nimport { requireAuthorization } from './appState';\nimport { ActionType } from './utils/actions';\n\nenum MessageLevel {\n  Error = 'ERROR',\n  Success = 'SUCCESS'\n}\n\ninterface Message {\n  id: string;\n  message: string;\n  level: MessageLevel;\n}\n\nfunction addGlobalMessageActionCreator(id: string, message: string, level: MessageLevel) {\n  return { type: 'ADD_GLOBAL_MESSAGE', message, level, id };\n}\n\nexport function closeGlobalMessage(id: string) {\n  return { type: 'CLOSE_GLOBAL_MESSAGE', id };\n}\n\nexport function closeAllGlobalMessages() {\n  return { type: 'CLOSE_ALL_GLOBAL_MESSAGES' };\n}\n\ntype Action =\n  | ActionType<typeof addGlobalMessageActionCreator, 'ADD_GLOBAL_MESSAGE'>\n  | ActionType<typeof closeGlobalMessage, 'CLOSE_GLOBAL_MESSAGE'>\n  | ActionType<typeof closeAllGlobalMessages, 'CLOSE_ALL_GLOBAL_MESSAGES'>\n  | ActionType<typeof requireAuthorization, 'REQUIRE_AUTHORIZATION'>;\n\nfunction addGlobalMessage(message: string, level: MessageLevel) {\n  return (dispatch: Dispatch) => {\n    const id = uniqueId('global-message-');\n    dispatch(addGlobalMessageActionCreator(id, message, level));\n    setTimeout(() => dispatch(closeGlobalMessage(id)), 5000);\n  };\n}\n\nexport function addGlobalErrorMessage(message: string) {\n  return addGlobalMessage(message, MessageLevel.Error);\n}\n\nexport function addGlobalSuccessMessage(message: string) {\n  return addGlobalMessage(message, MessageLevel.Success);\n}\n\nexport type State = Message[];\n\nexport default function(state: State = [], action: Action): State {\n  switch (action.type) {\n    case 'ADD_GLOBAL_MESSAGE':\n      return [{ id: action.id, message: action.message, level: action.level }];\n\n    case 'REQUIRE_AUTHORIZATION':\n      // FIXME l10n\n      return [\n        {\n          id: uniqueId('global-message-'),\n          message:\n            'You are not authorized to access this page. ' +\n            'Please log in with more privileges and try again.',\n          level: MessageLevel.Error\n        }\n      ];\n\n    case 'CLOSE_GLOBAL_MESSAGE':\n      return state.filter(message => message.id !== action.id);\n\n    case 'CLOSE_ALL_GLOBAL_MESSAGES':\n      return [];\n    default:\n      return state;\n  }\n}\n\nexport function getGlobalMessages(state: State) {\n  return state;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function HelpIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <g transform=\"matrix(0.0364583,0,0,0.0364583,1,-0.166667)\">\n        <path\n          d=\"M224,344L224,296C224,293.667 223.25,291.75 221.75,290.25C220.25,288.75 218.333,288 216,288L168,288C165.667,288 163.75,288.75 162.25,290.25C160.75,291.75 160,293.667 160,296L160,344C160,346.333 160.75,348.25 162.25,349.75C163.75,351.25 165.667,352 168,352L216,352C218.333,352 220.25,351.25 221.75,349.75C223.25,348.25 224,346.333 224,344ZM288,176C288,161.333 283.375,147.75 274.125,135.25C264.875,122.75 253.333,113.083 239.5,106.25C225.667,99.417 211.5,96 197,96C156.5,96 125.583,113.75 104.25,149.25C101.75,153.25 102.417,156.75 106.25,159.75L139.25,184.75C140.417,185.75 142,186.25 144,186.25C146.667,186.25 148.75,185.25 150.25,183.25C159.083,171.917 166.25,164.25 171.75,160.25C177.417,156.25 184.583,154.25 193.25,154.25C201.25,154.25 208.375,156.417 214.625,160.75C220.875,165.083 224,170 224,175.5C224,181.833 222.333,186.917 219,190.75C215.667,194.583 210,198.333 202,202C191.5,206.667 181.875,213.875 173.125,223.625C164.375,233.375 160,243.833 160,255L160,264C160,266.333 160.75,268.25 162.25,269.75C163.75,271.25 165.667,272 168,272L216,272C218.333,272 220.25,271.25 221.75,269.75C223.25,268.25 224,266.333 224,264C224,260.833 225.792,256.708 229.375,251.625C232.958,246.542 237.5,242.417 243,239.25C248.333,236.25 252.417,233.875 255.25,232.125C258.083,230.375 261.917,227.458 266.75,223.375C271.583,219.292 275.292,215.292 277.875,211.375C280.458,207.458 282.792,202.417 284.875,196.25C286.958,190.083 288,183.333 288,176ZM384,224C384,258.833 375.417,290.958 358.25,320.375C341.083,349.792 317.792,373.083 288.375,390.25C258.958,407.417 226.833,416 192,416C157.167,416 125.042,407.417 95.625,390.25C66.208,373.083 42.917,349.792 25.75,320.375C8.583,290.958 0,258.833 0,224C0,189.167 8.583,157.042 25.75,127.625C42.917,98.208 66.208,74.917 95.625,57.75C125.042,40.583 157.167,32 192,32C226.833,32 258.958,40.583 288.375,57.75C317.792,74.917 341.083,98.208 358.25,127.625C375.417,157.042 384,189.167 384,224Z\"\n          style={{ fill }}\n        />\n      </g>\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\ninterface Props {\n  children: React.ReactNode;\n  onClick: () => void;\n}\n\nexport default class DocumentClickHandler extends React.Component<Props> {\n  componentDidMount() {\n    setTimeout(() => {\n      this.addClickHandler();\n    }, 0);\n  }\n\n  componentWillUnmount() {\n    this.removeClickHandler();\n  }\n\n  addClickHandler = () => {\n    document.addEventListener('click', this.handleDocumentClick);\n  };\n\n  removeClickHandler = () => {\n    document.removeEventListener('click', this.handleDocumentClick);\n  };\n\n  handleDocumentClick = () => {\n    this.props.onClick();\n  };\n\n  render() {\n    return this.props.children;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport DocumentClickHandler from './DocumentClickHandler';\nimport OutsideClickHandler from './OutsideClickHandler';\n\nexport interface Props {\n  children?: React.ReactNode;\n  closeOnClick?: boolean;\n  closeOnClickOutside?: boolean;\n  closeOnEscape?: boolean;\n  onRequestClose: () => void;\n  open: boolean;\n  overlay: React.ReactNode;\n}\n\nexport default class Toggler extends React.Component<Props> {\n  componentDidMount() {\n    if (this.props.open && isTrueOrUndefined(this.props.closeOnEscape)) {\n      this.addEventListeners();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (!prevProps.open && this.props.open && isTrueOrUndefined(this.props.closeOnEscape)) {\n      this.addEventListeners();\n    } else if (prevProps.open && !this.props.open) {\n      this.removeEventListeners();\n    } else if (\n      isTrueOrUndefined(prevProps.closeOnEscape) &&\n      !isTrueOrUndefined(this.props.closeOnEscape)\n    ) {\n      this.removeEventListeners();\n    }\n  }\n\n  componentWillUnmount() {\n    this.removeEventListeners();\n  }\n\n  addEventListeners() {\n    document.addEventListener('keydown', this.handleKeyDown, false);\n  }\n\n  removeEventListeners() {\n    document.removeEventListener('keydown', this.handleKeyDown, false);\n  }\n\n  handleKeyDown = (event: KeyboardEvent) => {\n    // Escape key\n    if (event.keyCode === 27) {\n      this.props.onRequestClose();\n    }\n  };\n\n  renderOverlay() {\n    const {\n      closeOnClick = false,\n      closeOnClickOutside = true,\n      onRequestClose,\n      overlay\n    } = this.props;\n\n    if (closeOnClick) {\n      return <DocumentClickHandler onClick={onRequestClose}>{overlay}</DocumentClickHandler>;\n    } else if (closeOnClickOutside) {\n      return <OutsideClickHandler onClickOutside={onRequestClose}>{overlay}</OutsideClickHandler>;\n    } else {\n      return overlay;\n    }\n  }\n\n  render() {\n    return (\n      <>\n        {this.props.children}\n        {this.props.open && this.renderOverlay()}\n      </>\n    );\n  }\n}\n\nfunction isTrueOrUndefined(x: boolean | undefined) {\n  return x === true || x === undefined;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport thunk, { ThunkMiddleware } from 'redux-thunk';\n\ntype RootReducer = typeof import('../rootReducer').default;\ntype State = import('../rootReducer').Store;\n\nconst middlewares = [thunk as ThunkMiddleware<State, any>];\nconst composed = [];\n\nif (process.env.NODE_ENV === 'development') {\n  const { createLogger } = require('redux-logger');\n  middlewares.push(createLogger());\n\n  const { __REDUX_DEVTOOLS_EXTENSION__ } = window as any;\n  composed.push(__REDUX_DEVTOOLS_EXTENSION__ ? __REDUX_DEVTOOLS_EXTENSION__() : (f: Function) => f);\n}\n\nconst finalCreateStore = compose(\n  applyMiddleware(...middlewares),\n  ...composed\n)(createStore);\n\nexport default function configureStore(rootReducer: RootReducer, initialState?: State) {\n  return finalCreateStore(rootReducer, initialState);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { Store } from 'redux';\nimport { setAppState } from '../../store/appState';\nimport rootReducer, { Store as State } from '../../store/rootReducer';\nimport { receiveCurrentUser } from '../../store/users';\nimport configureStore from '../../store/utils/configureStore';\n\nlet store: Store<State, any>;\n\nconst createStore = (currentUser?: T.CurrentUser, appState?: T.AppState) => {\n  store = configureStore(rootReducer);\n  if (currentUser) {\n    store.dispatch(receiveCurrentUser(currentUser));\n  }\n  if (appState) {\n    store.dispatch(setAppState(appState));\n  }\n  return store;\n};\n\nexport default (currentUser?: T.CurrentUser, appState?: T.AppState) =>\n  store ? store : createStore(currentUser, appState);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport * as classNames from 'classnames';\nimport GenericAvatar from './GenericAvatar';\nimport { getGlobalSettingValue, Store } from '../../store/rootReducer';\n\ninterface Props {\n  className?: string;\n  enableGravatar: boolean;\n  gravatarServerUrl: string;\n  hash?: string;\n  name?: string;\n  size: number;\n}\n\nfunction Avatar(props: Props) {\n  if (!props.enableGravatar || !props.hash) {\n    if (!props.name) {\n      return null;\n    }\n    return <GenericAvatar className={props.className} name={props.name} size={props.size} />;\n  }\n\n  const url = props.gravatarServerUrl\n    .replace('{EMAIL_MD5}', props.hash)\n    .replace('{SIZE}', String(props.size * 2));\n\n  return (\n    <img\n      alt={props.name}\n      className={classNames(props.className, 'rounded')}\n      height={props.size}\n      src={url}\n      width={props.size}\n    />\n  );\n}\n\nconst mapStateToProps = (state: Store) => {\n  const enableGravatar = getGlobalSettingValue(state, 'sonar.lf.enableGravatar');\n  const gravatarServerUrl = getGlobalSettingValue(state, 'sonar.lf.gravatarServerUrl');\n  return {\n    enableGravatar: Boolean(enableGravatar && enableGravatar.value === 'true'),\n    gravatarServerUrl: (gravatarServerUrl && gravatarServerUrl.value) || ''\n  };\n};\n\nexport default connect(mapStateToProps)(Avatar);\n\nexport const unconnectedAvatar = Avatar;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function collapsePath(path: string, limit = 30): string {\n  if (typeof path !== 'string') {\n    return '';\n  }\n\n  const tokens = path.split('/');\n\n  if (tokens.length <= 2) {\n    return path;\n  }\n\n  const head = tokens[0];\n  const tail = tokens[tokens.length - 1];\n  const middle = tokens.slice(1, -1);\n  let cut = false;\n\n  while (middle.join().length > limit && middle.length > 0) {\n    middle.shift();\n    cut = true;\n  }\n\n  const body = [head, ...(cut ? ['...'] : []), ...middle, tail];\n  return body.join('/');\n}\n\n/**\n * Return a collapsed path without a file name\n * @example\n * // returns 'src/.../js/components/navigator/app/models/'\n * collapsedDirFromPath('src/main/js/components/navigator/app/models/state.js')\n */\nexport function collapsedDirFromPath(path: string | null): string | null {\n  const limit = 30;\n  if (typeof path === 'string') {\n    const tokens = path.split('/').slice(0, -1);\n    if (tokens.length > 2) {\n      const head = tokens[0];\n      const tail = tokens[tokens.length - 1];\n      const middle = tokens.slice(1, -1);\n\n      let cut = false;\n      while (middle.join().length > limit && middle.length > 0) {\n        middle.shift();\n        cut = true;\n      }\n      const body = [head, ...(cut ? ['...'] : []), ...middle, tail];\n      return body.join('/') + '/';\n    } else {\n      return tokens.join('/') + '/';\n    }\n  } else {\n    return null;\n  }\n}\n\n/**\n * Return a file name for a given file path\n * * @example\n * // returns 'state.js'\n * collapsedDirFromPath('src/main/js/components/navigator/app/models/state.js')\n */\nexport function fileFromPath(path: string | null): string | null {\n  if (typeof path === 'string') {\n    const tokens = path.split('/');\n    return tokens[tokens.length - 1];\n  } else {\n    return null;\n  }\n}\n\nexport function splitPath(path: string) {\n  const tokens = path.split('/');\n  return {\n    head: tokens.slice(0, -1).join('/'),\n    tail: tokens[tokens.length - 1]\n  };\n}\n\nexport function cutLongWords(str: string, limit = 30) {\n  return str\n    .split(' ')\n    .map(word => (word.length > limit ? word.substr(0, limit) + '...' : word))\n    .join(' ');\n}\n\nexport function limitComponentName(str: string, limit = 30): string {\n  if (typeof str === 'string') {\n    return str.length > limit ? str.substr(0, limit) + '...' : str;\n  } else {\n    return '';\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { createContext } from 'react';\n\nexport interface A11yContextShape {\n  addA11ySkipLink: (link: T.A11ySkipLink) => void;\n  removeA11ySkipLink: (link: T.A11ySkipLink) => void;\n  links: T.A11ySkipLink[];\n}\n\nexport const A11yContext = createContext<A11yContextShape>({\n  addA11ySkipLink: () => {},\n  removeA11ySkipLink: () => {},\n  links: []\n});\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { request } from '../helpers/request';\n\nexport function login(login: string, password: string): Promise<Response> {\n  return request('/api/authentication/login')\n    .setMethod('POST')\n    .setData({ login, password })\n    .submit()\n    .then(basicCheckStatus);\n}\n\nexport function logout(): Promise<Response> {\n  return request('/api/authentication/logout')\n    .setMethod('POST')\n    .submit()\n    .then(basicCheckStatus);\n}\n\nfunction basicCheckStatus(response: Response): Promise<Response> {\n  if (response.status >= 200 && response.status < 300) {\n    return Promise.resolve(response);\n  } else {\n    return Promise.reject(response);\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { Dispatch } from 'redux';\nimport { InjectedRouter } from 'react-router';\nimport { debounce } from 'lodash';\nimport { requireAuthorization as requireAuthorizationAction } from './appState';\nimport { registerBranchStatusAction } from './branches';\nimport { addGlobalErrorMessage } from './globalMessages';\nimport { receiveLanguages } from './languages';\nimport { receiveMetrics } from './metrics';\nimport { receiveOrganizations } from './organizations';\nimport * as auth from '../api/auth';\nimport { getLanguages } from '../api/languages';\nimport { getAllMetrics } from '../api/metrics';\nimport { getOrganizations, getOrganization, getOrganizationNavigation } from '../api/organizations';\nimport { getQualityGateProjectStatus } from '../api/quality-gates';\nimport { getBranchLikeQuery } from '../helpers/branches';\nimport { extractStatusConditionsFromProjectStatus } from '../helpers/qualityGates';\n\nexport function fetchLanguages() {\n  return (dispatch: Dispatch) => {\n    getLanguages().then(languages => dispatch(receiveLanguages(languages)), () => {});\n  };\n}\n\nexport function fetchMetrics() {\n  return (dispatch: Dispatch) => {\n    getAllMetrics().then(metrics => dispatch(receiveMetrics(metrics)), () => {});\n  };\n}\n\nexport function fetchOrganizations(organizations: string[]) {\n  return (dispatch: Dispatch) => {\n    getOrganizations({ organizations: organizations && organizations.join() }).then(\n      r => dispatch(receiveOrganizations(r.organizations)),\n      () => {}\n    );\n  };\n}\n\nexport const fetchOrganization = (key: string) => (dispatch: Dispatch) => {\n  return Promise.all([getOrganization(key), getOrganizationNavigation(key)]).then(\n    ([organization, navigation]) => {\n      if (organization) {\n        const organizationWithPermissions = { ...organization, ...navigation };\n        dispatch(receiveOrganizations([organizationWithPermissions]));\n      }\n    }\n  );\n};\n\nexport function fetchBranchStatus(branchLike: T.BranchLike, projectKey: string) {\n  return debounce((dispatch: Dispatch<any>) => {\n    getQualityGateProjectStatus({ projectKey, ...getBranchLikeQuery(branchLike) }).then(\n      projectStatus => {\n        const { ignoredConditions, status } = projectStatus;\n        const conditions = extractStatusConditionsFromProjectStatus(projectStatus);\n        dispatch(\n          registerBranchStatusAction(branchLike, projectKey, status, conditions, ignoredConditions)\n        );\n      },\n      () => {\n        dispatch(addGlobalErrorMessage('Fetching Quality Gate status failed'));\n      }\n    );\n  }, 1000);\n}\n\nexport function doLogin(login: string, password: string) {\n  return (dispatch: Dispatch<any>) =>\n    auth.login(login, password).then(\n      () => {\n        /* everything is fine */\n      },\n      () => {\n        dispatch(addGlobalErrorMessage('Authentication failed'));\n        return Promise.reject();\n      }\n    );\n}\n\nexport function doLogout() {\n  return (dispatch: Dispatch<any>) =>\n    auth.logout().then(\n      () => {\n        /* everything is fine */\n      },\n      () => {\n        dispatch(addGlobalErrorMessage('Logout failed'));\n        return Promise.reject();\n      }\n    );\n}\n\nexport function requireAuthorization(router: Pick<InjectedRouter, 'replace'>) {\n  const returnTo = window.location.pathname + window.location.search + window.location.hash;\n  router.replace({ pathname: '/sessions/new', query: { return_to: returnTo } });\n  return requireAuthorizationAction();\n}\n\nexport function registerBranchStatus(\n  branchLike: T.BranchLike,\n  component: string,\n  status: T.Status\n) {\n  return (dispatch: Dispatch) => {\n    dispatch(registerBranchStatusAction(branchLike, component, status));\n  };\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport function getLanguages(): Promise<T.Language[]> {\n  return getJSON('/api/languages/list').then(r => r.languages, throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport function getOrganizations(data: {\n  organizations?: string;\n  member?: boolean;\n}): Promise<{\n  organizations: T.Organization[];\n  paging: T.Paging;\n}> {\n  return getJSON('/api/organizations/search', data).catch(throwGlobalError);\n}\n\nexport function getOrganization(key: string): Promise<T.Organization | undefined> {\n  return getJSON('/api/organizations/search', { organizations: key }).then(\n    r => r.organizations.find((o: T.Organization) => o.key === key),\n    throwGlobalError\n  );\n}\n\ninterface GetOrganizationNavigation {\n  adminPages: T.Extension[];\n  alm?: { key: string; membersSync: boolean; url: string };\n  canUpdateProjectsVisibilityToPrivate: boolean;\n  isDefault: boolean;\n  pages: T.Extension[];\n}\n\nexport function getOrganizationNavigation(key: string): Promise<GetOrganizationNavigation> {\n  return getJSON('/api/navigation/organization', { organization: key }).then(\n    r => r.organization,\n    throwGlobalError\n  );\n}\n\nexport function createOrganization(\n  data: T.OrganizationBase & { installationId?: string }\n): Promise<T.Organization> {\n  return postJSON('/api/organizations/create', data).then(r => r.organization, throwGlobalError);\n}\n\nexport function updateOrganization(key: string, changes: T.OrganizationBase) {\n  return post('/api/organizations/update', { key, ...changes }).catch(throwGlobalError);\n}\n\nexport function deleteOrganization(key: string) {\n  return post('/api/organizations/delete', { key }).catch(throwGlobalError);\n}\n\nexport function searchMembers(data: {\n  organization?: string;\n  p?: number;\n  ps?: number;\n  q?: string;\n  selected?: string;\n}): Promise<{ paging: T.Paging; users: T.OrganizationMember[] }> {\n  return getJSON('/api/organizations/search_members', data).catch(throwGlobalError);\n}\n\nexport function addMember(data: {\n  login: string;\n  organization: string;\n}): Promise<T.OrganizationMember> {\n  return postJSON('/api/organizations/add_member', data).then(r => r.user, throwGlobalError);\n}\n\nexport function removeMember(data: { login: string; organization: string }) {\n  return post('/api/organizations/remove_member', data).catch(throwGlobalError);\n}\n\nexport interface OrganizationBilling {\n  nclocCount: number;\n  subscription: {\n    plan?: {\n      maxNcloc: number;\n      price: number;\n    };\n    nextBillingDate?: string;\n    status: 'active' | 'inactive' | 'suspended';\n    trial: boolean;\n  };\n}\n\nexport function getOrganizationBilling(organization: string): Promise<OrganizationBilling> {\n  return getJSON('/api/billing/show', { organization, p: 1, ps: 1 });\n}\n\nexport function setOrganizationMemberSync(data: { enabled: boolean; organization: string }) {\n  return post('/api/organizations/set_members_sync', data).catch(throwGlobalError);\n}\n\nexport function syncMembers(organization: string) {\n  return post('/api/organizations/sync_members', { organization }).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport './popups.css';\n\nexport enum PopupPlacement {\n  Bottom = 'bottom',\n  BottomLeft = 'bottom-left',\n  BottomRight = 'bottom-right',\n  LeftTop = 'left-top',\n  RightTop = 'right-top'\n}\n\ninterface PopupProps {\n  arrowStyle?: React.CSSProperties;\n  children?: React.ReactNode;\n  className?: string;\n  noPadding?: boolean;\n  placement?: PopupPlacement;\n  style?: React.CSSProperties;\n}\n\nexport function Popup(props: PopupProps) {\n  const { placement = PopupPlacement.Bottom } = props;\n  return (\n    <div\n      className={classNames(\n        'popup',\n        `is-${placement}`,\n        { 'no-padding': props.noPadding },\n        props.className\n      )}\n      style={props.style}>\n      {props.children}\n      <PopupArrow style={props.arrowStyle} />\n    </div>\n  );\n}\n\ninterface PopupArrowProps {\n  style?: React.CSSProperties;\n}\n\nexport function PopupArrow(props: PopupArrowProps) {\n  return <div className=\"popup-arrow\" style={props.style} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getInstance } from '../../helpers/system';\n\ninterface Props {\n  children?: (transformedMessage: string) => React.ReactChild;\n  message: string;\n}\n\nexport default function InstanceMessage({ children, message }: Props): any {\n  const transformedMessage = message.replace(/\\{instance\\}/gim, getInstance());\n\n  if (children) {\n    return children(transformedMessage);\n  }\n\n  return transformedMessage;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function getWrappedDisplayName(WrappedComponent: React.ComponentType, hocName: string) {\n  const wrappedDisplayName = WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  return `${hocName}(${wrappedDisplayName})`;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { useRouterHistory } from 'react-router';\nimport { createHistory, History } from 'history';\n\nlet history: History;\n\nfunction ensureHistory() {\n  history = useRouterHistory(createHistory)({\n    // do not use `getBaseUrl` from `helpers/urls` to no import this file with all its dependecies\n    basename: (window as any).baseUrl\n  });\n  return history;\n}\n\nexport default function getHistory() {\n  return history ? history : ensureHistory();\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { searchMembers } from '../../api/organizations';\nimport { searchUsers } from '../../api/users';\nimport { formatMeasure } from '../../helpers/measures';\nimport { get, save } from '../../helpers/storage';\nimport {\n  queriesEqual,\n  cleanQuery,\n  parseAsBoolean,\n  parseAsArray,\n  parseAsString,\n  serializeString,\n  serializeStringArray,\n  parseAsDate,\n  serializeDateShort,\n  RawQuery\n} from '../../helpers/query';\nimport { scrollToElement } from '../../helpers/scrolling';\n\nexport interface Query {\n  assigned: boolean;\n  assignees: string[];\n  authors: string[];\n  createdAfter: Date | undefined;\n  createdAt: string;\n  createdBefore: Date | undefined;\n  createdInLast: string;\n  cwe: string[];\n  directories: string[];\n  files: string[];\n  issues: string[];\n  languages: string[];\n  modules: string[];\n  owaspTop10: string[];\n  projects: string[];\n  resolutions: string[];\n  resolved: boolean;\n  rules: string[];\n  sansTop25: string[];\n  severities: string[];\n  sinceLeakPeriod: boolean;\n  sonarsourceSecurity: string[];\n  sort: string;\n  statuses: string[];\n  tags: string[];\n  types: string[];\n}\n\nexport const STANDARDS = 'standards';\nexport const STANDARD_TYPES: T.StandardType[] = [\n  'owaspTop10',\n  'sansTop25',\n  'cwe',\n  'sonarsourceSecurity'\n];\n\n// allow sorting by CREATION_DATE only\nconst parseAsSort = (sort: string) => (sort === 'CREATION_DATE' ? 'CREATION_DATE' : '');\nconst ISSUES_DEFAULT = 'sonarqube.issues.default';\n\nexport function parseQuery(query: RawQuery): Query {\n  return {\n    assigned: parseAsBoolean(query.assigned),\n    assignees: parseAsArray(query.assignees, parseAsString),\n    authors: parseAsArray(query.authors, parseAsString),\n    createdAfter: parseAsDate(query.createdAfter),\n    createdAt: parseAsString(query.createdAt),\n    createdBefore: parseAsDate(query.createdBefore),\n    createdInLast: parseAsString(query.createdInLast),\n    cwe: parseAsArray(query.cwe, parseAsString),\n    directories: parseAsArray(query.directories, parseAsString),\n    files: parseAsArray(query.fileUuids, parseAsString),\n    issues: parseAsArray(query.issues, parseAsString),\n    languages: parseAsArray(query.languages, parseAsString),\n    modules: parseAsArray(query.moduleUuids, parseAsString),\n    owaspTop10: parseAsArray(query.owaspTop10, parseAsString),\n    projects: parseAsArray(query.projects, parseAsString),\n    resolutions: parseAsArray(query.resolutions, parseAsString),\n    resolved: parseAsBoolean(query.resolved),\n    rules: parseAsArray(query.rules, parseAsString),\n    sansTop25: parseAsArray(query.sansTop25, parseAsString),\n    severities: parseAsArray(query.severities, parseAsString),\n    sinceLeakPeriod: parseAsBoolean(query.sinceLeakPeriod, false),\n    sonarsourceSecurity: parseAsArray(query.sonarsourceSecurity, parseAsString),\n    sort: parseAsSort(query.s),\n    statuses: parseAsArray(query.statuses, parseAsString),\n    tags: parseAsArray(query.tags, parseAsString),\n    types: parseAsArray(query.types, parseAsString)\n  };\n}\n\nexport function getOpen(query: RawQuery): string {\n  return query.open;\n}\n\nexport const areMyIssuesSelected = (query: RawQuery) => query.myIssues === 'true';\n\nexport function serializeQuery(query: Query): RawQuery {\n  const filter = {\n    assigned: query.assigned ? undefined : 'false',\n    assignees: serializeStringArray(query.assignees),\n    authors: serializeStringArray(query.authors),\n    createdAfter: serializeDateShort(query.createdAfter),\n    createdAt: serializeString(query.createdAt),\n    createdBefore: serializeDateShort(query.createdBefore),\n    createdInLast: serializeString(query.createdInLast),\n    cwe: serializeStringArray(query.cwe),\n    directories: serializeStringArray(query.directories),\n    fileUuids: serializeStringArray(query.files),\n    issues: serializeStringArray(query.issues),\n    languages: serializeStringArray(query.languages),\n    moduleUuids: serializeStringArray(query.modules),\n    owaspTop10: serializeStringArray(query.owaspTop10),\n    projects: serializeStringArray(query.projects),\n    resolutions: serializeStringArray(query.resolutions),\n    resolved: query.resolved ? undefined : 'false',\n    rules: serializeStringArray(query.rules),\n    s: serializeString(query.sort),\n    sansTop25: serializeStringArray(query.sansTop25),\n    severities: serializeStringArray(query.severities),\n    sinceLeakPeriod: query.sinceLeakPeriod ? 'true' : undefined,\n    sonarsourceSecurity: serializeStringArray(query.sonarsourceSecurity),\n    statuses: serializeStringArray(query.statuses),\n    tags: serializeStringArray(query.tags),\n    types: serializeStringArray(query.types)\n  };\n  return cleanQuery(filter);\n}\n\nexport const areQueriesEqual = (a: RawQuery, b: RawQuery) =>\n  queriesEqual(parseQuery(a), parseQuery(b));\n\nexport interface RawFacet {\n  property: string;\n  values: Array<{ val: string; count: number }>;\n}\n\nexport interface Facet {\n  [value: string]: number;\n}\n\nexport function mapFacet(facet: string) {\n  const propertyMapping: T.Dict<string> = {\n    files: 'fileUuids',\n    modules: 'moduleUuids'\n  };\n  return propertyMapping[facet] || facet;\n}\n\nexport function parseFacets(facets: RawFacet[]): T.Dict<Facet> {\n  if (!facets) {\n    return {};\n  }\n\n  // for readability purpose\n  const propertyMapping: T.Dict<string> = {\n    fileUuids: 'files',\n    moduleUuids: 'modules'\n  };\n\n  const result: T.Dict<Facet> = {};\n  facets.forEach(facet => {\n    const values: Facet = {};\n    facet.values.forEach(value => {\n      values[value.val] = value.count;\n    });\n    const finalProperty = propertyMapping[facet.property] || facet.property;\n    result[finalProperty] = values;\n  });\n  return result;\n}\n\nexport function formatFacetStat(stat: number | undefined) {\n  return stat && formatMeasure(stat, 'SHORT_INT');\n}\n\nexport interface ReferencedComponent {\n  key: string;\n  name: string;\n  organization: string;\n  path?: string;\n  uuid: string;\n}\n\nexport interface ReferencedUser {\n  avatar: string;\n  name: string;\n}\n\nexport interface ReferencedLanguage {\n  name: string;\n}\n\nexport interface ReferencedRule {\n  langName?: string;\n  name: string;\n}\n\nexport interface SearchedAssignee {\n  avatar?: string;\n  login: string;\n  name: string;\n}\n\nexport const searchAssignees = (\n  query: string,\n  organization: string | undefined,\n  page = 1\n): Promise<{ paging: T.Paging; results: SearchedAssignee[] }> => {\n  return organization\n    ? searchMembers({ organization, p: page, ps: 50, q: query }).then(({ paging, users }) => ({\n        paging,\n        results: users\n      }))\n    : searchUsers({ p: page, q: query }).then(({ paging, users }) => ({ paging, results: users }));\n};\n\nconst LOCALSTORAGE_MY = 'my';\nconst LOCALSTORAGE_ALL = 'all';\n\nexport const isMySet = () => {\n  return get(ISSUES_DEFAULT) === LOCALSTORAGE_MY;\n};\n\nexport const saveMyIssues = (myIssues: boolean) =>\n  save(ISSUES_DEFAULT, myIssues ? LOCALSTORAGE_MY : LOCALSTORAGE_ALL);\n\nexport function getLocations(\n  { flows, secondaryLocations }: Pick<T.Issue, 'flows' | 'secondaryLocations'>,\n  selectedFlowIndex: number | undefined\n) {\n  if (selectedFlowIndex !== undefined) {\n    return flows[selectedFlowIndex] || [];\n  } else {\n    return flows.length > 0 ? flows[0] : secondaryLocations;\n  }\n}\n\nexport function getSelectedLocation(\n  issue: Pick<T.Issue, 'flows' | 'secondaryLocations'>,\n  selectedFlowIndex: number | undefined,\n  selectedLocationIndex: number | undefined\n) {\n  const locations = getLocations(issue, selectedFlowIndex);\n  if (\n    selectedLocationIndex !== undefined &&\n    selectedLocationIndex >= 0 &&\n    locations.length >= selectedLocationIndex\n  ) {\n    return locations[selectedLocationIndex];\n  } else {\n    return undefined;\n  }\n}\n\nexport function allLocationsEmpty(\n  issue: Pick<T.Issue, 'flows' | 'secondaryLocations'>,\n  selectedFlowIndex: number | undefined\n) {\n  return getLocations(issue, selectedFlowIndex).every(location => !location.msg);\n}\n\nexport function scrollToIssue(issue: string, smooth = true) {\n  const element = document.querySelector(`[data-issue=\"${issue}\"]`);\n  if (element) {\n    scrollToElement(element, { topOffset: 250, bottomOffset: 100, smooth });\n  }\n}\n\nexport function shouldOpenSeverityFacet(openFacets: T.Dict<boolean>, query: Partial<Query>) {\n  return (\n    openFacets.severities ||\n    !(query.types && query.types.length === 1 && query.types[0] === 'SECURITY_HOTSPOT')\n  );\n}\n\nexport function shouldOpenStandardsFacet(\n  openFacets: T.Dict<boolean>,\n  query: Partial<Query>\n): boolean {\n  return (\n    openFacets[STANDARDS] ||\n    isFilteredBySecurityIssueTypes(query) ||\n    isOneStandardChildFacetOpen(openFacets, query)\n  );\n}\n\nexport function shouldOpenStandardsChildFacet(\n  openFacets: T.Dict<boolean>,\n  query: Partial<Query>,\n  standardType: T.StandardType\n): boolean {\n  const filter = query[standardType];\n  return (\n    openFacets[STANDARDS] !== false &&\n    (openFacets[standardType] ||\n      (standardType !== 'cwe' && filter !== undefined && filter.length > 0))\n  );\n}\n\nexport function shouldOpenSonarSourceSecurityFacet(\n  openFacets: T.Dict<boolean>,\n  query: Partial<Query>\n): boolean {\n  // Open it by default if the parent is open, and no other standard is open.\n  return (\n    shouldOpenStandardsChildFacet(openFacets, query, 'sonarsourceSecurity') ||\n    (shouldOpenStandardsFacet(openFacets, query) && !isOneStandardChildFacetOpen(openFacets, query))\n  );\n}\n\nfunction isFilteredBySecurityIssueTypes(query: Partial<Query>): boolean {\n  return (\n    query.types !== undefined &&\n    (query.types.includes('SECURITY_HOTSPOT') || query.types.includes('VULNERABILITY'))\n  );\n}\n\nfunction isOneStandardChildFacetOpen(openFacets: T.Dict<boolean>, query: Partial<Query>): boolean {\n  return STANDARD_TYPES.some(standardType =>\n    shouldOpenStandardsChildFacet(openFacets, query, standardType)\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON, RequestData } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport function getCurrentUser(): Promise<T.CurrentUser> {\n  return getJSON('/api/users/current');\n}\n\nexport function changePassword(data: {\n  login: string;\n  password: string;\n  previousPassword?: string;\n}) {\n  return post('/api/users/change_password', data).catch(throwGlobalError);\n}\n\nexport interface UserGroup {\n  default: boolean;\n  description: string;\n  id: number;\n  name: string;\n  selected: boolean;\n}\n\nexport function getUserGroups(\n  login: string,\n  organization?: string,\n  query?: string,\n  selected?: string\n): Promise<{ paging: T.Paging; groups: UserGroup[] }> {\n  const data: RequestData = { login };\n  if (organization) {\n    data.organization = organization;\n  }\n  if (query) {\n    data.q = query;\n  }\n  if (selected) {\n    data.selected = selected;\n  }\n  return getJSON('/api/users/groups', data);\n}\n\nexport function getIdentityProviders(): Promise<{ identityProviders: T.IdentityProvider[] }> {\n  return getJSON('/api/users/identity_providers').catch(throwGlobalError);\n}\n\nexport function searchUsers(data: {\n  p?: number;\n  ps?: number;\n  q?: string;\n}): Promise<{ paging: T.Paging; users: T.User[] }> {\n  data.q = data.q || undefined;\n  return getJSON('/api/users/search', data).catch(throwGlobalError);\n}\n\nexport function createUser(data: {\n  email?: string;\n  local?: boolean;\n  login: string;\n  name: string;\n  password?: string;\n  scmAccount: string[];\n}): Promise<void | Response> {\n  return post('/api/users/create', data);\n}\n\nexport function updateUser(data: {\n  email?: string;\n  login: string;\n  name?: string;\n  scmAccount: string[];\n}): Promise<T.User> {\n  return postJSON('/api/users/update', {\n    ...data,\n    scmAccount: data.scmAccount.length > 0 ? data.scmAccount : ''\n  });\n}\n\nexport function deactivateUser(data: { login: string }): Promise<T.User> {\n  return postJSON('/api/users/deactivate', data).catch(throwGlobalError);\n}\n\nexport function skipOnboarding(): Promise<void | Response> {\n  return post('/api/users/skip_onboarding_tutorial').catch(throwGlobalError);\n}\n\nexport function setHomePage(homepage: T.HomePage): Promise<void | Response> {\n  return post('/api/users/set_homepage', homepage).catch(throwGlobalError);\n}\n\nexport function setUserSetting(setting: T.CurrentUserSetting): Promise<void | Response> {\n  return post('/api/users/set_setting', setting).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sortBy } from 'lodash';\nimport { Profile } from './types';\nimport { Profile as BaseProfile } from '../../api/quality-profiles';\nimport { differenceInYears, isValidDate, parseDate } from '../../helpers/dates';\n\nexport function sortProfiles(profiles: BaseProfile[]): Profile[] {\n  const result: Profile[] = [];\n  const sorted = sortBy(profiles, 'name');\n\n  function retrieveChildren(parent: BaseProfile | null) {\n    return sorted.filter(\n      p => (parent == null && p.parentKey == null) || (parent != null && p.parentKey === parent.key)\n    );\n  }\n\n  function putProfile(profile: BaseProfile | null = null, depth: number = 1) {\n    const children = retrieveChildren(profile);\n\n    if (profile != null) {\n      result.push({ ...profile, childrenCount: children.length, depth });\n    }\n\n    children.forEach(child => putProfile(child, depth + 1));\n  }\n\n  sorted\n    .filter(\n      profile => profile.parentKey == null || sorted.find(p => p.key === profile.parentKey) == null\n    )\n    .forEach(profile => putProfile(profile));\n\n  return result;\n}\n\nexport function isStagnant(profile: Profile): boolean {\n  if (profile.rulesUpdatedAt) {\n    const updateDate = parseDate(profile.rulesUpdatedAt);\n    if (isValidDate(updateDate)) {\n      return differenceInYears(new Date(), updateDate) >= 1;\n    }\n  }\n  return false;\n}\n\nexport const getProfilesPath = (organization: string | null | undefined) =>\n  organization ? `/organizations/${organization}/quality_profiles` : '/profiles';\n\nexport const getProfilesForLanguagePath = (\n  language: string,\n  organization: string | null | undefined\n) => ({\n  pathname: getProfilesPath(organization),\n  query: { language }\n});\n\nexport const getProfilePath = (\n  name: string,\n  language: string,\n  organization: string | null | undefined\n) => ({\n  pathname: getProfilesPath(organization) + '/show',\n  query: { name, language }\n});\n\nexport const getProfileComparePath = (\n  name: string,\n  language: string,\n  organization: string | null | undefined,\n  withKey?: string\n) => {\n  const query = { language, name };\n  if (withKey) {\n    Object.assign(query, { withKey });\n  }\n  return {\n    pathname: getProfilesPath(organization) + '/compare',\n    query\n  };\n};\n\nexport const getProfileChangelogPath = (\n  name: string,\n  language: string,\n  organization: string | null | undefined,\n  filter?: { since?: string; to?: string }\n) => {\n  const query = { language, name };\n  if (filter) {\n    if (filter.since) {\n      Object.assign(query, { since: filter.since });\n    }\n    if (filter.to) {\n      Object.assign(query, { to: filter.to });\n    }\n  }\n  return {\n    pathname: getProfilesPath(organization) + '/changelog',\n    query\n  };\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { throttle } from 'lodash';\nimport './NavBar.css';\n\ninterface Props {\n  children?: any;\n  className?: string;\n  height: number;\n  top?: number;\n  notif?: React.ReactNode;\n  [prop: string]: any;\n}\n\ninterface State {\n  left: number;\n}\n\nexport default class NavBar extends React.PureComponent<Props, State> {\n  throttledFollowHorizontalScroll: () => void;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { left: 0 };\n    this.throttledFollowHorizontalScroll = throttle(this.followHorizontalScroll, 10);\n  }\n\n  componentDidMount() {\n    document.addEventListener('scroll', this.throttledFollowHorizontalScroll);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('scroll', this.throttledFollowHorizontalScroll);\n  }\n\n  followHorizontalScroll = () => {\n    if (document.documentElement) {\n      this.setState({ left: -document.documentElement.scrollLeft });\n    }\n  };\n\n  render() {\n    const { children, className, height, top, notif, ...other } = this.props;\n    return (\n      <nav {...other} className={classNames('navbar', className)} style={{ height, top }}>\n        <div\n          className={classNames('navbar-inner', { 'navbar-inner-with-notif': notif != null })}\n          style={{ height, left: this.state.left }}>\n          <div className=\"navbar-limited clearfix\">{children}</div>\n          {notif}\n        </div>\n      </nav>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { isEqual, isNil, omitBy } from 'lodash';\nimport { isValidDate, parseDate, toNotSoISOString, toShortNotSoISOString } from './dates';\n\nexport interface RawQuery {\n  [x: string]: any;\n}\n\nexport function queriesEqual(a: RawQuery, b: RawQuery): boolean {\n  const keysA = Object.keys(a);\n  const keysB = Object.keys(b);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  return keysA.every(key => isEqual(a[key], b[key]));\n}\n\nexport function cleanQuery(query: RawQuery): RawQuery {\n  return omitBy(query, isNil);\n}\n\nexport function parseAsBoolean(value: string | undefined, defaultValue: boolean = true): boolean {\n  return value === 'false' ? false : value === 'true' ? true : defaultValue;\n}\n\nexport function parseAsOptionalBoolean(value: string | undefined): boolean | undefined {\n  if (value === 'true') {\n    return true;\n  } else if (value === 'false') {\n    return false;\n  } else {\n    return undefined;\n  }\n}\n\nexport function parseAsDate(value?: string): Date | undefined {\n  if (value) {\n    const date = parseDate(value);\n    if (isValidDate(date)) {\n      return date;\n    }\n  }\n  return undefined;\n}\n\nexport function parseAsString(value: string | undefined): string {\n  return value || '';\n}\n\nexport function parseAsOptionalString(value: string | undefined): string | undefined {\n  return value || undefined;\n}\n\nexport function parseAsArray(\n  value: string | undefined,\n  itemParser: (x: string) => string\n): string[] {\n  return value ? value.split(',').map(itemParser) : [];\n}\n\nexport function serializeDate(value?: Date, serializer = toNotSoISOString): string | undefined {\n  if (value != null && value.toISOString) {\n    return serializer(value);\n  }\n  return undefined;\n}\n\nexport function serializeDateShort(value: Date | undefined): string | undefined {\n  return serializeDate(value, toShortNotSoISOString);\n}\n\nexport function serializeString(value: string | undefined): string | undefined {\n  return value || undefined;\n}\n\nexport function serializeStringArray(value: string[] | undefined[]): string | undefined {\n  return value && value.length ? value.join() : undefined;\n}\n\nexport function serializeOptionalBoolean(value: boolean | undefined): string | undefined {\n  if (value === true) {\n    return 'true';\n  } else if (value === false) {\n    return 'false';\n  } else {\n    return undefined;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as theme from '../app/theme';\n\nexport const SEVERITIES = ['BLOCKER', 'CRITICAL', 'MAJOR', 'MINOR', 'INFO'];\nexport const STATUSES = ['OPEN', 'REOPENED', 'CONFIRMED', 'RESOLVED', 'CLOSED'];\nexport const ISSUE_TYPES: T.IssueType[] = [\n  'BUG',\n  'VULNERABILITY',\n  'CODE_SMELL',\n  'SECURITY_HOTSPOT'\n];\nexport const RULE_TYPES: T.RuleType[] = [\n  'BUG',\n  'VULNERABILITY',\n  'CODE_SMELL',\n  'SECURITY_HOTSPOT',\n  'UNKNOWN'\n];\nexport const RULE_STATUSES = ['READY', 'BETA', 'DEPRECATED'];\n\nexport const CHART_COLORS_RANGE_PERCENT = [\n  theme.green,\n  theme.lightGreen,\n  theme.yellow,\n  theme.orange,\n  theme.red\n];\nexport const CHART_REVERSED_COLORS_RANGE_PERCENT = [\n  theme.red,\n  theme.orange,\n  theme.yellow,\n  theme.lightGreen,\n  theme.green\n];\n\nexport const RATING_COLORS = [theme.green, theme.lightGreen, theme.yellow, theme.orange, '#e00'];\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { uniq } from 'lodash';\nimport { Dispatch, combineReducers } from 'redux';\nimport { ActionType } from './utils/actions';\nimport { isLoggedIn } from '../helpers/users';\nimport * as api from '../api/users';\n\nconst enum Actions {\n  ReceiveCurrentUser = 'RECEIVE_CURRENT_USER',\n  SetCurrentUserSetting = 'SET_CURRENT_USER_SETTING',\n  SkipOnboardingAction = 'SKIP_ONBOARDING',\n  SetHomePageAction = 'SET_HOMEPAGE'\n}\n\ntype Action =\n  | ActionType<typeof receiveCurrentUser, Actions.ReceiveCurrentUser>\n  | ActionType<typeof setCurrentUserSettingAction, Actions.SetCurrentUserSetting>\n  | ActionType<typeof setHomePageAction, Actions.SetHomePageAction>\n  | ActionType<typeof skipOnboardingAction, Actions.SkipOnboardingAction>;\n\nexport interface State {\n  usersByLogin: T.Dict<any>;\n  userLogins: string[];\n  currentUser: T.CurrentUser;\n}\n\nexport function receiveCurrentUser(user: T.CurrentUser) {\n  return { type: Actions.ReceiveCurrentUser, user };\n}\n\nfunction skipOnboardingAction() {\n  return { type: Actions.SkipOnboardingAction };\n}\n\nexport function skipOnboarding() {\n  return (dispatch: Dispatch) =>\n    api\n      .skipOnboarding()\n      .then(() => dispatch(skipOnboardingAction()), () => dispatch(skipOnboardingAction()));\n}\n\nfunction setHomePageAction(homepage: T.HomePage) {\n  return { type: Actions.SetHomePageAction, homepage };\n}\n\nfunction setCurrentUserSettingAction(setting: T.CurrentUserSetting) {\n  return { type: Actions.SetCurrentUserSetting, setting };\n}\n\nexport function setHomePage(homepage: T.HomePage) {\n  return (dispatch: Dispatch) => {\n    api.setHomePage(homepage).then(\n      () => {\n        dispatch(setHomePageAction(homepage));\n      },\n      () => {}\n    );\n  };\n}\n\nexport function setCurrentUserSetting(setting: T.CurrentUserSetting) {\n  return (dispatch: Dispatch, getState: () => { users: State }) => {\n    const oldSetting = getCurrentUserSetting(getState().users, setting.key);\n    dispatch(setCurrentUserSettingAction(setting));\n    api.setUserSetting(setting).then(\n      () => {},\n      () => {\n        dispatch(setCurrentUserSettingAction({ ...setting, value: oldSetting || '' }));\n      }\n    );\n  };\n}\n\nfunction usersByLogin(state: State['usersByLogin'] = {}, action: Action): State['usersByLogin'] {\n  if (action.type === Actions.ReceiveCurrentUser && isLoggedIn(action.user)) {\n    return { ...state, [action.user.login]: action.user };\n  } else {\n    return state;\n  }\n}\n\nfunction userLogins(state: State['userLogins'] = [], action: Action): State['userLogins'] {\n  if (action.type === Actions.ReceiveCurrentUser && isLoggedIn(action.user)) {\n    return uniq([...state, action.user.login]);\n  } else {\n    return state;\n  }\n}\n\nfunction currentUser(\n  state: State['currentUser'] = { isLoggedIn: false },\n  action: Action\n): State['currentUser'] {\n  if (action.type === Actions.ReceiveCurrentUser) {\n    return action.user;\n  }\n  if (action.type === Actions.SkipOnboardingAction && isLoggedIn(state)) {\n    return { ...state, showOnboardingTutorial: false } as T.LoggedInUser;\n  }\n  if (action.type === Actions.SetHomePageAction && isLoggedIn(state)) {\n    return { ...state, homepage: action.homepage } as T.LoggedInUser;\n  }\n  if (action.type === Actions.SetCurrentUserSetting && isLoggedIn(state)) {\n    let settings: T.CurrentUserSetting[];\n    if (state.settings) {\n      settings = [...state.settings];\n      const index = settings.findIndex(setting => setting.key === action.setting.key);\n      if (index === -1) {\n        settings.push(action.setting);\n      } else {\n        settings[index] = action.setting;\n      }\n    } else {\n      settings = [action.setting];\n    }\n    return { ...state, settings } as T.LoggedInUser;\n  }\n  return state;\n}\n\nexport default combineReducers({ usersByLogin, userLogins, currentUser });\n\nexport function getCurrentUser(state: State) {\n  return state.currentUser;\n}\n\nexport function getCurrentUserSetting(state: State, key: T.CurrentUserSettingNames) {\n  let setting;\n  if (isLoggedIn(state.currentUser) && state.currentUser.settings) {\n    setting = state.currentUser.settings.find(setting => setting.key === key);\n  }\n  return setting && setting.value;\n}\n\nexport function getUserByLogin(state: State, login: string) {\n  return state.usersByLogin[login];\n}\n\nexport function getUsersByLogins(state: State, logins: string[]) {\n  return logins.map(login => getUserByLogin(state, login));\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport function fetchQualityGates(data: {\n  organization?: string;\n}): Promise<{\n  actions: { create: boolean };\n  qualitygates: T.QualityGate[];\n}> {\n  return getJSON('/api/qualitygates/list', data).catch(throwGlobalError);\n}\n\nexport function fetchQualityGate(data: {\n  id: number | string;\n  organization?: string;\n}): Promise<T.QualityGate> {\n  return getJSON('/api/qualitygates/show', data).catch(throwGlobalError);\n}\n\nexport function createQualityGate(data: {\n  name: string;\n  organization?: string;\n}): Promise<T.QualityGate> {\n  return postJSON('/api/qualitygates/create', data).catch(throwGlobalError);\n}\n\nexport function deleteQualityGate(data: {\n  id: number;\n  organization?: string;\n}): Promise<void | Response> {\n  return post('/api/qualitygates/destroy', data).catch(throwGlobalError);\n}\n\nexport function renameQualityGate(data: {\n  id: number;\n  name: string;\n  organization?: string;\n}): Promise<void | Response> {\n  return post('/api/qualitygates/rename', data).catch(throwGlobalError);\n}\n\nexport function copyQualityGate(data: {\n  id: number;\n  name: string;\n  organization?: string;\n}): Promise<T.QualityGate> {\n  return postJSON('/api/qualitygates/copy', data).catch(throwGlobalError);\n}\n\nexport function setQualityGateAsDefault(data: {\n  id: number;\n  organization?: string;\n}): Promise<void | Response> {\n  return post('/api/qualitygates/set_as_default', data).catch(throwGlobalError);\n}\n\nexport function createCondition(\n  data: {\n    gateId: number;\n    organization?: string;\n  } & T.Omit<T.Condition, 'id'>\n): Promise<T.Condition> {\n  return postJSON('/api/qualitygates/create_condition', data).catch(throwGlobalError);\n}\n\nexport function updateCondition(\n  data: { organization?: string } & T.Condition\n): Promise<T.Condition> {\n  return postJSON('/api/qualitygates/update_condition', data).catch(throwGlobalError);\n}\n\nexport function deleteCondition(data: { id: number; organization?: string }): Promise<void> {\n  return post('/api/qualitygates/delete_condition', data);\n}\n\nexport function getGateForProject(data: {\n  organization?: string;\n  project: string;\n}): Promise<T.QualityGate | undefined> {\n  return getJSON('/api/qualitygates/get_by_project', data).then(\n    ({ qualityGate }) =>\n      qualityGate && {\n        ...qualityGate,\n        isDefault: qualityGate.default\n      },\n    throwGlobalError\n  );\n}\n\nexport function searchGates(data: {\n  gateId: number;\n  organization?: string;\n  page?: number;\n  pageSize?: number;\n  query?: string;\n  selected?: string;\n}): Promise<{ more: boolean; results: Array<{ id: string; name: string; selected: boolean }> }> {\n  return getJSON('/api/qualitygates/search', data).catch(throwGlobalError);\n}\n\nexport function associateGateWithProject(data: {\n  gateId: number;\n  organization?: string;\n  projectKey?: string;\n  projectId?: string;\n}): Promise<void | Response> {\n  return post('/api/qualitygates/select', data).catch(throwGlobalError);\n}\n\nexport function dissociateGateWithProject(data: {\n  gateId: number;\n  organization?: string;\n  projectKey?: string;\n  projectId?: string;\n}): Promise<void | Response> {\n  return post('/api/qualitygates/deselect', data).catch(throwGlobalError);\n}\n\nexport interface ConditionAnalysis {\n  comparator: string;\n  errorThreshold?: string;\n  metric: string;\n  periodIndex?: number;\n  onLeak?: boolean;\n  status: string;\n  value: string;\n  warningThreshold?: string;\n}\n\nexport interface ApplicationProject {\n  key: string;\n  name: string;\n  status: string;\n  conditions: ConditionAnalysis[];\n}\n\nexport interface ApplicationQualityGate {\n  metrics: T.Metric[];\n  projects: ApplicationProject[];\n  status: string;\n}\n\nexport function getApplicationQualityGate(data: {\n  application: string;\n  branch?: string;\n  organization?: string;\n}): Promise<ApplicationQualityGate> {\n  return getJSON('/api/qualitygates/application_status', data).catch(throwGlobalError);\n}\n\nexport function getQualityGateProjectStatus(\n  data: {\n    projectKey?: string;\n    projectId?: string;\n  } & T.BranchParameters\n): Promise<T.QualityGateProjectStatus> {\n  return getJSON('/api/qualitygates/project_status', data)\n    .then(r => r.projectStatus)\n    .catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { debounce } from 'lodash';\n\nconst SCROLLING_DURATION = 100;\nconst SCROLLING_INTERVAL = 10;\nconst SCROLLING_STEPS = SCROLLING_DURATION / SCROLLING_INTERVAL;\n\nfunction isWindow(element: Element | Window): element is Window {\n  return element === window;\n}\n\nfunction getScroll(element: Element | Window) {\n  return isWindow(element)\n    ? { x: window.pageXOffset, y: window.pageYOffset }\n    : { x: element.scrollLeft, y: element.scrollTop };\n}\n\nfunction scrollElement(element: Element | Window, x: number, y: number): void {\n  if (isWindow(element)) {\n    window.scrollTo(x, y);\n  } else {\n    element.scrollLeft = x;\n    element.scrollTop = y;\n  }\n}\n\nlet smoothScroll = (target: number, current: number, scroll: (position: number) => void) => {\n  const positiveDirection = target > current;\n  const step = Math.ceil(Math.abs(target - current) / SCROLLING_STEPS);\n  let stepsDone = 0;\n\n  const interval = setInterval(() => {\n    if (current === target || SCROLLING_STEPS === stepsDone) {\n      clearInterval(interval);\n    } else {\n      let goal;\n      if (positiveDirection) {\n        goal = Math.min(target, current + step);\n      } else {\n        goal = Math.max(target, current - step);\n      }\n      stepsDone++;\n      current = goal;\n      scroll(goal);\n    }\n  }, SCROLLING_INTERVAL);\n};\nsmoothScroll = debounce(smoothScroll, SCROLLING_DURATION, { leading: true });\n\nfunction smoothScrollTop(position: number, parent: Element | Window) {\n  const scroll = getScroll(parent);\n  smoothScroll(position, scroll.y, position => scrollElement(parent, scroll.x, position));\n}\n\nfunction smoothScrollLeft(position: number, parent: Element | Window) {\n  const scroll = getScroll(parent);\n  smoothScroll(position, scroll.x, position => scrollElement(parent, position, scroll.y));\n}\n\nexport function scrollToElement(\n  element: Element,\n  options: {\n    topOffset?: number;\n    bottomOffset?: number;\n    parent?: Element;\n    smooth?: boolean;\n  }\n): void {\n  const opts = { topOffset: 0, bottomOffset: 0, parent: window, smooth: true, ...options };\n  const { parent } = opts;\n\n  const { top, bottom } = element.getBoundingClientRect();\n\n  const scroll = getScroll(parent);\n\n  const height: number = isWindow(parent)\n    ? window.innerHeight\n    : parent.getBoundingClientRect().height;\n\n  const parentTop = isWindow(parent) ? 0 : parent.getBoundingClientRect().top;\n\n  if (top - parentTop < opts.topOffset) {\n    const goal = scroll.y - opts.topOffset + top - parentTop;\n    if (opts.smooth) {\n      smoothScrollTop(goal, parent);\n    } else {\n      scrollElement(parent, scroll.x, goal);\n    }\n  }\n\n  if (bottom - parentTop > height - opts.bottomOffset) {\n    const goal = scroll.y + bottom - parentTop - height + opts.bottomOffset;\n    if (opts.smooth) {\n      smoothScrollTop(goal, parent);\n    } else {\n      scrollElement(parent, scroll.x, goal);\n    }\n  }\n}\n\nexport function scrollHorizontally(\n  element: Element,\n  options: {\n    leftOffset?: number;\n    rightOffset?: number;\n    parent?: Element;\n    smooth?: boolean;\n  }\n): void {\n  const opts = { leftOffset: 0, rightOffset: 0, parent: window, smooth: true, ...options };\n  const { parent } = opts;\n\n  const { left, right } = element.getBoundingClientRect();\n\n  const scroll = getScroll(parent);\n\n  const { left: parentLeft, width } = isWindow(parent)\n    ? { left: 0, width: window.innerWidth }\n    : parent.getBoundingClientRect();\n\n  if (left - parentLeft < opts.leftOffset) {\n    const goal = scroll.x - opts.leftOffset + left - parentLeft;\n    if (opts.smooth) {\n      smoothScrollLeft(goal, parent);\n    } else {\n      scrollElement(parent, goal, scroll.y);\n    }\n  }\n\n  if (right - parentLeft > width - opts.rightOffset) {\n    const goal = scroll.x + right - parentLeft - width + opts.rightOffset;\n    if (opts.smooth) {\n      smoothScrollLeft(goal, parent);\n    } else {\n      scrollElement(parent, goal, scroll.y);\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as getYear from 'date-fns/get_year';\nimport { Link } from 'react-router';\nimport { translate } from '../../helpers/l10n';\n\nexport default function GlobalFooterSonarCloud() {\n  return (\n    <div className=\"page-footer page-container\" id=\"footer\">\n      <div>\n        {` 2008-${getYear(new Date())}, SonarCloud by `}\n        <a\n          href=\"http://www.sonarsource.com\"\n          rel=\"noopener noreferrer\"\n          target=\"_blank\"\n          title=\"SonarSource SA\">\n          SonarSource SA\n        </a>\n        . All rights reserved.\n      </div>\n\n      <ul className=\"page-footer-menu\">\n        <li className=\"page-footer-menu-item\">\n          <a\n            href=\"https://blog.sonarsource.com/product/SonarCloud\"\n            rel=\"noopener noreferrer\"\n            target=\"_blank\">\n            {translate('footer.news')}\n          </a>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <a href=\"https://twitter.com/sonarcloud\" rel=\"noopener noreferrer\" target=\"_blank\">\n            {translate('footer.twitter')}\n          </a>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <Link rel=\"noopener noreferrer\" target=\"_blank\" to=\"/terms.pdf\">\n            {translate('footer.terms')}\n          </Link>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <Link to=\"/about/pricing/\">{translate('footer.pricing')}</Link>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <Link to=\"/documentation/privacy/\">{translate('footer.privacy')}</Link>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <Link to=\"/documentation/security/\">{translate('footer.security')}</Link>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <a\n            href=\"https://community.sonarsource.com/c/help/sc\"\n            rel=\"noopener noreferrer\"\n            target=\"_blank\">\n            {translate('footer.help')}\n          </a>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <Link to=\"/about/contact\">{translate('footer.contact_us')}</Link>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <a href=\"https://sonarcloud.statuspage.io/\" rel=\"noopener noreferrer\" target=\"_blank\">\n            {translate('footer.status')}\n          </a>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <Link to=\"/about\">{translate('footer.about')}</Link>\n        </li>\n      </ul>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\nexport default function GlobalFooterBranding() {\n  const { official } = window as any;\n  return official ? (\n    <div>\n      SonarQube&trade; technology is powered by{' '}\n      <a href=\"http://www.sonarsource.com\" rel=\"noopener noreferrer\" target=\"_blank\">\n        SonarSource SA\n      </a>\n    </div>\n  ) : (\n    <div>\n      This application is based on{' '}\n      <a\n        href=\"http://www.sonarqube.org/\"\n        rel=\"noopener noreferrer\"\n        target=\"_blank\"\n        title=\"SonarQube\">\n        SonarQube\n      </a>{' '}\n      but is <strong>not</strong> an official version provided by{' '}\n      <a\n        href=\"http://www.sonarsource.com\"\n        rel=\"noopener noreferrer\"\n        target=\"_blank\"\n        title=\"SonarSource SA\">\n        SonarSource SA\n      </a>\n      .\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport GlobalFooter from './GlobalFooter';\nimport { getAppState, Store } from '../../store/rootReducer';\n\ninterface StateProps {\n  productionDatabase: boolean;\n  sonarqubeEdition?: T.EditionKey;\n  sonarqubeVersion?: string;\n}\n\nconst mapStateToProps = (state: Store): StateProps => ({\n  productionDatabase: getAppState(state).productionDatabase,\n  sonarqubeEdition: getAppState(state).edition,\n  sonarqubeVersion: getAppState(state).version\n});\n\nexport default connect(mapStateToProps)(GlobalFooter);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport GlobalFooterSonarCloud from './GlobalFooterSonarCloud';\nimport GlobalFooterBranding from './GlobalFooterBranding';\nimport InstanceMessage from '../../components/common/InstanceMessage';\nimport { EDITIONS } from '../../apps/marketplace/utils';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\nimport { isSonarCloud } from '../../helpers/system';\nimport { Alert } from '../../components/ui/Alert';\n\ninterface Props {\n  hideLoggedInInfo?: boolean;\n  productionDatabase: boolean;\n  sonarqubeEdition?: T.EditionKey;\n  sonarqubeVersion?: string;\n}\n\nexport default function GlobalFooter({\n  hideLoggedInInfo,\n  productionDatabase,\n  sonarqubeEdition,\n  sonarqubeVersion\n}: Props) {\n  if (isSonarCloud()) {\n    return <GlobalFooterSonarCloud />;\n  }\n\n  const currentEdition = EDITIONS.find(edition => edition.key === sonarqubeEdition);\n\n  return (\n    <div className=\"page-footer page-container\" id=\"footer\">\n      {productionDatabase === false && (\n        <Alert display=\"inline\" id=\"evaluation_warning\" variant=\"warning\">\n          <p className=\"big\">{translate('footer.production_database_warning')}</p>\n          <p>\n            <InstanceMessage message={translate('footer.production_database_explanation')} />\n          </p>\n        </Alert>\n      )}\n\n      <GlobalFooterBranding />\n\n      <ul className=\"page-footer-menu\">\n        {!hideLoggedInInfo && currentEdition && (\n          <li className=\"page-footer-menu-item\">{currentEdition.name}</li>\n        )}\n        {!hideLoggedInInfo && sonarqubeVersion && (\n          <li className=\"page-footer-menu-item\">\n            {translateWithParameters('footer.version_x', sonarqubeVersion)}\n          </li>\n        )}\n        <li className=\"page-footer-menu-item\">\n          <a href=\"http://www.gnu.org/licenses/lgpl-3.0.txt\">{translate('footer.license')}</a>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <a href=\"http://www.sonarqube.org\">{translate('footer.community')}</a>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <a href=\"https://redirect.sonarsource.com/doc/home.html\">\n            {translate('footer.documentation')}\n          </a>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <a href=\"https://redirect.sonarsource.com/doc/community.html\">\n            {translate('footer.support')}\n          </a>\n        </li>\n        <li className=\"page-footer-menu-item\">\n          <a href=\"https://redirect.sonarsource.com/doc/plugin-library.html\">\n            {translate('footer.plugins')}\n          </a>\n        </li>\n        {!hideLoggedInInfo && (\n          <li className=\"page-footer-menu-item\">\n            <Link to=\"/web_api\">{translate('footer.web_api')}</Link>\n          </li>\n        )}\n        {!hideLoggedInInfo && (\n          <li className=\"page-footer-menu-item\">\n            <Link to=\"/about\">{translate('footer.about')}</Link>\n          </li>\n        )}\n      </ul>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function ChevronRightIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M11.596 8.28l-4.604 4.602a.382.382 0 0 1-.279.118.382.382 0 0 1-.279-.118l-1.03-1.03a.382.382 0 0 1-.117-.278c0-.108.04-.201.117-.28L8.7 8 5.404 4.706a.382.382 0 0 1-.117-.28c0-.108.04-.2.117-.279l1.03-1.03A.382.382 0 0 1 6.714 3c.107 0 .2.04.278.118l4.604 4.603a.382.382 0 0 1 .117.279c0 .108-.04.201-.117.28z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { getWrappedDisplayName } from './utils';\nimport { Store, getCurrentUser } from '../../store/rootReducer';\n\nexport function withCurrentUser<P>(\n  WrappedComponent: React.ComponentType<P & { currentUser: T.CurrentUser }>\n) {\n  class Wrapper extends React.Component<P & { currentUser: T.CurrentUser }> {\n    static displayName = getWrappedDisplayName(WrappedComponent, 'withCurrentUser');\n\n    render() {\n      return <WrappedComponent {...this.props} />;\n    }\n  }\n\n  function mapStateToProps(state: Store) {\n    return { currentUser: getCurrentUser(state) };\n  }\n\n  return connect(mapStateToProps)(Wrapper);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { translate, hasMessage } from '../../helpers/l10n';\n\nexport const DEFAULT_CATEGORY = 'general';\n\nexport type DefaultSpecializedInputProps = T.Omit<DefaultInputProps, 'setting'> & {\n  isDefault: boolean;\n  name: string;\n};\n\nexport interface DefaultInputProps {\n  hasValueChanged?: boolean;\n  onCancel?: () => void;\n  onChange: (value: any) => void;\n  onSave?: () => void;\n  setting: T.Setting;\n  value: any;\n}\n\nexport function getPropertyName(definition: T.SettingDefinition) {\n  const key = `property.${definition.key}.name`;\n  return hasMessage(key) ? translate(key) : definition.name;\n}\n\nexport function getPropertyDescription(definition: T.SettingDefinition) {\n  const key = `property.${definition.key}.description`;\n  return hasMessage(key) ? translate(key) : definition.description;\n}\n\nexport function getCategoryName(category: string) {\n  const key = `property.category.${category}`;\n  return hasMessage(key) ? translate(key) : category;\n}\n\nexport function getSubCategoryName(category: string, subCategory: string) {\n  const key = `property.category.${category}.${subCategory}`;\n  return hasMessage(key) ? translate(key) : getCategoryName(subCategory);\n}\n\nexport function getSubCategoryDescription(category: string, subCategory: string) {\n  const key = `property.category.${category}.${subCategory}.description`;\n  return hasMessage(key) ? translate(key) : null;\n}\n\nexport function getUniqueName(definition: T.SettingDefinition, index?: string) {\n  const indexSuffix = index ? `[${index}]` : '';\n  return `settings[${definition.key}]${indexSuffix}`;\n}\n\nexport function getSettingValue({ definition, fieldValues, value, values }: T.Setting) {\n  if (isCategoryDefinition(definition) && definition.multiValues) {\n    return values;\n  } else if (definition.type === 'PROPERTY_SET') {\n    return fieldValues;\n  } else {\n    return value;\n  }\n}\n\nexport function isEmptyValue(definition: T.SettingDefinition, value: any) {\n  if (value == null) {\n    return true;\n  } else if (definition.type === 'BOOLEAN') {\n    return false;\n  } else {\n    return value.length === 0;\n  }\n}\n\nexport function isCategoryDefinition(\n  item: T.SettingDefinition\n): item is T.SettingCategoryDefinition {\n  return Boolean((item as any).fields);\n}\n\nexport function getEmptyValue(item: T.SettingDefinition | T.SettingCategoryDefinition): any {\n  if (isCategoryDefinition(item)) {\n    if (item.multiValues) {\n      return [getEmptyValue({ ...item, multiValues: false })];\n    }\n\n    if (item.type === 'PROPERTY_SET') {\n      const value: T.Dict<string> = {};\n      item.fields.forEach(field => (value[field.key] = getEmptyValue(field)));\n      return [value];\n    }\n  }\n\n  if (item.type === 'BOOLEAN' || item.type === 'SINGLE_SELECT_LIST') {\n    return null;\n  }\n  return '';\n}\n\nexport function isDefaultOrInherited(setting: T.Setting) {\n  return Boolean(setting.inherited);\n}\n\nexport function getDefaultValue(setting: T.Setting) {\n  const { definition, parentFieldValues, parentValue, parentValues } = setting;\n\n  if (definition.type === 'PASSWORD') {\n    return translate('settings.default.password');\n  }\n\n  if (definition.type === 'BOOLEAN' && parentValue) {\n    const isTrue = parentValue === 'true';\n    return isTrue ? translate('settings.boolean.true') : translate('settings.boolean.false');\n  }\n\n  if (\n    isCategoryDefinition(definition) &&\n    definition.multiValues &&\n    parentValues &&\n    parentValues.length > 0\n  ) {\n    return parentValues.join(', ');\n  }\n\n  if (definition.type === 'PROPERTY_SET' && parentFieldValues && parentFieldValues.length > 0) {\n    return translate('settings.default.complex_value');\n  }\n\n  if (parentValue == null) {\n    return isCategoryDefinition(definition) && definition.defaultValue\n      ? definition.defaultValue\n      : translate('settings.default.no_value');\n  }\n\n  return parentValue;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport GenericAvatar from '../ui/GenericAvatar';\nimport './OrganizationAvatar.css';\n\ninterface Props {\n  className?: string;\n  organization: Pick<T.OrganizationBase, 'avatar' | 'name'>;\n  small?: boolean;\n}\n\ninterface State {\n  imgLoadError: boolean;\n}\n\nexport default class OrganizationAvatar extends React.PureComponent<Props, State> {\n  state = { imgLoadError: false };\n\n  handleImgError = () => {\n    this.setState({ imgLoadError: true });\n  };\n\n  render() {\n    const { className, organization, small } = this.props;\n    const { imgLoadError } = this.state;\n    return (\n      <div\n        className={classNames(\n          'navbar-context-avatar',\n          'rounded',\n          { 'no-border': !organization.avatar, 'is-small': small },\n          className\n        )}>\n        {organization.avatar && !imgLoadError ? (\n          <img\n            alt={organization.name}\n            className=\"rounded\"\n            onError={this.handleImgError}\n            src={organization.avatar}\n          />\n        ) : (\n          <GenericAvatar name={organization.name} size={small ? 15 : 30} />\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { ActionType } from './utils/actions';\nimport { EditionKey } from '../apps/marketplace/utils';\n\nexport const enum Actions {\n  SetAppState = 'SET_APP_STATE',\n  SetAdminPages = 'SET_ADMIN_PAGES',\n  RequireAuthorization = 'REQUIRE_AUTHORIZATION'\n}\n\nexport type Action =\n  | ActionType<typeof setAppState, Actions.SetAppState>\n  | ActionType<typeof setAdminPages, Actions.SetAdminPages>\n  | ActionType<typeof requireAuthorization, Actions.RequireAuthorization>;\n\nexport function setAppState(appState: T.AppState) {\n  return { type: Actions.SetAppState, appState };\n}\n\nexport function setAdminPages(adminPages: T.Extension[]) {\n  return { type: Actions.SetAdminPages, adminPages };\n}\n\nexport function requireAuthorization() {\n  return { type: Actions.RequireAuthorization };\n}\n\nconst defaultValue: T.AppState = {\n  authenticationError: false,\n  authorizationError: false,\n  defaultOrganization: '',\n  edition: EditionKey.community,\n  organizationsEnabled: false,\n  productionDatabase: true,\n  qualifiers: [],\n  settings: {},\n  version: ''\n};\n\nexport default function(state: T.AppState = defaultValue, action: Action): T.AppState {\n  if (action.type === Actions.SetAppState) {\n    return { ...state, ...action.appState };\n  }\n  if (action.type === Actions.SetAdminPages) {\n    return { ...state, adminPages: action.adminPages };\n  }\n  if (action.type === Actions.RequireAuthorization) {\n    return { ...state, authorizationError: true };\n  }\n  return state;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omitBy } from 'lodash';\nimport { getJSON, RequestData, post, postJSON } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { isCategoryDefinition } from '../apps/settings/utils';\n\nexport function getDefinitions(component?: string): Promise<T.SettingCategoryDefinition[]> {\n  return getJSON('/api/settings/list_definitions', { component }).then(\n    r => r.definitions,\n    throwGlobalError\n  );\n}\n\nexport function getValues(\n  data: { keys: string; component?: string } & T.BranchParameters\n): Promise<T.SettingValue[]> {\n  return getJSON('/api/settings/values', data).then(r => r.settings);\n}\n\nexport function setSettingValue(\n  definition: T.SettingDefinition,\n  value: any,\n  component?: string\n): Promise<void> {\n  const { key } = definition;\n  const data: RequestData = { key, component };\n\n  if (isCategoryDefinition(definition) && definition.multiValues) {\n    data.values = value;\n  } else if (definition.type === 'PROPERTY_SET') {\n    data.fieldValues = value\n      .map((fields: any) => omitBy(fields, value => value == null))\n      .map(JSON.stringify);\n  } else {\n    data.value = value;\n  }\n\n  return post('/api/settings/set', data);\n}\n\nexport function setSimpleSettingValue(\n  data: { component?: string; value: string; key: string } & T.BranchParameters\n): Promise<void | Response> {\n  return post('/api/settings/set', data).catch(throwGlobalError);\n}\n\nexport function resetSettingValue(\n  data: { keys: string; component?: string } & T.BranchParameters\n): Promise<void> {\n  return post('/api/settings/reset', data);\n}\n\nexport function sendTestEmail(to: string, subject: string, message: string): Promise<void> {\n  return post('/api/emails/send', { to, subject, message });\n}\n\nexport function checkSecretKey(): Promise<{ secretKeyAvailable: boolean }> {\n  return getJSON('/api/settings/check_secret_key').catch(throwGlobalError);\n}\n\nexport function generateSecretKey(): Promise<{ secretKey: string }> {\n  return postJSON('/api/settings/generate_secret_key').catch(throwGlobalError);\n}\n\nexport function encryptValue(value: string): Promise<{ encryptedValue: string }> {\n  return postJSON('/api/settings/encrypt', { value }).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\nexport default function AlertSuccessIcon({ className, fill = theme.green, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M12.607 6.554q0-0.25-0.161-0.411l-0.813-0.804q-0.17-0.17-0.402-0.17t-0.402 0.17l-3.643 3.634-2.018-2.018q-0.17-0.17-0.402-0.17t-0.402 0.17l-0.813 0.804q-0.161 0.161-0.161 0.411 0 0.241 0.161 0.402l3.232 3.232q0.17 0.17 0.402 0.17 0.241 0 0.411-0.17l4.848-4.848q0.161-0.161 0.161-0.402zM14.857 8q0 1.866-0.92 3.442t-2.496 2.496-3.442 0.92-3.442-0.92-2.496-2.496-0.92-3.442 0.92-3.442 2.496-2.496 3.442-0.92 3.442 0.92 2.496 2.496 0.92 3.442z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function isDefined<T>(x: T | undefined | null): x is T {\n  return x !== undefined && x !== null;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { combineReducers } from 'redux';\nimport { omit, uniq, without } from 'lodash';\nimport { ActionType } from './utils/actions';\n\ntype ReceiveOrganizationsAction =\n  | ActionType<typeof receiveOrganizations, 'RECEIVE_ORGANIZATIONS'>\n  | ActionType<typeof receiveMyOrganizations, 'RECEIVE_MY_ORGANIZATIONS'>;\n\ntype Action =\n  | ReceiveOrganizationsAction\n  | ActionType<typeof createOrganization, 'CREATE_ORGANIZATION'>\n  | ActionType<typeof updateOrganization, 'UPDATE_ORGANIZATION'>\n  | ActionType<typeof deleteOrganization, 'DELETE_ORGANIZATION'>;\n\nexport interface State {\n  byKey: T.Dict<T.Organization>;\n  my: string[];\n}\n\nexport function receiveOrganizations(organizations: T.Organization[]) {\n  return { type: 'RECEIVE_ORGANIZATIONS', organizations };\n}\n\nexport function receiveMyOrganizations(organizations: T.Organization[]) {\n  return { type: 'RECEIVE_MY_ORGANIZATIONS', organizations };\n}\n\nexport function createOrganization(organization: T.Organization) {\n  return { type: 'CREATE_ORGANIZATION', organization };\n}\n\nexport function updateOrganization(key: string, changes: T.OrganizationBase) {\n  return { type: 'UPDATE_ORGANIZATION', key, changes };\n}\n\nexport function deleteOrganization(key: string) {\n  return { type: 'DELETE_ORGANIZATION', key };\n}\n\nfunction onReceiveOrganizations(state: State['byKey'], action: ReceiveOrganizationsAction) {\n  const nextState = { ...state };\n  action.organizations.forEach(organization => {\n    nextState[organization.key] = { ...state[organization.key], ...organization };\n  });\n  return nextState;\n}\n\nfunction byKey(state: State['byKey'] = {}, action: Action): State['byKey'] {\n  switch (action.type) {\n    case 'RECEIVE_ORGANIZATIONS':\n    case 'RECEIVE_MY_ORGANIZATIONS':\n      return onReceiveOrganizations(state, action);\n    case 'CREATE_ORGANIZATION':\n      return {\n        ...state,\n        [action.organization.key]: {\n          ...action.organization,\n          actions: { ...(action.organization.actions || {}), admin: true }\n        }\n      };\n    case 'UPDATE_ORGANIZATION':\n      return {\n        ...state,\n        [action.key]: {\n          ...state[action.key],\n          key: action.key,\n          ...action.changes\n        }\n      };\n    case 'DELETE_ORGANIZATION':\n      return omit(state, action.key);\n    default:\n      return state;\n  }\n}\n\nfunction my(state: State['my'] = [], action: Action): State['my'] {\n  switch (action.type) {\n    case 'RECEIVE_MY_ORGANIZATIONS':\n      return uniq([...state, ...action.organizations.map(o => o.key)]);\n    case 'CREATE_ORGANIZATION':\n      return uniq([...state, action.organization.key]);\n    case 'DELETE_ORGANIZATION':\n      return without(state, action.key);\n    default:\n      return state;\n  }\n}\n\nexport default combineReducers({ byKey, my });\n\nexport function getOrganizationByKey(state: State, key: string) {\n  return state.byKey[key];\n}\n\nexport function getMyOrganizations(state: State) {\n  return state.my.map(key => getOrganizationByKey(state, key));\n}\n\nexport function areThereCustomOrganizations(state: State) {\n  return Object.keys(state.byKey).length > 1;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\nexport default function AlertErrorIcon({ className, fill = theme.red, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M11.402 10.018q0-0.232-0.17-0.402l-1.616-1.616 1.616-1.616q0.17-0.17 0.17-0.402 0-0.241-0.17-0.411l-0.804-0.804q-0.17-0.17-0.411-0.17-0.232 0-0.402 0.17l-1.616 1.616-1.616-1.616q-0.17-0.17-0.402-0.17-0.241 0-0.411 0.17l-0.804 0.804q-0.17 0.17-0.17 0.411 0 0.232 0.17 0.402l1.616 1.616-1.616 1.616q-0.17 0.17-0.17 0.402 0 0.241 0.17 0.411l0.804 0.804q0.17 0.17 0.411 0.17 0.232 0 0.402-0.17l1.616-1.616 1.616 1.616q0.17 0.17 0.402 0.17 0.241 0 0.411-0.17l0.804-0.804q0.17-0.17 0.17-0.411zM14.857 8q0 1.866-0.92 3.442t-2.496 2.496-3.442 0.92-3.442-0.92-2.496-2.496-0.92-3.442 0.92-3.442 2.496-2.496 3.442-0.92 3.442 0.92 2.496 2.496 0.92 3.442z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { uniq } from 'lodash';\nimport { Query, convertToFilter } from './query';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\nimport { RequestData } from '../../helpers/request';\nimport { getOrganizations } from '../../api/organizations';\nimport { searchProjects, Facet } from '../../api/components';\nimport { getMeasuresForProjects } from '../../api/measures';\nimport { isDiffMetric, getPeriodValue } from '../../helpers/measures';\n\ninterface SortingOption {\n  class?: string;\n  value: string;\n}\n\nexport const PROJECTS_DEFAULT_FILTER = 'sonarqube.projects.default';\nexport const PROJECTS_FAVORITE = 'favorite';\nexport const PROJECTS_ALL = 'all';\n\nexport const SORTING_METRICS: SortingOption[] = [\n  { value: 'name' },\n  { value: 'analysis_date' },\n  { value: 'reliability' },\n  { value: 'security' },\n  { value: 'maintainability' },\n  { value: 'coverage' },\n  { value: 'duplications' },\n  { value: 'size' }\n];\n\nexport const SORTING_LEAK_METRICS: SortingOption[] = [\n  { value: 'name' },\n  { value: 'analysis_date' },\n  { value: 'new_reliability', class: 'projects-leak-sorting-option' },\n  { value: 'new_security', class: 'projects-leak-sorting-option' },\n  { value: 'new_maintainability', class: 'projects-leak-sorting-option' },\n  { value: 'new_coverage', class: 'projects-leak-sorting-option' },\n  { value: 'new_duplications', class: 'projects-leak-sorting-option' },\n  { value: 'new_lines', class: 'projects-leak-sorting-option' }\n];\n\nexport const SORTING_SWITCH: T.Dict<string> = {\n  analysis_date: 'analysis_date',\n  name: 'name',\n  reliability: 'new_reliability',\n  security: 'new_security',\n  maintainability: 'new_maintainability',\n  coverage: 'new_coverage',\n  duplications: 'new_duplications',\n  size: 'new_lines',\n  new_reliability: 'reliability',\n  new_security: 'security',\n  new_maintainability: 'maintainability',\n  new_coverage: 'coverage',\n  new_duplications: 'duplications',\n  new_lines: 'size'\n};\n\nexport const VIEWS = [{ value: 'overall', label: 'overall' }, { value: 'leak', label: 'new_code' }];\n\nexport const VISUALIZATIONS = [\n  'risk',\n  'reliability',\n  'security',\n  'maintainability',\n  'coverage',\n  'duplications'\n];\n\nconst PAGE_SIZE = 50;\nconst PAGE_SIZE_VISUALIZATIONS = 99;\n\nconst METRICS = [\n  'alert_status',\n  'bugs',\n  'reliability_rating',\n  'vulnerabilities',\n  'security_rating',\n  'code_smells',\n  'sqale_rating',\n  'duplicated_lines_density',\n  'coverage',\n  'ncloc',\n  'ncloc_language_distribution'\n];\n\nconst LEAK_METRICS = [\n  'alert_status',\n  'new_bugs',\n  'new_reliability_rating',\n  'new_vulnerabilities',\n  'new_security_rating',\n  'new_code_smells',\n  'new_maintainability_rating',\n  'new_coverage',\n  'new_duplicated_lines_density',\n  'new_lines'\n];\n\nconst METRICS_BY_VISUALIZATION: T.Dict<string[]> = {\n  risk: ['reliability_rating', 'security_rating', 'coverage', 'ncloc', 'sqale_index'],\n  // x, y, size, color\n  reliability: ['ncloc', 'reliability_remediation_effort', 'bugs', 'reliability_rating'],\n  security: ['ncloc', 'security_remediation_effort', 'vulnerabilities', 'security_rating'],\n  maintainability: ['ncloc', 'sqale_index', 'code_smells', 'sqale_rating'],\n  coverage: ['complexity', 'coverage', 'uncovered_lines'],\n  duplications: ['ncloc', 'duplicated_lines_density', 'duplicated_blocks']\n};\n\nexport const FACETS = [\n  'reliability_rating',\n  'security_rating',\n  'sqale_rating',\n  'coverage',\n  'duplicated_lines_density',\n  'ncloc',\n  'alert_status',\n  'languages',\n  'tags'\n];\n\nexport const LEAK_FACETS = [\n  'new_reliability_rating',\n  'new_security_rating',\n  'new_maintainability_rating',\n  'new_coverage',\n  'new_duplicated_lines_density',\n  'new_lines',\n  'alert_status',\n  'languages',\n  'tags'\n];\n\nconst REVERSED_FACETS = ['coverage', 'new_coverage'];\n\nexport function localizeSorting(sort?: string): string {\n  return translate('projects.sort', sort || 'name');\n}\n\nexport function parseSorting(sort: string): { sortValue: string; sortDesc: boolean } {\n  const desc = sort[0] === '-';\n  return { sortValue: desc ? sort.substr(1) : sort, sortDesc: desc };\n}\n\nexport function fetchProjects(\n  query: Query,\n  isFavorite: boolean,\n  organization: T.Organization | undefined,\n  pageIndex = 1\n) {\n  const ps = query.view === 'visualizations' ? PAGE_SIZE_VISUALIZATIONS : PAGE_SIZE;\n  const data = convertToQueryData(query, isFavorite, organization && organization.key, {\n    p: pageIndex > 1 ? pageIndex : undefined,\n    ps,\n    facets: defineFacets(query).join(),\n    f: 'analysisDate,leakPeriodDate'\n  });\n  return searchProjects(data)\n    .then(response =>\n      Promise.all([\n        fetchProjectMeasures(response.components, query),\n        fetchProjectOrganizations(response.components, organization),\n        Promise.resolve(response)\n      ])\n    )\n    .then(([measures, organizations, { components, facets, paging }]) => {\n      return {\n        facets: getFacetsMap(facets),\n        projects: components\n          .map(component => {\n            const componentMeasures: T.Dict<string> = {};\n            measures\n              .filter(measure => measure.component === component.key)\n              .forEach(measure => {\n                const value = isDiffMetric(measure.metric)\n                  ? getPeriodValue(measure, 1)\n                  : measure.value;\n                if (value !== undefined) {\n                  componentMeasures[measure.metric] = value;\n                }\n              });\n            return { ...component, measures: componentMeasures };\n          })\n          .map(component => {\n            const organization = organizations.find(o => o.key === component.organization);\n            return { ...component, organization };\n          }),\n        total: paging.total\n      };\n    });\n}\n\nfunction defineMetrics(query: Query): string[] {\n  switch (query.view) {\n    case 'visualizations':\n      return METRICS_BY_VISUALIZATION[query.visualization || 'risk'];\n    case 'leak':\n      return LEAK_METRICS;\n    default:\n      return METRICS;\n  }\n}\n\nfunction defineFacets(query: Query): string[] {\n  if (query.view === 'leak') {\n    return LEAK_FACETS;\n  }\n  return FACETS;\n}\n\nfunction convertToQueryData(\n  query: Query,\n  isFavorite: boolean,\n  organization?: string,\n  defaultData = {}\n) {\n  const data: RequestData = { ...defaultData, organization };\n  const filter = convertToFilter(query, isFavorite);\n  const sort = convertToSorting(query);\n\n  if (filter) {\n    data.filter = filter;\n  }\n  if (sort.s) {\n    data.s = sort.s;\n  }\n  if (sort.asc !== undefined) {\n    data.asc = sort.asc;\n  }\n  return data;\n}\n\nexport function fetchProjectMeasures(projects: Array<{ key: string }>, query: Query) {\n  if (!projects.length) {\n    return Promise.resolve([]);\n  }\n\n  const projectKeys = projects.map(project => project.key);\n  const metrics = defineMetrics(query);\n  return getMeasuresForProjects(projectKeys, metrics);\n}\n\nexport function fetchProjectOrganizations(\n  projects: Array<{ organization: string }>,\n  organization: T.Organization | undefined\n) {\n  if (organization) {\n    return Promise.resolve([organization]);\n  }\n  if (!projects.length) {\n    return Promise.resolve([]);\n  }\n\n  const organizations = uniq(projects.map(project => project.organization));\n  return getOrganizations({ organizations: organizations.join() }).then(r => r.organizations);\n}\n\nfunction mapFacetValues(values: Array<{ val: string; count: number }>) {\n  const map: T.Dict<number> = {};\n  values.forEach(value => {\n    map[value.val] = value.count;\n  });\n  return map;\n}\n\nfunction getFacetsMap(facets: Facet[]) {\n  const map: T.Dict<T.Dict<number>> = {};\n  facets.forEach(facet => {\n    const property = mapMetricToProperty(facet.property);\n    const { values } = facet;\n    if (REVERSED_FACETS.includes(property)) {\n      values.reverse();\n    }\n    map[property] = mapFacetValues(values);\n  });\n  return map;\n}\n\nfunction mapPropertyToMetric(property?: string) {\n  const map: T.Dict<string> = {\n    analysis_date: 'analysisDate',\n    reliability: 'reliability_rating',\n    new_reliability: 'new_reliability_rating',\n    security: 'security_rating',\n    new_security: 'new_security_rating',\n    maintainability: 'sqale_rating',\n    new_maintainability: 'new_maintainability_rating',\n    coverage: 'coverage',\n    new_coverage: 'new_coverage',\n    duplications: 'duplicated_lines_density',\n    new_duplications: 'new_duplicated_lines_density',\n    size: 'ncloc',\n    new_lines: 'new_lines',\n    gate: 'alert_status',\n    languages: 'languages',\n    tags: 'tags',\n    search: 'query'\n  };\n  return property && map[property];\n}\n\nfunction convertToSorting({ sort }: Query): { s?: string; asc?: boolean } {\n  if (sort && sort[0] === '-') {\n    return { s: mapPropertyToMetric(sort.substr(1)), asc: false };\n  }\n  return { s: mapPropertyToMetric(sort) };\n}\n\nfunction mapMetricToProperty(metricKey: string) {\n  const map: T.Dict<string> = {\n    analysisDate: 'analysis_date',\n    reliability_rating: 'reliability',\n    new_reliability_rating: 'new_reliability',\n    security_rating: 'security',\n    new_security_rating: 'new_security',\n    sqale_rating: 'maintainability',\n    new_maintainability_rating: 'new_maintainability',\n    coverage: 'coverage',\n    new_coverage: 'new_coverage',\n    duplicated_lines_density: 'duplications',\n    new_duplicated_lines_density: 'new_duplications',\n    ncloc: 'size',\n    new_lines: 'new_lines',\n    alert_status: 'gate',\n    languages: 'languages',\n    tags: 'tags',\n    query: 'search'\n  };\n  return map[metricKey];\n}\n\nconst ONE_MINUTE = 60000;\nconst ONE_HOUR = 60 * ONE_MINUTE;\nconst ONE_DAY = 24 * ONE_HOUR;\nconst ONE_MONTH = 30 * ONE_DAY;\nconst ONE_YEAR = 12 * ONE_MONTH;\n\nfunction format(periods: Array<{ value: number; label: string }>) {\n  let result = '';\n  let count = 0;\n  let lastId = -1;\n  for (let i = 0; i < periods.length && count < 2; i++) {\n    if (periods[i].value > 0) {\n      count++;\n      if (lastId < 0 || lastId + 1 === i) {\n        lastId = i;\n        result += translateWithParameters(periods[i].label, periods[i].value) + ' ';\n      }\n    }\n  }\n  return result;\n}\n\nexport function formatDuration(ms: number) {\n  if (ms < ONE_MINUTE) {\n    return translate('duration.seconds');\n  }\n  const years = Math.floor(ms / ONE_YEAR);\n  ms -= years * ONE_YEAR;\n  const months = Math.floor(ms / ONE_MONTH);\n  ms -= months * ONE_MONTH;\n  const days = Math.floor(ms / ONE_DAY);\n  ms -= days * ONE_DAY;\n  const hours = Math.floor(ms / ONE_HOUR);\n  ms -= hours * ONE_HOUR;\n  const minutes = Math.floor(ms / ONE_MINUTE);\n  return format([\n    { value: years, label: 'duration.years' },\n    { value: months, label: 'duration.months' },\n    { value: days, label: 'duration.days' },\n    { value: hours, label: 'duration.hours' },\n    { value: minutes, label: 'duration.minutes' }\n  ]);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, RequestData, postJSON, post } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport function getMeasures(\n  data: { component: string; metricKeys: string } & T.BranchParameters\n): Promise<T.Measure[]> {\n  return getJSON('/api/measures/component', data).then(r => r.component.measures, throwGlobalError);\n}\n\nexport function getMeasuresAndMeta(\n  component: string,\n  metrics: string[],\n  additional: RequestData = {}\n): Promise<{ component: T.ComponentMeasure; metrics?: T.Metric[]; periods?: T.Period[] }> {\n  return getJSON('/api/measures/component', {\n    ...additional,\n    component,\n    metricKeys: metrics.join(',')\n  }).catch(throwGlobalError);\n}\n\ninterface MeasuresForProjects {\n  component: string;\n  metric: string;\n  periods?: T.PeriodMeasure[];\n  value?: string;\n}\n\nexport function getMeasuresForProjects(\n  projectKeys: string[],\n  metricKeys: string[]\n): Promise<MeasuresForProjects[]> {\n  return getJSON('/api/measures/search', {\n    projectKeys: projectKeys.join(),\n    metricKeys: metricKeys.join()\n  }).then(r => r.measures);\n}\n\nexport function getCustomMeasures(data: {\n  f?: string;\n  p?: number;\n  projectKey: string;\n  ps?: number;\n}): Promise<{ customMeasures: T.CustomMeasure[]; paging: T.Paging }> {\n  return getJSON('/api/custom_measures/search', data).then(\n    r =>\n      ({\n        customMeasures: r.customMeasures,\n        paging: { pageIndex: r.p, pageSize: r.ps, total: r.total }\n      } as any),\n    throwGlobalError\n  );\n}\n\nexport function createCustomMeasure(data: {\n  description?: string;\n  metricKey: string;\n  projectKey: string;\n  value: string;\n}): Promise<T.CustomMeasure> {\n  return postJSON('/api/custom_measures/create', data).catch(throwGlobalError);\n}\n\nexport function updateCustomMeasure(data: { description?: string; id: string; value?: string }) {\n  return post('/api/custom_measures/update', data).catch(throwGlobalError);\n}\n\nexport function deleteCustomMeasure(data: { id: string }) {\n  return post('/api/custom_measures/delete', data).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n/* eslint-disable no-bitwise, no-mixed-operators */\nexport function stringToColor(str: string) {\n  let hash = 0;\n  for (let i = 0; i < str.length; i++) {\n    hash = str.charCodeAt(i) + ((hash << 5) - hash);\n  }\n  let color = '#';\n  for (let i = 0; i < 3; i++) {\n    const value = (hash >> (i * 8)) & 0xff;\n    color += ('00' + value.toString(16)).substr(-2);\n  }\n  return color;\n}\n\nexport function isDarkColor(color: string) {\n  color = color.substr(1);\n  if (color.length === 3) {\n    // shortcut notation: #f90\n    color = color[0] + color[0] + color[1] + color[1] + color[2] + color[2];\n  }\n  const rgb = parseInt(color.substr(1), 16);\n  const r = (rgb >> 16) & 0xff;\n  const g = (rgb >> 8) & 0xff;\n  const b = (rgb >> 0) & 0xff;\n  const luma = 0.2126 * r + 0.7152 * g + 0.0722 * b;\n  return luma < 140;\n}\n\nexport function getTextColor(background: string, dark = '#222', light = '#fff') {\n  return isDarkColor(background) ? light : dark;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { connect } from 'react-redux';\nimport { getGlobalSettingValue, Store } from '../../../../store/rootReducer';\nimport { translate } from '../../../../helpers/l10n';\nimport { getBaseUrl } from '../../../../helpers/urls';\n\ninterface StateProps {\n  customLogoUrl?: string;\n  customLogoWidth?: string | number;\n}\n\nexport function GlobalNavBranding({ customLogoUrl, customLogoWidth }: StateProps) {\n  const title = translate('layout.sonar.slogan');\n  const url = customLogoUrl || `${getBaseUrl()}/images/logo.svg?v=6.6`;\n  const width = customLogoUrl ? customLogoWidth || 100 : 83;\n\n  return (\n    <Link className=\"navbar-brand\" to=\"/\">\n      <img alt={title} height={30} src={url} title={title} width={width} />\n    </Link>\n  );\n}\n\nexport function SonarCloudNavBranding() {\n  return (\n    <GlobalNavBranding\n      customLogoUrl={`${getBaseUrl()}/images/sonarcloud-logo.svg`}\n      customLogoWidth={105}\n    />\n  );\n}\n\nconst mapStateToProps = (state: Store): StateProps => {\n  const customLogoUrl = getGlobalSettingValue(state, 'sonar.lf.logoUrl');\n  const customLogoWidth = getGlobalSettingValue(state, 'sonar.lf.logoWidthPx');\n  return {\n    customLogoUrl: customLogoUrl && customLogoUrl.value,\n    customLogoWidth: customLogoWidth && customLogoWidth.value\n  };\n};\n\nexport default connect(mapStateToProps)(GlobalNavBranding);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { Link } from 'react-router';\nimport { translate } from '../../../../helpers/l10n';\nimport { getQualityGatesUrl, getBaseUrl } from '../../../../helpers/urls';\nimport { isMySet } from '../../../../apps/issues/utils';\nimport Dropdown from '../../../../components/controls/Dropdown';\nimport DropdownIcon from '../../../../components/icons-components/DropdownIcon';\nimport { isSonarCloud } from '../../../../helpers/system';\nimport { isLoggedIn } from '../../../../helpers/users';\n\ninterface Props {\n  appState: Pick<T.AppState, 'canAdmin' | 'globalPages' | 'organizationsEnabled' | 'qualifiers'>;\n  currentUser: T.CurrentUser;\n  location: { pathname: string };\n}\n\nexport default class GlobalNavMenu extends React.PureComponent<Props> {\n  activeLink(url: string) {\n    return window.location.pathname.indexOf(getBaseUrl() + url) === 0 ? 'active' : undefined;\n  }\n\n  renderProjects() {\n    if (isSonarCloud() && !isLoggedIn(this.props.currentUser)) {\n      return null;\n    }\n\n    const active =\n      this.props.location.pathname.startsWith('/projects') &&\n      this.props.location.pathname !== '/projects/create';\n\n    return (\n      <li>\n        <Link activeClassName={classNames({ active })} to=\"/projects\">\n          {isSonarCloud() ? translate('my_projects') : translate('projects.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderPortfolios() {\n    return (\n      <li>\n        <Link activeClassName=\"active\" to=\"/portfolios\">\n          {translate('portfolios.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderIssuesLink() {\n    if (isSonarCloud() && !isLoggedIn(this.props.currentUser)) {\n      return null;\n    }\n\n    const active = this.props.location.pathname === 'issues';\n\n    if (isSonarCloud()) {\n      return (\n        <li>\n          <Link\n            className={classNames({ active })}\n            to={{ pathname: '/issues', query: { resolved: 'false' } }}>\n            {translate('my_issues')}\n          </Link>\n        </li>\n      );\n    }\n\n    const query =\n      this.props.currentUser.isLoggedIn && isMySet()\n        ? { resolved: 'false', myIssues: 'true' }\n        : { resolved: 'false' };\n    return (\n      <li>\n        <Link className={classNames({ active })} to={{ pathname: '/issues', query }}>\n          {translate('issues.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderRulesLink() {\n    return (\n      <li>\n        <Link className={this.activeLink('/coding_rules')} to=\"/coding_rules\">\n          {translate('coding_rules.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderProfilesLink() {\n    return (\n      <li>\n        <Link activeClassName=\"active\" to=\"/profiles\">\n          {translate('quality_profiles.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderQualityGatesLink() {\n    return (\n      <li>\n        <Link activeClassName=\"active\" to={getQualityGatesUrl()}>\n          {translate('quality_gates.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderAdministrationLink() {\n    if (!this.props.appState.canAdmin) {\n      return null;\n    }\n\n    return (\n      <li>\n        <Link activeClassName=\"active\" to=\"/admin\">\n          {translate('layout.settings')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderGlobalPageLink = ({ key, name }: T.Extension) => {\n    return (\n      <li key={key}>\n        <Link to={`/extension/${key}`}>{name}</Link>\n      </li>\n    );\n  };\n\n  renderMore() {\n    const { globalPages = [] } = this.props.appState;\n    const withoutPortfolios = globalPages.filter(page => page.key !== 'governance/portfolios');\n    if (withoutPortfolios.length === 0) {\n      return null;\n    }\n    return (\n      <Dropdown\n        overlay={<ul className=\"menu\">{withoutPortfolios.map(this.renderGlobalPageLink)}</ul>}\n        tagName=\"li\">\n        {({ onToggleClick, open }) => (\n          <a\n            aria-expanded={open}\n            aria-haspopup=\"true\"\n            className={classNames('dropdown-toggle', { active: open })}\n            href=\"#\"\n            id=\"global-navigation-more\"\n            onClick={onToggleClick}>\n            {translate('more')}\n            <DropdownIcon className=\"little-spacer-left text-middle\" />\n          </a>\n        )}\n      </Dropdown>\n    );\n  }\n\n  render() {\n    const governanceInstalled = this.props.appState.qualifiers.includes('VW');\n    const { organizationsEnabled } = this.props.appState;\n\n    return (\n      <ul className=\"global-navbar-menu\">\n        {this.renderProjects()}\n        {governanceInstalled && this.renderPortfolios()}\n        {this.renderIssuesLink()}\n        {!organizationsEnabled && this.renderRulesLink()}\n        {!organizationsEnabled && this.renderProfilesLink()}\n        {!organizationsEnabled && this.renderQualityGatesLink()}\n        {this.renderAdministrationLink()}\n        {this.renderMore()}\n      </ul>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { translate } from '../../../../helpers/l10n';\n\ninterface Props {\n  location: { pathname: string };\n}\n\nexport default function GlobalNavExplore({ location }: Props) {\n  const active = location.pathname.startsWith('/explore');\n  return (\n    <li>\n      <Link\n        className={active ? 'active' : undefined}\n        to={{ pathname: '/explore/projects', query: { sort: '-analysis_date' } }}>\n        {translate('explore')}\n      </Link>\n    </li>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy } from 'lodash';\nimport { Link } from 'react-router';\nimport * as theme from '../../../theme';\nimport Avatar from '../../../../components/ui/Avatar';\nimport OrganizationListItem from '../../../../components/ui/OrganizationListItem';\nimport { translate } from '../../../../helpers/l10n';\nimport { getBaseUrl } from '../../../../helpers/urls';\nimport Dropdown from '../../../../components/controls/Dropdown';\nimport { isLoggedIn } from '../../../../helpers/users';\nimport { withRouter, Router } from '../../../../components/hoc/withRouter';\n\ninterface Props {\n  appState: { organizationsEnabled?: boolean };\n  currentUser: T.CurrentUser;\n  organizations: T.Organization[];\n  router: Pick<Router, 'push'>;\n}\n\nexport class GlobalNavUser extends React.PureComponent<Props> {\n  handleLogin = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    const shouldReturnToCurrentPage = window.location.pathname !== `${getBaseUrl()}/about`;\n    if (shouldReturnToCurrentPage) {\n      const returnTo = encodeURIComponent(window.location.pathname + window.location.search);\n      window.location.href =\n        getBaseUrl() + `/sessions/new?return_to=${returnTo}${window.location.hash}`;\n    } else {\n      window.location.href = `${getBaseUrl()}/sessions/new`;\n    }\n  };\n\n  handleLogout = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    this.props.router.push('/sessions/logout');\n  };\n\n  renderAuthenticated() {\n    const { organizations } = this.props;\n    const currentUser = this.props.currentUser as T.LoggedInUser;\n    const hasOrganizations = this.props.appState.organizationsEnabled && organizations.length > 0;\n    return (\n      <Dropdown\n        className=\"js-user-authenticated\"\n        overlay={\n          <ul className=\"menu\">\n            <li className=\"menu-item\">\n              <div className=\"text-ellipsis text-muted\" title={currentUser.name}>\n                <strong>{currentUser.name}</strong>\n              </div>\n              {currentUser.email != null && (\n                <div\n                  className=\"little-spacer-top text-ellipsis text-muted\"\n                  title={currentUser.email}>\n                  {currentUser.email}\n                </div>\n              )}\n            </li>\n            <li className=\"divider\" />\n            <li>\n              <Link to=\"/account\">{translate('my_account.page')}</Link>\n            </li>\n            {hasOrganizations && <li className=\"divider\" role=\"separator\" />}\n            {hasOrganizations && (\n              <li>\n                <Link to=\"/account/organizations\">{translate('my_organizations')}</Link>\n              </li>\n            )}\n            {hasOrganizations &&\n              sortBy(organizations, org => org.name.toLowerCase()).map(organization => (\n                <OrganizationListItem key={organization.key} organization={organization} />\n              ))}\n            {hasOrganizations && <li className=\"divider\" role=\"separator\" />}\n            <li>\n              <a href=\"#\" onClick={this.handleLogout}>\n                {translate('layout.logout')}\n              </a>\n            </li>\n          </ul>\n        }\n        tagName=\"li\">\n        <a className=\"dropdown-toggle navbar-avatar\" href=\"#\" title={currentUser.name}>\n          <Avatar\n            hash={currentUser.avatar}\n            name={currentUser.name}\n            size={theme.globalNavContentHeightRaw}\n          />\n        </a>\n      </Dropdown>\n    );\n  }\n\n  renderAnonymous() {\n    return (\n      <li>\n        <a className=\"navbar-login\" href=\"/sessions/new\" onClick={this.handleLogin}>\n          {translate('layout.login')}\n        </a>\n      </li>\n    );\n  }\n\n  render() {\n    return isLoggedIn(this.props.currentUser) ? this.renderAuthenticated() : this.renderAnonymous();\n  }\n}\n\nexport default withRouter(GlobalNavUser);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport GlobalNavUser from './GlobalNavUser';\nimport { getMyOrganizations, Store } from '../../../../store/rootReducer';\n\ninterface StateProps {\n  organizations: T.Organization[];\n}\n\nconst mapStateToProps = (state: Store): StateProps => ({\n  organizations: getMyOrganizations(state)\n});\n\nexport default connect(mapStateToProps)(GlobalNavUser);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as key from 'keymaster';\nimport { debounce, keyBy, uniqBy } from 'lodash';\nimport { FormattedMessage } from 'react-intl';\nimport { withRouter, WithRouterProps } from 'react-router';\nimport { sortQualifiers, More, Results, ComponentResult } from './utils';\nimport RecentHistory from '../RecentHistory';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport { DropdownOverlay } from '../../../components/controls/Dropdown';\nimport ClockIcon from '../../../components/icons-components/ClockIcon';\nimport OutsideClickHandler from '../../../components/controls/OutsideClickHandler';\nimport SearchBox from '../../../components/controls/SearchBox';\nimport { lazyLoad } from '../../../components/lazyLoad';\nimport { getSuggestions } from '../../../api/components';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { scrollToElement } from '../../../helpers/scrolling';\nimport { getProjectUrl, getCodeUrl } from '../../../helpers/urls';\nimport './Search.css';\n\nconst SearchResults = lazyLoad(() => import('./SearchResults'));\nconst SearchResult = lazyLoad(() => import('./SearchResult'));\n\ninterface OwnProps {\n  appState: Pick<T.AppState, 'organizationsEnabled'>;\n  currentUser: T.CurrentUser;\n}\n\ntype Props = OwnProps & WithRouterProps;\n\ninterface State {\n  loading: boolean;\n  loadingMore?: string;\n  more: More;\n  open: boolean;\n  organizations: T.Dict<{ name: string }>;\n  projects: T.Dict<{ name: string }>;\n  query: string;\n  results: Results;\n  selected?: string;\n  shortQuery: boolean;\n}\n\nexport class Search extends React.PureComponent<Props, State> {\n  input?: HTMLInputElement | null;\n  node?: HTMLElement | null;\n  nodes: T.Dict<HTMLElement>;\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.nodes = {};\n    this.search = debounce(this.search, 250);\n    this.state = {\n      loading: false,\n      more: {},\n      open: false,\n      organizations: {},\n      projects: {},\n      query: '',\n      results: {},\n      shortQuery: false\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    key('s', () => {\n      this.focusInput();\n      this.openSearch();\n      return false;\n    });\n  }\n\n  componentWillUpdate() {\n    this.nodes = {};\n  }\n\n  componentDidUpdate(_prevProps: Props, prevState: State) {\n    if (prevState.selected !== this.state.selected) {\n      this.scrollToSelected();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    key.unbind('s');\n  }\n\n  focusInput = () => {\n    if (this.input) {\n      this.input.focus();\n    }\n  };\n\n  handleClickOutside = () => {\n    this.closeSearch(false);\n  };\n\n  handleFocus = () => {\n    if (!this.state.open) {\n      // simulate click to close any other dropdowns\n      const body = document.documentElement;\n      if (body) {\n        body.click();\n      }\n    }\n    this.openSearch();\n  };\n\n  openSearch = () => {\n    if (!this.state.open && !this.state.query) {\n      this.search('');\n    }\n    this.setState({ open: true });\n  };\n\n  closeSearch = (clear = true) => {\n    if (this.input) {\n      this.input.blur();\n    }\n    if (clear) {\n      this.setState({\n        more: {},\n        open: false,\n        organizations: {},\n        projects: {},\n        query: '',\n        results: {},\n        selected: undefined,\n        shortQuery: false\n      });\n    } else {\n      this.setState({ open: false });\n    }\n  };\n\n  getPlainComponentsList = (results: Results, more: More) =>\n    sortQualifiers(Object.keys(results)).reduce((components, qualifier) => {\n      const next = [...components, ...results[qualifier].map(component => component.key)];\n      if (more[qualifier]) {\n        next.push('qualifier###' + qualifier);\n      }\n      return next;\n    }, []);\n\n  findFile = (key: string) => {\n    const findInResults = (results: ComponentResult[] | undefined) =>\n      results && results.find(r => r.key === key);\n\n    const file = findInResults(this.state.results['FIL']);\n    if (file) {\n      return file;\n    }\n\n    const test = findInResults(this.state.results['UTS']);\n    if (test) {\n      return test;\n    }\n\n    return undefined;\n  };\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  search = (query: string) => {\n    if (query.length === 0 || query.length >= 2) {\n      this.setState({ loading: true });\n      const recentlyBrowsed = RecentHistory.get().map(component => component.key);\n      getSuggestions(query, recentlyBrowsed).then(response => {\n        // compare `this.state.query` and `query` to handle two request done almost at the same time\n        // in this case only the request that matches the current query should be taken\n        if (this.mounted && this.state.query === query) {\n          const results: Results = {};\n          const more: More = {};\n          response.results.forEach(group => {\n            results[group.q] = group.items.map(item => ({ ...item, qualifier: group.q }));\n            more[group.q] = group.more;\n          });\n          const list = this.getPlainComponentsList(results, more);\n          this.setState(state => ({\n            loading: false,\n            more,\n            organizations: { ...state.organizations, ...keyBy(response.organizations, 'key') },\n            projects: { ...state.projects, ...keyBy(response.projects, 'key') },\n            results,\n            selected: list.length > 0 ? list[0] : undefined,\n            shortQuery: query.length > 2 && response.warning === 'short_input'\n          }));\n        }\n      }, this.stopLoading);\n    } else {\n      this.setState({ loading: false });\n    }\n  };\n\n  searchMore = (qualifier: string) => {\n    const { query } = this.state;\n    if (query.length === 1) {\n      return;\n    }\n\n    this.setState({ loading: true, loadingMore: qualifier });\n    const recentlyBrowsed = RecentHistory.get().map(component => component.key);\n    getSuggestions(query, recentlyBrowsed, qualifier).then(response => {\n      if (this.mounted) {\n        const group = response.results.find(group => group.q === qualifier);\n        const moreResults = (group ? group.items : []).map(item => ({ ...item, qualifier }));\n        this.setState(state => ({\n          loading: false,\n          loadingMore: undefined,\n          more: { ...state.more, [qualifier]: 0 },\n          organizations: { ...state.organizations, ...keyBy(response.organizations, 'key') },\n          projects: { ...state.projects, ...keyBy(response.projects, 'key') },\n          results: {\n            ...state.results,\n            [qualifier]: uniqBy([...state.results[qualifier], ...moreResults], 'key')\n          },\n          selected: moreResults.length > 0 ? moreResults[0].key : state.selected\n        }));\n        this.focusInput();\n      }\n    }, this.stopLoading);\n  };\n\n  handleQueryChange = (query: string) => {\n    this.setState({ query, shortQuery: query.length === 1 });\n    this.search(query);\n  };\n\n  selectPrevious = () => {\n    this.setState(({ more, results, selected }) => {\n      if (selected) {\n        const list = this.getPlainComponentsList(results, more);\n        const index = list.indexOf(selected);\n        return index > 0 ? { selected: list[index - 1] } : null;\n      } else {\n        return null;\n      }\n    });\n  };\n\n  selectNext = () => {\n    this.setState(({ more, results, selected }) => {\n      if (selected) {\n        const list = this.getPlainComponentsList(results, more);\n        const index = list.indexOf(selected);\n        return index >= 0 && index < list.length - 1 ? { selected: list[index + 1] } : null;\n      } else {\n        return null;\n      }\n    });\n  };\n\n  openSelected = () => {\n    const { selected } = this.state;\n\n    if (selected) {\n      if (selected.startsWith('qualifier###')) {\n        this.searchMore(selected.substr(12));\n      } else {\n        const file = this.findFile(selected);\n        if (file) {\n          this.props.router.push(getCodeUrl(file.project!, undefined, file.key));\n        } else {\n          this.props.router.push(getProjectUrl(selected));\n        }\n        this.closeSearch();\n      }\n    }\n  };\n\n  scrollToSelected = () => {\n    if (this.state.selected) {\n      const node = this.nodes[this.state.selected];\n      if (node && this.node) {\n        scrollToElement(node, { topOffset: 30, bottomOffset: 30, parent: this.node });\n      }\n    }\n  };\n\n  handleKeyDown = (event: React.KeyboardEvent) => {\n    switch (event.keyCode) {\n      case 13:\n        event.preventDefault();\n        this.openSelected();\n        return;\n      case 38:\n        event.preventDefault();\n        this.selectPrevious();\n        return;\n      case 40:\n        event.preventDefault();\n        this.selectNext();\n        // keep this return to prevent fall-through in case more cases will be adder later\n        // eslint-disable-next-line no-useless-return\n        return;\n    }\n  };\n\n  handleSelect = (selected: string) => {\n    this.setState({ selected });\n  };\n\n  innerRef = (component: string, node: HTMLElement | null) => {\n    if (node) {\n      this.nodes[component] = node;\n    }\n  };\n\n  searchInputRef = (node: HTMLInputElement | null) => {\n    this.input = node;\n  };\n\n  renderResult = (component: ComponentResult) => (\n    <SearchResult\n      appState={this.props.appState}\n      component={component}\n      innerRef={this.innerRef}\n      key={component.key}\n      onClose={this.closeSearch}\n      onSelect={this.handleSelect}\n      organizations={this.state.organizations}\n      projects={this.state.projects}\n      selected={this.state.selected === component.key}\n    />\n  );\n\n  renderNoResults = () => (\n    <div className=\"navbar-search-no-results\">\n      {translateWithParameters('no_results_for_x', this.state.query)}\n    </div>\n  );\n\n  render() {\n    const search = (\n      <li className=\"navbar-search dropdown\">\n        <DeferredSpinner className=\"navbar-search-icon\" loading={this.state.loading} />\n\n        <SearchBox\n          autoFocus={this.state.open}\n          innerRef={this.searchInputRef}\n          minLength={2}\n          onChange={this.handleQueryChange}\n          onFocus={this.handleFocus}\n          onKeyDown={this.handleKeyDown}\n          placeholder={translate('search.placeholder')}\n          value={this.state.query}\n        />\n\n        {this.state.shortQuery && (\n          <span className=\"navbar-search-input-hint\">\n            {translateWithParameters('select2.tooShort', 2)}\n          </span>\n        )}\n\n        {this.state.open && Object.keys(this.state.results).length > 0 && (\n          <DropdownOverlay noPadding={true}>\n            <div className=\"global-navbar-search-dropdown\" ref={node => (this.node = node)}>\n              <SearchResults\n                allowMore={this.state.query.length !== 1}\n                loadingMore={this.state.loadingMore}\n                more={this.state.more}\n                onMoreClick={this.searchMore}\n                onSelect={this.handleSelect}\n                renderNoResults={this.renderNoResults}\n                renderResult={this.renderResult}\n                results={this.state.results}\n                selected={this.state.selected}\n              />\n              <div className=\"dropdown-bottom-hint\">\n                <div className=\"pull-right\">\n                  <ClockIcon className=\"little-spacer-right\" size={12} />\n                  {translate('recently_browsed')}\n                </div>\n                <FormattedMessage\n                  defaultMessage={translate('search.shortcut_hint')}\n                  id=\"search.shortcut_hint\"\n                  values={{\n                    shortcut: <span className=\"shortcut-button shortcut-button-small\">s</span>\n                  }}\n                />\n              </div>\n            </div>\n          </DropdownOverlay>\n        )}\n      </li>\n    );\n\n    return this.state.open ? (\n      <OutsideClickHandler onClickOutside={this.handleClickOutside}>{search}</OutsideClickHandler>\n    ) : (\n      search\n    );\n  }\n}\n\nexport default withRouter<OwnProps>(Search);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Toggler from '../../../components/controls/Toggler';\nimport HelpIcon from '../../../components/icons-components/HelpIcon';\nimport { lazyLoad } from '../../../components/lazyLoad';\nimport { translate } from '../../../helpers/l10n';\n\nconst EmbedDocsPopup = lazyLoad(() => import('./EmbedDocsPopup'));\n\ninterface State {\n  helpOpen: boolean;\n}\n\nexport default class EmbedDocsPopupHelper extends React.PureComponent<{}, State> {\n  mounted = false;\n  state: State = { helpOpen: false };\n\n  componentDidMount() {\n    window.addEventListener('keypress', this.onKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keypress', this.onKeyPress);\n  }\n\n  onKeyPress = (event: KeyboardEvent) => {\n    const { tagName } = event.target as HTMLElement;\n    const code = event.keyCode || event.which;\n    const isInput = tagName === 'INPUT' || tagName === 'SELECT' || tagName === 'TEXTAREA';\n    const isTriggerKey = code === 63;\n    if (!isInput && isTriggerKey) {\n      this.toggleHelp();\n    }\n  };\n\n  setHelpDisplay = (helpOpen: boolean) => {\n    this.setState({ helpOpen });\n  };\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.toggleHelp();\n  };\n\n  toggleHelp = () => {\n    this.setState(state => {\n      return { helpOpen: !state.helpOpen };\n    });\n  };\n\n  closeHelp = () => {\n    this.setState({ helpOpen: false });\n  };\n\n  render() {\n    return (\n      <li className=\"dropdown\">\n        <Toggler\n          onRequestClose={this.closeHelp}\n          open={this.state.helpOpen}\n          overlay={<EmbedDocsPopup onClose={this.closeHelp} />}>\n          <a\n            className=\"navbar-help navbar-icon\"\n            href=\"#\"\n            onClick={this.handleClick}\n            title={translate('help')}>\n            <HelpIcon />\n          </a>\n        </Toggler>\n      </li>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport GlobalNavBranding, { SonarCloudNavBranding } from './GlobalNavBranding';\nimport GlobalNavMenu from './GlobalNavMenu';\nimport GlobalNavExplore from './GlobalNavExplore';\nimport GlobalNavUserContainer from './GlobalNavUserContainer';\nimport Search from '../../search/Search';\nimport EmbedDocsPopupHelper from '../../embed-docs-modal/EmbedDocsPopupHelper';\nimport * as theme from '../../../theme';\nimport NavBar from '../../../../components/nav/NavBar';\nimport { lazyLoad } from '../../../../components/lazyLoad';\nimport {\n  fetchPrismicRefs,\n  fetchPrismicFeatureNews,\n  PrismicFeatureNews\n} from '../../../../api/news';\nimport {\n  getCurrentUser,\n  getCurrentUserSetting,\n  getAppState,\n  getGlobalSettingValue,\n  Store\n} from '../../../../store/rootReducer';\nimport { isSonarCloud } from '../../../../helpers/system';\nimport { isLoggedIn } from '../../../../helpers/users';\nimport { OnboardingContext } from '../../OnboardingContext';\nimport { setCurrentUserSetting } from '../../../../store/users';\nimport { parseDate } from '../../../../helpers/dates';\nimport './GlobalNav.css';\n\nconst GlobalNavPlus = lazyLoad(() => import('./GlobalNavPlus'), 'GlobalNavPlus');\nconst NotificationsSidebar = lazyLoad(\n  () => import('../../notifications/NotificationsSidebar'),\n  'NotificationsSidebar'\n);\nconst NavLatestNotification = lazyLoad(\n  () => import('../../notifications/NavLatestNotification'),\n  'NavLatestNotification'\n);\n\ninterface Props {\n  accessToken?: string;\n  appState: Pick<T.AppState, 'canAdmin' | 'globalPages' | 'organizationsEnabled' | 'qualifiers'>;\n  currentUser: T.CurrentUser;\n  location: { pathname: string };\n  notificationsLastReadDate?: Date;\n  notificationsOptOut?: boolean;\n  setCurrentUserSetting: (setting: T.CurrentUserSetting) => void;\n}\n\ninterface State {\n  notificationSidebar?: boolean;\n  loadingNews: boolean;\n  loadingMoreNews: boolean;\n  news: PrismicFeatureNews[];\n  newsPaging?: T.Paging;\n  newsRef?: string;\n}\n\nconst PAGE_SIZE = 5;\n\nexport class GlobalNav extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    loadingNews: false,\n    loadingMoreNews: false,\n    news: [],\n    notificationSidebar: false\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    if (isSonarCloud()) {\n      this.fetchFeatureNews();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchFeatureNews = () => {\n    const { accessToken } = this.props;\n    if (accessToken) {\n      this.setState({ loadingNews: true });\n      fetchPrismicRefs()\n        .then(({ ref }) => {\n          if (this.mounted) {\n            this.setState({ newsRef: ref });\n          }\n          return ref;\n        })\n        .then(ref => fetchPrismicFeatureNews({ accessToken, ref, ps: PAGE_SIZE }))\n        .then(\n          ({ news, paging }) => {\n            if (this.mounted) {\n              this.setState({\n                loadingNews: false,\n                news,\n                newsPaging: paging\n              });\n            }\n          },\n          () => {\n            if (this.mounted) {\n              this.setState({ loadingNews: false });\n            }\n          }\n        );\n    }\n  };\n\n  fetchMoreFeatureNews = () => {\n    const { accessToken } = this.props;\n    const { newsPaging, newsRef } = this.state;\n    if (accessToken && newsPaging && newsRef) {\n      this.setState({ loadingMoreNews: true });\n      fetchPrismicFeatureNews({\n        accessToken,\n        ref: newsRef,\n        p: newsPaging.pageIndex + 1,\n        ps: PAGE_SIZE\n      }).then(\n        ({ news, paging }) => {\n          if (this.mounted) {\n            this.setState(state => ({\n              loadingMoreNews: false,\n              news: [...state.news, ...news],\n              newsPaging: paging\n            }));\n          }\n        },\n        () => {\n          if (this.mounted) {\n            this.setState({ loadingMoreNews: false });\n          }\n        }\n      );\n    }\n  };\n\n  handleOpenNotificationSidebar = () => {\n    this.setState({ notificationSidebar: true });\n    this.fetchFeatureNews();\n  };\n\n  handleCloseNotificationSidebar = () => {\n    this.setState({ notificationSidebar: false });\n    const lastNews = this.state.news[0];\n    const readDate = lastNews ? parseDate(lastNews.publicationDate).getTime() : Date.now();\n    this.props.setCurrentUserSetting({ key: 'notifications.readDate', value: readDate.toString() });\n  };\n\n  render() {\n    const { appState, currentUser } = this.props;\n    const { news } = this.state;\n    return (\n      <NavBar className=\"navbar-global\" height={theme.globalNavHeightRaw} id=\"global-navigation\">\n        {isSonarCloud() ? <SonarCloudNavBranding /> : <GlobalNavBranding />}\n\n        <GlobalNavMenu {...this.props} />\n\n        <ul className=\"global-navbar-menu global-navbar-menu-right\">\n          {isSonarCloud() && isLoggedIn(currentUser) && news.length > 0 && (\n            <NavLatestNotification\n              lastNews={news[0]}\n              notificationsLastReadDate={this.props.notificationsLastReadDate}\n              notificationsOptOut={this.props.notificationsOptOut}\n              onClick={this.handleOpenNotificationSidebar}\n              setCurrentUserSetting={this.props.setCurrentUserSetting}\n            />\n          )}\n          {isSonarCloud() && <GlobalNavExplore location={this.props.location} />}\n          <EmbedDocsPopupHelper />\n          <Search appState={appState} currentUser={currentUser} />\n          {isLoggedIn(currentUser) && (\n            <OnboardingContext.Consumer data-test=\"global-nav-plus\">\n              {openProjectOnboarding => (\n                <GlobalNavPlus\n                  appState={appState}\n                  currentUser={currentUser}\n                  openProjectOnboarding={openProjectOnboarding}\n                />\n              )}\n            </OnboardingContext.Consumer>\n          )}\n          <GlobalNavUserContainer appState={appState} currentUser={currentUser} />\n        </ul>\n        {isSonarCloud() && isLoggedIn(currentUser) && this.state.notificationSidebar && (\n          <NotificationsSidebar\n            fetchMoreFeatureNews={this.fetchMoreFeatureNews}\n            loading={this.state.loadingNews}\n            loadingMore={this.state.loadingMoreNews}\n            news={news}\n            notificationsLastReadDate={this.props.notificationsLastReadDate}\n            onClose={this.handleCloseNotificationSidebar}\n            paging={this.state.newsPaging}\n          />\n        )}\n      </NavBar>\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store) => {\n  const accessToken = getGlobalSettingValue(state, 'sonar.prismic.accessToken');\n  const notificationsLastReadDate = getCurrentUserSetting(state, 'notifications.readDate');\n  const notificationsOptOut = getCurrentUserSetting(state, 'notifications.optOut') === 'true';\n\n  return {\n    currentUser: getCurrentUser(state),\n    appState: getAppState(state),\n    accessToken: accessToken && accessToken.value,\n    notificationsLastReadDate: notificationsLastReadDate\n      ? parseDate(Number(notificationsLastReadDate))\n      : undefined,\n    notificationsOptOut\n  };\n};\n\nconst mapDispatchToProps = {\n  setCurrentUserSetting\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(GlobalNav);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { OnboardingContext } from './OnboardingContext';\nimport { differenceInDays, parseDate, toShortNotSoISOString } from '../../helpers/dates';\nimport { getCurrentUser, getAppState, Store } from '../../store/rootReducer';\nimport { skipOnboarding } from '../../store/users';\nimport { showLicense } from '../../api/marketplace';\nimport { hasMessage } from '../../helpers/l10n';\nimport { save, get } from '../../helpers/storage';\nimport { isSonarCloud } from '../../helpers/system';\nimport { lazyLoad } from '../../components/lazyLoad';\nimport { isLoggedIn } from '../../helpers/users';\nimport { withRouter, Router, Location } from '../../components/hoc/withRouter';\n\nconst OnboardingModal = lazyLoad(() => import('../../apps/tutorials/onboarding/OnboardingModal'));\nconst LicensePromptModal = lazyLoad(\n  () => import('../../apps/marketplace/components/LicensePromptModal'),\n  'LicensePromptModal'\n);\n\ninterface StateProps {\n  canAdmin?: boolean;\n  currentEdition?: T.EditionKey;\n  currentUser: T.CurrentUser;\n}\n\ninterface DispatchProps {\n  skipOnboarding: () => void;\n}\n\ninterface OwnProps {\n  children?: React.ReactNode;\n}\n\ninterface WithRouterProps {\n  location: Pick<Location, 'pathname'>;\n  router: Pick<Router, 'push'>;\n}\n\ntype Props = StateProps & DispatchProps & OwnProps & WithRouterProps;\n\nexport enum ModalKey {\n  license,\n  onboarding\n}\n\ninterface State {\n  modal?: ModalKey;\n}\n\nconst LICENSE_PROMPT = 'sonarqube.license.prompt';\n\nexport class StartupModal extends React.PureComponent<Props, State> {\n  state: State = {};\n\n  componentDidMount() {\n    this.tryAutoOpenLicense().catch(this.tryAutoOpenOnboarding);\n  }\n\n  closeOnboarding = () => {\n    this.setState(state => {\n      if (state.modal !== ModalKey.license) {\n        this.props.skipOnboarding();\n        return { modal: undefined };\n      }\n      return null;\n    });\n  };\n\n  closeLicense = () => {\n    this.setState(state => {\n      if (state.modal === ModalKey.license) {\n        return { modal: undefined };\n      }\n      return null;\n    });\n  };\n\n  openOnboarding = () => {\n    this.setState({ modal: ModalKey.onboarding });\n  };\n\n  openProjectOnboarding = (organization?: T.Organization) => {\n    this.setState({ modal: undefined });\n    const state: { organization?: string; tab?: string } = {};\n    if (organization) {\n      state.organization = organization.key;\n      state.tab = organization.alm ? 'auto' : 'manual';\n    }\n    this.props.router.push({ pathname: `/projects/create`, state });\n  };\n\n  tryAutoOpenLicense = () => {\n    const { canAdmin, currentEdition, currentUser } = this.props;\n    const hasLicenseManager = hasMessage('license.prompt.title');\n    const hasLicensedEdition = currentEdition && currentEdition !== 'community';\n\n    if (canAdmin && hasLicensedEdition && isLoggedIn(currentUser) && hasLicenseManager) {\n      const lastPrompt = get(LICENSE_PROMPT, currentUser.login);\n\n      if (!lastPrompt || differenceInDays(new Date(), parseDate(lastPrompt)) >= 1) {\n        return showLicense().then(license => {\n          if (!license || !license.isValidEdition) {\n            save(LICENSE_PROMPT, toShortNotSoISOString(new Date()), currentUser.login);\n            this.setState({ modal: ModalKey.license });\n            return Promise.resolve();\n          }\n          return Promise.reject();\n        });\n      }\n    }\n    return Promise.reject();\n  };\n\n  tryAutoOpenOnboarding = () => {\n    if (\n      isSonarCloud() &&\n      this.props.currentUser.showOnboardingTutorial &&\n      !['/about', '/documentation', '/onboarding', '/projects/create', '/create-organization'].some(\n        path => this.props.location.pathname.startsWith(path)\n      )\n    ) {\n      this.openOnboarding();\n    }\n  };\n\n  render() {\n    const { modal } = this.state;\n    return (\n      <OnboardingContext.Provider value={this.openProjectOnboarding}>\n        {this.props.children}\n        {modal === ModalKey.license && <LicensePromptModal onClose={this.closeLicense} />}\n        {modal === ModalKey.onboarding && (\n          <OnboardingModal\n            onClose={this.closeOnboarding}\n            onOpenProjectOnboarding={this.openProjectOnboarding}\n          />\n        )}\n      </OnboardingContext.Provider>\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store): StateProps => ({\n  canAdmin: getAppState(state).canAdmin,\n  currentEdition: getAppState(state).edition,\n  currentUser: getCurrentUser(state)\n});\n\nconst mapDispatchToProps: DispatchProps = { skipOnboarding };\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withRouter(StartupModal));\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport suggestionsJson from 'Docs/EmbedDocsSuggestions.json';\nimport { SuggestionsContext } from './SuggestionsContext';\nimport { isSonarCloud } from '../../../helpers/system';\n\ntype SuggestionsJson = T.Dict<T.SuggestionLink[]>;\n\ninterface State {\n  suggestions: T.SuggestionLink[];\n}\n\nexport default class SuggestionsProvider extends React.Component<{}, State> {\n  keys: string[] = [];\n  state: State = { suggestions: [] };\n\n  fetchSuggestions = () => {\n    const jsonList = suggestionsJson as SuggestionsJson;\n    let suggestions: T.SuggestionLink[] = [];\n    this.keys.forEach(key => {\n      if (jsonList[key]) {\n        suggestions = [...jsonList[key], ...suggestions];\n      }\n    });\n    if (!isSonarCloud()) {\n      suggestions = suggestions.filter(suggestion => suggestion.scope !== 'sonarcloud');\n    }\n    this.setState({ suggestions });\n  };\n\n  addSuggestions = (newKey: string) => {\n    this.keys = [...this.keys, newKey];\n    this.fetchSuggestions();\n  };\n\n  removeSuggestions = (oldKey: string) => {\n    this.keys = this.keys.filter(key => key !== oldKey);\n    this.fetchSuggestions();\n  };\n\n  render() {\n    return (\n      <SuggestionsContext.Provider\n        value={{\n          addSuggestions: this.addSuggestions,\n          removeSuggestions: this.removeSuggestions,\n          suggestions: this.state.suggestions\n        }}>\n        {this.props.children}\n      </SuggestionsContext.Provider>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy } from 'lodash';\nimport { A11yContext } from './A11yContext';\n\ninterface State {\n  links: T.A11ySkipLink[];\n}\n\nexport default class A11yProvider extends React.Component<{}, State> {\n  keys: string[] = [];\n  state: State = { links: [] };\n\n  addA11ySkipLink = (link: T.A11ySkipLink) => {\n    this.setState(prevState => {\n      const links = [...prevState.links];\n      links.push({ ...link, weight: link.weight || 0 });\n      return { links };\n    });\n  };\n\n  removeA11ySkipLink = (link: T.A11ySkipLink) => {\n    this.setState(prevState => {\n      const links = prevState.links.filter(l => l.key !== link.key);\n      return { links };\n    });\n  };\n\n  render() {\n    const links = sortBy(this.state.links, 'weight');\n    return (\n      <A11yContext.Provider\n        value={{\n          addA11ySkipLink: this.addA11ySkipLink,\n          links,\n          removeA11ySkipLink: this.removeA11ySkipLink\n        }}>\n        {this.props.children}\n      </A11yContext.Provider>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { A11yContext } from './A11yContext';\nimport './A11ySkipLinks.css';\n\nexport default function A11ySkipLinks() {\n  return (\n    <A11yContext.Consumer>\n      {({ links }) =>\n        links.map(link => (\n          <a className=\"a11y-skip-link\" href={`#a11y_target__${link.key}`} key={link.key}>\n            {link.label}\n          </a>\n        ))\n      }\n    </A11yContext.Consumer>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { createPortal } from 'react-dom';\n\nexport default class WorkspacePortal extends React.PureComponent {\n  el: HTMLElement;\n\n  constructor(props: {}) {\n    super(props);\n    this.el = document.createElement('div');\n    this.el.classList.add('workspace');\n  }\n\n  componentDidMount() {\n    document.body.appendChild(this.el);\n  }\n\n  componentWillUnmount() {\n    document.body.removeChild(this.el);\n  }\n\n  render() {\n    return createPortal(this.props.children, this.el);\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { omit, uniqBy } from 'lodash';\nimport { WorkspaceContext, ComponentDescriptor, RuleDescriptor } from './context';\nimport WorkspacePortal from './WorkspacePortal';\nimport { get, save } from '../../helpers/storage';\nimport { lazyLoad } from '../lazyLoad';\nimport './styles.css';\n\nconst WORKSPACE = 'sonarqube-workspace';\nconst WorkspaceNav = lazyLoad(() => import('./WorkspaceNav'));\nconst WorkspaceRuleViewer = lazyLoad(() => import('./WorkspaceRuleViewer'));\nconst WorkspaceComponentViewer = lazyLoad(() => import('./WorkspaceComponentViewer'));\n\ninterface State {\n  components: ComponentDescriptor[];\n  height: number;\n  maximized?: boolean;\n  open: { component?: string; rule?: string };\n  rules: RuleDescriptor[];\n}\n\nconst MIN_HEIGHT = 0.05;\nconst MAX_HEIGHT = 0.85;\nconst INITIAL_HEIGHT = 300;\n\nconst TYPE_KEY = '__type__';\n\nexport default class Workspace extends React.PureComponent<{}, State> {\n  mounted = false;\n\n  constructor(props: {}) {\n    super(props);\n    this.state = { height: INITIAL_HEIGHT, open: {}, ...this.loadWorkspace() };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentDidUpdate(_: {}, prevState: State) {\n    if (prevState.components !== this.state.components || prevState.rules !== this.state.rules) {\n      this.saveWorkspace();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadWorkspace = () => {\n    try {\n      const data: any[] = JSON.parse(get(WORKSPACE) || '');\n      const components: ComponentDescriptor[] = data.filter(x => x[TYPE_KEY] === 'component');\n      const rules: RuleDescriptor[] = data.filter(x => x[TYPE_KEY] === 'rule');\n      return { components, rules };\n    } catch {\n      // fail silently\n      return { components: [], rules: [] };\n    }\n  };\n\n  saveWorkspace = () => {\n    const data = [\n      // do not save line number, next time the file is open, it should be open on the first line\n      ...this.state.components.map(x => omit({ ...x, [TYPE_KEY]: 'component' }, 'line')),\n      ...this.state.rules.map(x => ({ ...x, [TYPE_KEY]: 'rule' }))\n    ];\n    save(WORKSPACE, JSON.stringify(data));\n  };\n\n  openComponent = (component: ComponentDescriptor) => {\n    this.setState((state: State) => ({\n      components: uniqBy([...state.components, component], component => component.key),\n      open: { component: component.key }\n    }));\n  };\n\n  reopenComponent = (componentKey: string) => {\n    this.setState({ open: { component: componentKey } });\n  };\n\n  openRule = (rule: RuleDescriptor) => {\n    this.setState((state: State) => ({\n      open: { rule: rule.key },\n      rules: uniqBy([...state.rules, rule], rule => rule.key)\n    }));\n  };\n\n  reopenRule = (ruleKey: string) => {\n    this.setState({ open: { rule: ruleKey } });\n  };\n\n  closeComponent = (componentKey: string) => {\n    this.setState((state: State) => ({\n      components: state.components.filter(x => x.key !== componentKey),\n      open: {\n        ...state.open,\n        component: state.open.component === componentKey ? undefined : state.open.component\n      }\n    }));\n  };\n\n  closeRule = (ruleKey: string) => {\n    this.setState((state: State) => ({\n      rules: state.rules.filter(x => x.key !== ruleKey),\n      open: {\n        ...state.open,\n        rule: state.open.rule === ruleKey ? undefined : state.open.rule\n      }\n    }));\n  };\n\n  handleComponentLoad = (details: { key: string; name: string; qualifier: string }) => {\n    if (this.mounted) {\n      const { key, name, qualifier } = details;\n      this.setState((state: State) => ({\n        components: state.components.map(component =>\n          component.key === key ? { ...component, name, qualifier } : component\n        )\n      }));\n    }\n  };\n\n  handleRuleLoad = (details: { key: string; name: string }) => {\n    if (this.mounted) {\n      const { key, name } = details;\n      this.setState((state: State) => ({\n        rules: state.rules.map(rule => (rule.key === key ? { ...rule, name } : rule))\n      }));\n    }\n  };\n\n  collapse = () => {\n    this.setState({ open: {} });\n  };\n\n  maximize = () => {\n    this.setState({ maximized: true });\n  };\n\n  minimize = () => {\n    this.setState({ maximized: false });\n  };\n\n  resize = (deltaY: number) => {\n    const minHeight = window.innerHeight * MIN_HEIGHT;\n    const maxHeight = window.innerHeight * MAX_HEIGHT;\n    this.setState((state: State) => ({\n      height: Math.min(maxHeight, Math.max(minHeight, state.height - deltaY))\n    }));\n  };\n\n  render() {\n    const { components, open, rules } = this.state;\n\n    const openComponent = open.component && components.find(x => x.key === open.component);\n    const openRule = open.rule && rules.find(x => x.key === open.rule);\n\n    const height = this.state.maximized ? window.innerHeight * MAX_HEIGHT : this.state.height;\n\n    return (\n      <WorkspaceContext.Provider\n        value={{ openComponent: this.openComponent, openRule: this.openRule }}>\n        {this.props.children}\n        <WorkspacePortal>\n          {(components.length > 0 || rules.length > 0) && (\n            <WorkspaceNav\n              components={components}\n              onComponentClose={this.closeComponent}\n              onComponentOpen={this.reopenComponent}\n              onRuleClose={this.closeRule}\n              onRuleOpen={this.reopenRule}\n              open={this.state.open}\n              rules={rules}\n            />\n          )}\n          {openComponent && (\n            <WorkspaceComponentViewer\n              component={openComponent}\n              height={height}\n              maximized={this.state.maximized}\n              onClose={this.closeComponent}\n              onCollapse={this.collapse}\n              onLoad={this.handleComponentLoad}\n              onMaximize={this.maximize}\n              onMinimize={this.minimize}\n              onResize={this.resize}\n            />\n          )}\n          {openRule && (\n            <WorkspaceRuleViewer\n              height={height}\n              maximized={this.state.maximized}\n              onClose={this.closeRule}\n              onCollapse={this.collapse}\n              onLoad={this.handleRuleLoad}\n              onMaximize={this.maximize}\n              onMinimize={this.minimize}\n              onResize={this.resize}\n              rule={openRule}\n            />\n          )}\n        </WorkspacePortal>\n      </WorkspaceContext.Provider>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport GlobalNav from './nav/global/GlobalNav';\nimport StartupModal from './StartupModal';\nimport GlobalFooterContainer from './GlobalFooterContainer';\nimport GlobalMessagesContainer from './GlobalMessagesContainer';\nimport SuggestionsProvider from './embed-docs-modal/SuggestionsProvider';\nimport A11yProvider from './a11y/A11yProvider';\nimport A11ySkipLinks from './a11y/A11ySkipLinks';\nimport Workspace from '../../components/workspace/Workspace';\n\nexport interface Props {\n  children: React.ReactNode;\n  footer?: React.ReactNode;\n  location: { pathname: string };\n}\n\nexport default function GlobalContainer(props: Props) {\n  // it is important to pass `location` down to `GlobalNav` to trigger render on url change\n  const { footer = <GlobalFooterContainer /> } = props;\n  return (\n    <SuggestionsProvider>\n      <A11yProvider>\n        <StartupModal>\n          <A11ySkipLinks />\n\n          <div className=\"global-container\">\n            <div className=\"page-wrapper\" id=\"container\">\n              <div className=\"page-container\">\n                <Workspace>\n                  <GlobalNav location={props.location} />\n                  <GlobalMessagesContainer />\n                  {props.children}\n                </Workspace>\n              </div>\n            </div>\n            {footer}\n          </div>\n        </StartupModal>\n      </A11yProvider>\n    </SuggestionsProvider>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { stringify } from 'querystring';\nimport { memoize } from 'lodash';\nimport { Plugin, PluginAvailable, PluginInstalled, PluginPending } from '../../api/plugins';\nimport { cleanQuery, parseAsString, RawQuery, serializeString } from '../../helpers/query';\nimport { omitNil } from '../../helpers/request';\n\nexport enum EditionKey {\n  community = 'community',\n  developer = 'developer',\n  enterprise = 'enterprise',\n  datacenter = 'datacenter'\n}\n\nexport interface Edition {\n  downloadUrl?: string;\n  homeUrl: string;\n  key: EditionKey;\n  name: string;\n}\n\nexport interface Query {\n  filter: string;\n  search?: string;\n}\n\nexport const EDITIONS: Edition[] = [\n  {\n    key: EditionKey.community,\n    name: 'Community Edition',\n    homeUrl: 'https://redirect.sonarsource.com/editions/community.html'\n  },\n  {\n    key: EditionKey.developer,\n    name: 'Developer Edition',\n    homeUrl: 'https://redirect.sonarsource.com/editions/developer.html',\n    downloadUrl:\n      'https://binaries.sonarsource.com/CommercialDistribution/editions/developer-edition-7.0.0.717.zip'\n  },\n  {\n    key: EditionKey.enterprise,\n    name: 'Enterprise Edition',\n    homeUrl: 'https://redirect.sonarsource.com/editions/enterprise.html',\n    downloadUrl:\n      'https://binaries.sonarsource.com/CommercialDistribution/editions/enterprise-edition-7.0.0.717.zip'\n  },\n  {\n    key: EditionKey.datacenter,\n    name: 'Data Center Edition',\n    homeUrl: 'https://redirect.sonarsource.com/editions/datacenter.html',\n    downloadUrl:\n      'https://binaries.sonarsource.com/CommercialDistribution/editions/datacenter-edition-7.0.0.717.zip'\n  }\n];\n\nexport function getEditionUrl(\n  edition: Edition,\n  data: { serverId?: string; ncloc?: number; sourceEdition?: T.EditionKey }\n) {\n  let url = edition.homeUrl;\n  const query = stringify(omitNil(data));\n  if (query) {\n    url += '?' + query;\n  }\n  return url;\n}\n\nconst EXCLUDED_PLUGINS = ['license'];\nexport function filterPlugins(plugins: Plugin[], search?: string): Plugin[] {\n  if (!search) {\n    return plugins.filter(plugin => !EXCLUDED_PLUGINS.includes(plugin.key));\n  }\n\n  const s = search.toLowerCase();\n  return plugins.filter(plugin => {\n    return (\n      !EXCLUDED_PLUGINS.includes(plugin.key) &&\n      (plugin.name.toLowerCase().includes(s) ||\n        (plugin.description || '').toLowerCase().includes(s) ||\n        (plugin.category || '').toLowerCase().includes(s))\n    );\n  });\n}\n\nexport function isPluginAvailable(plugin: Plugin): plugin is PluginAvailable {\n  return (plugin as any).release !== undefined;\n}\n\nexport function isPluginInstalled(plugin: Plugin): plugin is PluginInstalled {\n  return isPluginPending(plugin) && (plugin as any).updatedAt !== undefined;\n}\n\nexport function isPluginPending(plugin: Plugin): plugin is PluginPending {\n  return (plugin as any).version !== undefined;\n}\n\nexport const DEFAULT_FILTER = 'all';\nexport const parseQuery = memoize(\n  (urlQuery: RawQuery): Query => ({\n    filter: parseAsString(urlQuery['filter']) || DEFAULT_FILTER,\n    search: parseAsString(urlQuery['search'])\n  })\n);\n\nexport const serializeQuery = memoize(\n  (query: Query): RawQuery =>\n    cleanQuery({\n      filter: query.filter === DEFAULT_FILTER ? undefined : serializeString(query.filter),\n      search: query.search ? serializeString(query.search) : undefined\n    })\n);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\n\ninterface Props {\n  children?: React.ReactNode;\n  organization: { key: string };\n  [x: string]: any;\n}\n\nexport default function OrganizationLink(props: Props) {\n  const { children, organization, ...other } = props;\n\n  return (\n    <Link to={`/organizations/${organization.key}`} {...other}>\n      {children}\n    </Link>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport interface MetricsResponse {\n  metrics: T.Metric[];\n  p: number;\n  ps: number;\n  total: number;\n}\n\nexport function getMetrics(data?: {\n  isCustom?: boolean;\n  p?: number;\n  ps?: number;\n}): Promise<MetricsResponse> {\n  return getJSON('/api/metrics/search', data).catch(throwGlobalError);\n}\n\nexport function getAllMetrics(data?: {\n  isCustom?: boolean;\n  p?: number;\n  ps?: number;\n}): Promise<T.Metric[]> {\n  return inner(data);\n\n  function inner(\n    data: { p?: number; ps?: number } = { ps: 500 },\n    prev?: MetricsResponse\n  ): Promise<T.Metric[]> {\n    return getMetrics(data).then(r => {\n      const result = prev ? prev.metrics.concat(r.metrics) : r.metrics;\n      if (r.p * r.ps >= r.total) {\n        return result;\n      }\n      return inner({ ...data, p: r.p + 1 }, { ...r, metrics: result });\n    });\n  }\n}\n\nexport function getMetricDomains(): Promise<string[]> {\n  return getJSON('/api/metrics/domains').then(r => r.domains, throwGlobalError);\n}\n\nexport function getMetricTypes(): Promise<string[]> {\n  return getJSON('/api/metrics/types').then(r => r.types, throwGlobalError);\n}\n\nexport function createMetric(data: {\n  description?: string;\n  domain?: string;\n  key: string;\n  name: string;\n  type: string;\n}): Promise<T.Metric> {\n  return postJSON('/api/metrics/create', data).catch(throwGlobalError);\n}\n\nexport function updateMetric(data: {\n  description?: string;\n  domain?: string;\n  id: string;\n  key?: string;\n  name?: string;\n  type?: string;\n}) {\n  return post('/api/metrics/update', data).catch(throwGlobalError);\n}\n\nexport function deleteMetric(data: { keys: string }) {\n  return post('/api/metrics/delete', data).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { createContext } from 'react';\n\nexport interface ComponentDescriptor {\n  branchLike: T.BranchLike | undefined;\n  key: string;\n  line?: number;\n  name?: string;\n  qualifier?: string;\n}\n\nexport interface RuleDescriptor {\n  key: string;\n  name?: string;\n  organization: string;\n}\n\nexport interface WorkspaceContextShape {\n  openComponent: (component: ComponentDescriptor) => void;\n  openRule: (rule: RuleDescriptor) => void;\n}\n\nexport const WorkspaceContext = createContext<WorkspaceContextShape>({\n  openComponent: () => {},\n  openRule: () => {}\n});\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { Dispatch } from 'redux';\nimport { getOrganizations } from '../../../api/organizations';\nimport { receiveMyOrganizations } from '../../../store/organizations';\nimport { getValues } from '../../../api/settings';\nimport { receiveValues } from '../../settings/store/values';\n\nexport const fetchMyOrganizations = () => (dispatch: Dispatch) => {\n  return getOrganizations({ member: true }).then(({ organizations }) => {\n    return dispatch(receiveMyOrganizations(organizations));\n  });\n};\n\nexport const fetchIfAnyoneCanCreateOrganizations = () => (dispatch: Dispatch) => {\n  return getValues({ keys: 'sonar.organizations.anyoneCanCreate' }).then(values => {\n    dispatch(receiveValues(values));\n  });\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\ninterface Props extends IconProps {\n  thin?: boolean;\n}\n\nexport default function ClearIcon({ className, fill = 'currentColor', size, thin }: Props) {\n  return (\n    <Icon className={className} size={size}>\n      {thin ? (\n        <path\n          d=\"M14 3.209l-1.209-1.209-4.791 4.791-4.791-4.791-1.209 1.209 4.791 4.791-4.791 4.791 1.209 1.209 4.791-4.791 4.791 4.791 1.209-1.209-4.791-4.791z\"\n          style={{ fill }}\n        />\n      ) : (\n        <path\n          d=\"M14 4.242L11.758 2l-3.76 3.76L4.242 2 2 4.242l3.756 3.756L2 11.758 4.242 14l3.756-3.76 3.76 3.76L14 11.758l-3.76-3.76L14 4.242z\"\n          style={{ fill }}\n        />\n      )}\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { createContext } from 'react';\n\nexport type OnboardingContextShape = (organization?: T.Organization) => void;\n\nexport const OnboardingContext = createContext<OnboardingContextShape>(() => {});\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { flatten, sortBy } from 'lodash';\nimport { ISSUE_TYPES } from './constants';\n\ninterface Comment {\n  login: string;\n  [x: string]: any;\n}\n\ninterface User {\n  login: string;\n}\n\ninterface Rule {}\n\ninterface Component {\n  key: string;\n  name: string;\n}\n\ninterface IssueBase {\n  severity: string;\n  [x: string]: any;\n}\n\nexport interface RawIssue extends IssueBase {\n  assignee?: string;\n  author?: string;\n  comments?: Array<Comment>;\n  component: string;\n  flows?: Array<{\n    // `componentName` is not available in RawIssue\n    locations?: Array<T.Omit<T.FlowLocation, 'componentName'>>;\n  }>;\n  key: string;\n  line?: number;\n  project: string;\n  rule: string;\n  status: string;\n  subProject?: string;\n  textRange?: T.TextRange;\n}\n\nexport function sortByType(issues: T.Issue[]): T.Issue[] {\n  return sortBy(issues, issue => ISSUE_TYPES.indexOf(issue.type));\n}\n\nfunction injectRelational(\n  issue: T.Dict<any>,\n  source: any[] | undefined,\n  baseField: string,\n  lookupField: string\n) {\n  const newFields: T.Dict<any> = {};\n  const baseValue = issue[baseField];\n  if (baseValue !== undefined && source !== undefined) {\n    const lookupValue = source.find(candidate => candidate[lookupField] === baseValue);\n    if (lookupValue != null) {\n      Object.keys(lookupValue).forEach(key => {\n        const newKey = baseField + key.charAt(0).toUpperCase() + key.slice(1);\n        newFields[newKey] = lookupValue[key];\n      });\n    }\n  }\n  return newFields;\n}\n\nfunction injectCommentsRelational(issue: RawIssue, users?: User[]) {\n  if (!issue.comments) {\n    return {};\n  }\n  const comments = issue.comments.map(comment => {\n    const commentWithAuthor = { ...comment, author: comment.login, login: undefined };\n    return {\n      ...commentWithAuthor,\n      ...injectRelational(commentWithAuthor, users, 'author', 'login')\n    };\n  });\n  return { comments };\n}\n\nfunction prepareClosed(\n  issue: RawIssue,\n  secondaryLocations: T.FlowLocation[],\n  flows: T.FlowLocation[][]\n) {\n  return issue.status === 'CLOSED'\n    ? { flows: [], line: undefined, textRange: undefined, secondaryLocations: [] }\n    : { flows, secondaryLocations };\n}\n\nfunction ensureTextRange(issue: RawIssue): { textRange?: T.TextRange } {\n  return issue.line && !issue.textRange\n    ? {\n        textRange: {\n          startLine: issue.line,\n          endLine: issue.line,\n          startOffset: 0,\n          endOffset: 999999\n        }\n      }\n    : {};\n}\n\nfunction reverseLocations(locations: T.FlowLocation[]): T.FlowLocation[] {\n  const x = [...locations];\n  x.reverse();\n  return x;\n}\n\nfunction splitFlows(\n  issue: RawIssue,\n  components: Component[] = []\n): { secondaryLocations: T.FlowLocation[]; flows: T.FlowLocation[][] } {\n  const parsedFlows: T.FlowLocation[][] = (issue.flows || [])\n    .filter(flow => flow.locations !== undefined)\n    .map(flow => flow.locations!.filter(location => location.textRange != null))\n    .map(flow =>\n      flow.map(location => {\n        const component = components.find(component => component.key === location.component);\n        return { ...location, componentName: component && component.name };\n      })\n    );\n\n  const onlySecondaryLocations = parsedFlows.every(flow => flow.length === 1);\n\n  return onlySecondaryLocations\n    ? { secondaryLocations: orderLocations(flatten(parsedFlows)), flows: [] }\n    : { secondaryLocations: [], flows: parsedFlows.map(reverseLocations) };\n}\n\nfunction orderLocations(locations: T.FlowLocation[]) {\n  return sortBy(\n    locations,\n    location => location.textRange && location.textRange.startLine,\n    location => location.textRange && location.textRange.startOffset\n  );\n}\n\nexport function parseIssueFromResponse(\n  issue: RawIssue,\n  components?: Component[],\n  users?: User[],\n  rules?: Rule[]\n): T.Issue {\n  const { secondaryLocations, flows } = splitFlows(issue, components);\n  return {\n    ...issue,\n    ...injectRelational(issue, components, 'component', 'key'),\n    ...injectRelational(issue, components, 'project', 'key'),\n    ...injectRelational(issue, components, 'subProject', 'key'),\n    ...injectRelational(issue, rules, 'rule', 'key'),\n    ...injectRelational(issue, users, 'assignee', 'login'),\n    ...injectCommentsRelational(issue, users),\n    ...prepareClosed(issue, secondaryLocations, flows),\n    ...ensureTextRange(issue)\n  } as T.Issue;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport './NavBarTabs.css';\n\ninterface Props {\n  children?: any;\n  className?: string;\n  [attr: string]: any;\n}\n\nexport default function NavBarTabs({ children, className, ...other }: Props) {\n  return (\n    <ul {...other} className={classNames('navbar-tabs', className)}>\n      {children}\n    </ul>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { combineReducers } from 'redux';\nimport { keyBy } from 'lodash';\nimport { ActionType } from '../../../store/utils/actions';\nimport { Action as AppStateAction, Actions as AppStateActions } from '../../../store/appState';\n\nenum Actions {\n  receiveValues = 'RECEIVE_VALUES'\n}\n\ntype Action = ActionType<typeof receiveValues, Actions.receiveValues>;\n\ntype SettingsState = T.Dict<T.SettingValue>;\n\nexport interface State {\n  components: T.Dict<SettingsState>;\n  global: SettingsState;\n}\n\nexport function receiveValues(\n  settings: Array<{ key: string; value?: string }>,\n  component?: string\n) {\n  return { type: Actions.receiveValues, settings, component };\n}\n\nfunction components(state: State['components'] = {}, action: Action) {\n  const { component: key } = action;\n  if (!key) {\n    return state;\n  }\n  if (action.type === Actions.receiveValues) {\n    const settingsByKey = keyBy(action.settings, 'key');\n    return { ...state, [key]: { ...(state[key] || {}), ...settingsByKey } };\n  }\n  return state;\n}\n\nfunction global(state: State['components'] = {}, action: Action | AppStateAction) {\n  if (action.type === Actions.receiveValues) {\n    if (action.component) {\n      return state;\n    }\n    const settingsByKey = keyBy(action.settings, 'key');\n    return { ...state, ...settingsByKey };\n  }\n  if (action.type === AppStateActions.SetAppState) {\n    const settingsByKey: SettingsState = {};\n    Object.keys(action.appState.settings).forEach(\n      key => (settingsByKey[key] = { key, value: action.appState.settings[key] })\n    );\n    return { ...state, ...settingsByKey };\n  }\n  return state;\n}\n\nexport default combineReducers({ components, global });\n\nexport function getValue(\n  state: State,\n  key: string,\n  component?: string\n): T.SettingValue | undefined {\n  if (component) {\n    return state.components[component] && state.components[component][key];\n  }\n  return state.global[key];\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\nexport default function AlertWarnIcon({ className, fill = theme.orange, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M8 1.143q1.866 0 3.442.92t2.496 2.496.92 3.442-.92 3.442-2.496 2.496-3.442.92-3.442-.92-2.496-2.496-.92-3.442.92-3.442 2.496-2.496T8 1.143zm1.143 11.134v-1.696q0-.125-.08-.21t-.196-.085H7.153q-.116 0-.205.089t-.089.205v1.696q0 .116.089.205t.205.089h1.714q.116 0 .196-.085t.08-.21zm-.018-3.072l.161-5.545q0-.107-.089-.161-.089-.071-.214-.071H7.019q-.125 0-.214.071-.089.054-.089.161l.152 5.545q0 .089.089.156t.214.067h1.652q.125 0 .21-.067t.094-.156z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { findDOMNode } from 'react-dom';\n\ninterface Props {\n  children: React.ReactNode;\n  onClickOutside: () => void;\n}\n\nexport default class OutsideClickHandler extends React.Component<Props> {\n  element?: Element | null;\n\n  componentDidMount() {\n    setTimeout(() => {\n      this.addClickHandler();\n    }, 0);\n  }\n\n  componentWillUnmount() {\n    this.removeClickHandler();\n  }\n\n  addClickHandler = () => {\n    window.addEventListener('click', this.handleWindowClick);\n  };\n\n  removeClickHandler = () => {\n    window.removeEventListener('click', this.handleWindowClick);\n  };\n\n  handleWindowClick = (event: MouseEvent) => {\n    // eslint-disable-next-line react/no-find-dom-node\n    const node = findDOMNode(this);\n    if (!node || !node.contains(event.target as Node)) {\n      this.props.onClickOutside();\n    }\n  };\n\n  render() {\n    return this.props.children;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { get, remove, save } from '../../helpers/storage';\n\nconst RECENT_HISTORY = 'sonar_recent_history';\nconst HISTORY_LIMIT = 10;\n\nexport type History = Array<{\n  key: string;\n  name: string;\n  icon: string;\n  organization?: string;\n}>;\n\nexport default class RecentHistory {\n  static get(): History {\n    const history = get(RECENT_HISTORY);\n    if (history == null) {\n      return [];\n    } else {\n      try {\n        return JSON.parse(history);\n      } catch {\n        remove(RECENT_HISTORY);\n        return [];\n      }\n    }\n  }\n\n  static set(newHistory: History) {\n    save(RECENT_HISTORY, JSON.stringify(newHistory));\n  }\n\n  static clear() {\n    remove(RECENT_HISTORY);\n  }\n\n  static add(\n    componentKey: string,\n    componentName: string,\n    icon: string,\n    organization: string | undefined\n  ) {\n    const sonarHistory = RecentHistory.get();\n    const newEntry = { key: componentKey, name: componentName, icon, organization };\n    let newHistory = sonarHistory.filter(entry => entry.key !== newEntry.key);\n    newHistory.unshift(newEntry);\n    newHistory = newHistory.slice(0, HISTORY_LIMIT);\n    RecentHistory.set(newHistory);\n  }\n\n  static remove(componentKey: string) {\n    const history = RecentHistory.get();\n    const newHistory = history.filter(entry => entry.key !== componentKey);\n    RecentHistory.set(newHistory);\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport NavBar from './NavBar';\nimport './ContextNavBar.css';\n\ninterface Props {\n  className?: string;\n  height: number;\n  [attr: string]: any;\n}\n\nexport default function ContextNavBar({ className, ...other }: Props) {\n  return <NavBar className={classNames('navbar-context', className)} {...other} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport { lazyLoad } from '../../../components/lazyLoad';\nimport { getCurrentUser, areThereCustomOrganizations, Store } from '../../../store/rootReducer';\n\nconst stateToProps = (state: Store) => ({\n  currentUser: getCurrentUser(state),\n  organizationsEnabled: areThereCustomOrganizations(state)\n});\n\nexport default connect(stateToProps)(lazyLoad(() => import('./AllProjects')));\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { keyBy } from 'lodash';\nimport { ActionType } from './utils/actions';\n\nexport function receiveLanguages(languages: Array<{ key: string; name: string }>) {\n  return { type: 'RECEIVE_LANGUAGES', languages };\n}\n\ntype Action = ActionType<typeof receiveLanguages, 'RECEIVE_LANGUAGES'>;\n\nexport default function(state: T.Languages = {}, action: Action): T.Languages {\n  if (action.type === 'RECEIVE_LANGUAGES') {\n    return keyBy(action.languages, 'key');\n  }\n\n  return state;\n}\n\nexport function getLanguages(state: T.Languages) {\n  return state;\n}\n\nexport function getLanguageByKey(state: T.Languages, key: string) {\n  return state[key];\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit } from 'lodash';\nimport { combineReducers } from 'redux';\nimport { ActionType } from '../../../store/utils/actions';\n\nconst enum Actions {\n  CancelChange = 'settingsPage/CANCEL_CHANGE',\n  ChangeValue = 'settingsPage/CHANGE_VALUE',\n  FailValidation = 'settingsPage/FAIL_VALIDATION',\n  PassValidation = 'settingsPage/PASS_VALIDATION',\n  StartLoading = 'settingsPage/START_LOADING',\n  StopLoading = 'settingsPage/STOP_LOADING'\n}\n\ntype Action =\n  | ActionType<typeof cancelChange, Actions.CancelChange>\n  | ActionType<typeof changeValue, Actions.ChangeValue>\n  | ActionType<typeof failValidation, Actions.FailValidation>\n  | ActionType<typeof passValidation, Actions.PassValidation>\n  | ActionType<typeof startLoading, Actions.StartLoading>\n  | ActionType<typeof stopLoading, Actions.StopLoading>;\n\nexport interface State {\n  changedValues: T.Dict<any>;\n  loading: T.Dict<boolean>;\n  validationMessages: T.Dict<string>;\n}\n\nexport function cancelChange(key: string) {\n  return { type: Actions.CancelChange, key };\n}\n\nexport function changeValue(key: string, value: any) {\n  return { type: Actions.ChangeValue, key, value };\n}\n\nfunction changedValues(state: State['changedValues'] = {}, action: Action) {\n  if (action.type === Actions.ChangeValue) {\n    return { ...state, [action.key]: action.value };\n  }\n  if (action.type === Actions.CancelChange) {\n    return omit(state, action.key);\n  }\n  return state;\n}\n\nexport function failValidation(key: string, message: string) {\n  return { type: Actions.FailValidation, key, message };\n}\n\nexport function passValidation(key: string) {\n  return { type: Actions.PassValidation, key };\n}\n\nfunction validationMessages(state: State['validationMessages'] = {}, action: Action) {\n  if (action.type === Actions.FailValidation) {\n    return { ...state, [action.key]: action.message };\n  }\n  if (action.type === Actions.PassValidation) {\n    return omit(state, action.key);\n  }\n  return state;\n}\n\nexport function startLoading(key: string) {\n  return { type: Actions.StartLoading, key };\n}\n\nexport function stopLoading(key: string) {\n  return { type: Actions.StopLoading, key };\n}\n\nfunction loading(state: State['loading'] = {}, action: Action) {\n  if (action.type === Actions.StartLoading) {\n    return { ...state, [action.key]: true };\n  }\n  if (action.type === Actions.StopLoading) {\n    return { ...state, [action.key]: false };\n  }\n  return state;\n}\n\nexport default combineReducers({ changedValues, loading, validationMessages });\n\nexport function getChangedValue(state: State, key: string) {\n  return state.changedValues[key];\n}\n\nexport function getValidationMessage(state: State, key: string): string | undefined {\n  return state.validationMessages[key];\n}\n\nexport function isLoading(state: State, key: string) {\n  return Boolean(state.loading[key]);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport OrganizationLink from './OrganizationLink';\nimport OrganizationAvatar from '../common/OrganizationAvatar';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  organization: T.Organization;\n}\n\nexport default function OrganizationListItem({ organization }: Props) {\n  const { actions = {} } = organization;\n  return (\n    <li>\n      <OrganizationLink className=\"display-flex-center\" organization={organization}>\n        <div>\n          <OrganizationAvatar organization={organization} small={true} />\n          <span className=\"spacer-left\">{organization.name}</span>\n        </div>\n        {actions.admin && <span className=\"outline-badge spacer-left\">{translate('admin')}</span>}\n      </OrganizationLink>\n    </li>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport {\n  RawQuery,\n  parseAsString,\n  parseAsArray,\n  serializeString,\n  serializeStringArray,\n  cleanQuery,\n  queriesEqual,\n  parseAsDate,\n  serializeDateShort,\n  parseAsOptionalBoolean,\n  serializeOptionalBoolean,\n  parseAsOptionalString\n} from '../../helpers/query';\n\nexport interface Query {\n  activation: boolean | undefined;\n  activationSeverities: string[];\n  availableSince: Date | undefined;\n  compareToProfile: string | undefined;\n  cwe: string[];\n  inheritance: T.RuleInheritance | undefined;\n  languages: string[];\n  owaspTop10: string[];\n  profile: string | undefined;\n  repositories: string[];\n  ruleKey: string | undefined;\n  sansTop25: string[];\n  searchQuery: string | undefined;\n  severities: string[];\n  sonarsourceSecurity: string[];\n  statuses: string[];\n  tags: string[];\n  template: boolean | undefined;\n  types: string[];\n}\n\nexport type FacetKey = keyof Query;\n\nexport interface Facet {\n  [value: string]: number;\n}\n\nexport type Facets = { [F in FacetKey]?: Facet };\n\nexport type OpenFacets = T.Dict<boolean>;\n\nexport interface Activation {\n  inherit: T.RuleInheritance;\n  severity: string;\n}\n\nexport interface Actives {\n  [rule: string]: {\n    [profile: string]: Activation;\n  };\n}\n\nexport function parseQuery(query: RawQuery): Query {\n  return {\n    activation: parseAsOptionalBoolean(query.activation),\n    activationSeverities: parseAsArray(query.active_severities, parseAsString),\n    availableSince: parseAsDate(query.available_since),\n    compareToProfile: parseAsOptionalString(query.compareToProfile),\n    cwe: parseAsArray(query.cwe, parseAsString),\n    inheritance: parseAsInheritance(query.inheritance),\n    languages: parseAsArray(query.languages, parseAsString),\n    owaspTop10: parseAsArray(query.owaspTop10, parseAsString),\n    profile: parseAsOptionalString(query.qprofile),\n    repositories: parseAsArray(query.repositories, parseAsString),\n    ruleKey: parseAsOptionalString(query.rule_key),\n    sansTop25: parseAsArray(query.sansTop25, parseAsString),\n    searchQuery: parseAsOptionalString(query.q),\n    severities: parseAsArray(query.severities, parseAsString),\n    sonarsourceSecurity: parseAsArray(query.sonarsourceSecurity, parseAsString),\n    statuses: parseAsArray(query.statuses, parseAsString),\n    tags: parseAsArray(query.tags, parseAsString),\n    template: parseAsOptionalBoolean(query.is_template),\n    types: parseAsArray(query.types, parseAsString)\n  };\n}\n\nexport function serializeQuery(query: Query): RawQuery {\n  return cleanQuery({\n    activation: serializeOptionalBoolean(query.activation),\n    active_severities: serializeStringArray(query.activationSeverities),\n    available_since: serializeDateShort(query.availableSince),\n    compareToProfile: serializeString(query.compareToProfile),\n    cwe: serializeStringArray(query.cwe),\n    inheritance: serializeInheritance(query.inheritance),\n    is_template: serializeOptionalBoolean(query.template),\n    languages: serializeStringArray(query.languages),\n    owaspTop10: serializeStringArray(query.owaspTop10),\n    q: serializeString(query.searchQuery),\n    qprofile: serializeString(query.profile),\n    repositories: serializeStringArray(query.repositories),\n    rule_key: serializeString(query.ruleKey),\n    sansTop25: serializeStringArray(query.sansTop25),\n    severities: serializeStringArray(query.severities),\n    sonarsourceSecurity: serializeStringArray(query.sonarsourceSecurity),\n    statuses: serializeStringArray(query.statuses),\n    tags: serializeStringArray(query.tags),\n    types: serializeStringArray(query.types)\n  });\n}\n\nexport function areQueriesEqual(a: RawQuery, b: RawQuery) {\n  return queriesEqual(parseQuery(a), parseQuery(b));\n}\n\nexport function shouldRequestFacet(facet: string): facet is FacetKey {\n  const facetsToRequest = [\n    'activationSeverities',\n    'cwe',\n    'languages',\n    'owaspTop10',\n    'repositories',\n    'sansTop25',\n    'severities',\n    'sonarsourceSecurity',\n    'standard',\n    'statuses',\n    'tags',\n    'types'\n  ];\n  return facetsToRequest.includes(facet);\n}\n\nexport function getServerFacet(facet: FacetKey) {\n  return facet === 'activationSeverities' ? 'active_severities' : facet;\n}\n\nexport function getAppFacet(serverFacet: string): FacetKey {\n  return serverFacet === 'active_severities' ? 'activationSeverities' : (serverFacet as FacetKey);\n}\n\nexport function getOpen(query: RawQuery) {\n  return query.open;\n}\n\nfunction parseAsInheritance(value?: string): T.RuleInheritance | undefined {\n  if (value === 'INHERITED' || value === 'NONE' || value === 'OVERRIDES') {\n    return value;\n  } else {\n    return undefined;\n  }\n}\n\nfunction serializeInheritance(value: T.RuleInheritance | undefined): string | undefined {\n  return value;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport { Dispatch } from 'redux';\nimport { uniq } from 'lodash';\nimport { searchIssues } from '../../../api/issues';\nimport { getOrganizations } from '../../../api/organizations';\nimport throwGlobalError from '../../../app/utils/throwGlobalError';\nimport {\n  getCurrentUser,\n  areThereCustomOrganizations,\n  getMyOrganizations,\n  Store\n} from '../../../store/rootReducer';\nimport { lazyLoad } from '../../../components/lazyLoad';\nimport { parseIssueFromResponse } from '../../../helpers/issues';\nimport { RawQuery } from '../../../helpers/query';\nimport { receiveOrganizations } from '../../../store/organizations';\n\ninterface StateProps {\n  currentUser: T.CurrentUser;\n  userOrganizations: T.Organization[];\n}\n\nconst mapStateToProps = (state: Store): StateProps => ({\n  currentUser: getCurrentUser(state),\n  userOrganizations: getMyOrganizations(state)\n});\n\nconst fetchIssueOrganizations = (organizationKeys: string[]) => (dispatch: Dispatch) => {\n  if (!organizationKeys.length) {\n    return Promise.resolve();\n  }\n\n  return getOrganizations({ organizations: organizationKeys.join() }).then(\n    response => dispatch(receiveOrganizations(response.organizations)),\n    throwGlobalError\n  );\n};\n\nconst fetchIssues = (query: RawQuery, requestOrganizations = true) => (\n  // use `Function` to be able to do `dispatch(...).then(...)`\n  dispatch: Function,\n  getState: () => Store\n) => {\n  const organizationsEnabled = areThereCustomOrganizations(getState());\n  return searchIssues({ ...query, additionalFields: '_all' })\n    .then(response => {\n      const parsedIssues = response.issues.map(issue =>\n        parseIssueFromResponse(issue, response.components, response.users, response.rules)\n      );\n      return { ...response, issues: parsedIssues };\n    })\n    .then(response => {\n      const organizationKeys = uniq([\n        ...response.issues.map(issue => issue.organization),\n        ...(response.components || []).map(component => component.organization)\n      ]);\n      return organizationsEnabled && requestOrganizations\n        ? dispatch(fetchIssueOrganizations(organizationKeys)).then(() => response)\n        : response;\n    })\n    .catch(throwGlobalError);\n};\n\ninterface DispatchProps {\n  fetchIssues: (query: RawQuery, requestOrganizations?: boolean) => Promise<void>;\n}\n\n// have to type cast this, because of async action\nconst mapDispatchToProps = { fetchIssues: fetchIssues as any } as DispatchProps;\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(lazyLoad(() => import('./App'), 'IssuesAppContainer'));\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport default function getCoverageStatus(s: T.SourceLine): T.SourceLineCoverageStatus | undefined {\n  let status: T.SourceLineCoverageStatus | undefined;\n  if (s.lineHits != null && s.lineHits > 0) {\n    status = 'partially-covered';\n  }\n  if (s.lineHits != null && s.lineHits > 0 && s.conditions === s.coveredConditions) {\n    status = 'covered';\n  }\n  if (s.lineHits === 0 || s.coveredConditions === 0) {\n    status = 'uncovered';\n  }\n  return status;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { VISUALIZATIONS } from './utils';\nimport { RawQuery } from '../../helpers/query';\n\ntype Level = 'ERROR' | 'WARN' | 'OK';\n\nexport interface Query {\n  gate?: Level;\n  reliability?: number;\n  new_reliability?: number;\n  security?: number;\n  new_security?: number;\n  maintainability?: number;\n  new_maintainability?: number;\n  coverage?: number;\n  new_coverage?: number;\n  duplications?: number;\n  new_duplications?: number;\n  size?: number;\n  new_lines?: number;\n  languages?: string[];\n  tags?: string[];\n  search?: string;\n  sort?: string;\n  view?: string;\n  visualization?: string;\n  [x: string]: string | number | string[] | undefined;\n}\n\nexport function parseUrlQuery(urlQuery: RawQuery): Query {\n  return {\n    gate: getAsLevel(urlQuery['gate']),\n    reliability: getAsNumericRating(urlQuery['reliability']),\n    new_reliability: getAsNumericRating(urlQuery['new_reliability']),\n    security: getAsNumericRating(urlQuery['security']),\n    new_security: getAsNumericRating(urlQuery['new_security']),\n    maintainability: getAsNumericRating(urlQuery['maintainability']),\n    new_maintainability: getAsNumericRating(urlQuery['new_maintainability']),\n    coverage: getAsNumericRating(urlQuery['coverage']),\n    new_coverage: getAsNumericRating(urlQuery['new_coverage']),\n    duplications: getAsNumericRating(urlQuery['duplications']),\n    new_duplications: getAsNumericRating(urlQuery['new_duplications']),\n    size: getAsNumericRating(urlQuery['size']),\n    new_lines: getAsNumericRating(urlQuery['new_lines']),\n    languages: getAsStringArray(urlQuery['languages']),\n    tags: getAsStringArray(urlQuery['tags']),\n    search: getAsString(urlQuery['search']),\n    sort: getAsString(urlQuery['sort']),\n    view: getView(urlQuery['view']),\n    visualization: getVisualization(urlQuery['visualization'])\n  };\n}\n\nexport function convertToFilter(query: Query, isFavorite: boolean): string {\n  const conditions: string[] = [];\n\n  if (isFavorite) {\n    conditions.push('isFavorite');\n  }\n\n  if (query['gate'] != null) {\n    conditions.push(mapPropertyToMetric('gate') + ' = ' + query['gate']);\n  }\n\n  ['coverage', 'new_coverage'].forEach(property =>\n    pushMetricToArray(query, property, conditions, convertCoverage)\n  );\n\n  ['duplications', 'new_duplications'].forEach(property =>\n    pushMetricToArray(query, property, conditions, convertDuplications)\n  );\n\n  ['size', 'new_lines'].forEach(property =>\n    pushMetricToArray(query, property, conditions, convertSize)\n  );\n\n  [\n    'reliability',\n    'security',\n    'maintainability',\n    'new_reliability',\n    'new_security',\n    'new_maintainability'\n  ].forEach(property => pushMetricToArray(query, property, conditions, convertIssuesRating));\n\n  ['languages', 'tags'].forEach(property =>\n    pushMetricToArray(query, property, conditions, convertArrayMetric)\n  );\n\n  if (query['search'] != null) {\n    conditions.push(`${mapPropertyToMetric('search')} = \"${query['search']}\"`);\n  }\n\n  return conditions.join(' and ');\n}\n\nconst visualizationParams = ['sort', 'view', 'visualization'];\n\nexport function hasFilterParams(query: Query) {\n  return Object.keys(query)\n    .filter(key => !visualizationParams.includes(key))\n    .some(key => query[key] !== undefined);\n}\n\nexport function hasVisualizationParams(query: Query) {\n  return Object.keys(query)\n    .filter(key => visualizationParams.includes(key))\n    .some(key => query[key] !== undefined);\n}\n\nfunction getAsNumericRating(value: any): number | undefined {\n  if (value === '' || value == null || isNaN(value)) {\n    return undefined;\n  }\n  const num = Number(value);\n  return num > 0 && num < 7 ? num : undefined;\n}\n\nfunction getAsLevel(value: any): Level | undefined {\n  if (value === 'ERROR' || value === 'WARN' || value === 'OK') {\n    return value;\n  }\n  return undefined;\n}\n\nfunction getAsString(value: any): string | undefined {\n  if (typeof value !== 'string' || !value) {\n    return undefined;\n  }\n  return value;\n}\n\nfunction getAsStringArray(value: any): string[] | undefined {\n  if (typeof value !== 'string' || !value) {\n    return undefined;\n  }\n  return value.split(',');\n}\n\nfunction getView(value: any): string | undefined {\n  return typeof value !== 'string' || value === 'overall' ? undefined : value;\n}\n\nfunction getVisualization(value: string): string | undefined {\n  return VISUALIZATIONS.includes(value) ? value : undefined;\n}\n\nfunction convertIssuesRating(metric: string, rating: number): string {\n  if (rating > 1 && rating < 5) {\n    return `${metric} >= ${rating}`;\n  } else {\n    return `${metric} = ${rating}`;\n  }\n}\n\nfunction convertCoverage(metric: string, coverage: number): string {\n  switch (coverage) {\n    case 1:\n      return metric + ' >= 80';\n    case 2:\n      return metric + ' < 80';\n    case 3:\n      return metric + ' < 70';\n    case 4:\n      return metric + ' < 50';\n    case 5:\n      return metric + ' < 30';\n    case 6:\n      return metric + '= NO_DATA';\n    default:\n      return '';\n  }\n}\n\nfunction convertDuplications(metric: string, duplications: number): string {\n  switch (duplications) {\n    case 1:\n      return metric + ' < 3';\n    case 2:\n      return metric + ' >= 3';\n    case 3:\n      return metric + ' >= 5';\n    case 4:\n      return metric + ' >= 10';\n    case 5:\n      return metric + ' >= 20';\n    case 6:\n      return metric + '= NO_DATA';\n    default:\n      return '';\n  }\n}\n\nfunction convertSize(metric: string, size: number): string {\n  switch (size) {\n    case 1:\n      return metric + ' < 1000';\n    case 2:\n      return metric + ' >= 1000';\n    case 3:\n      return metric + ' >= 10000';\n    case 4:\n      return metric + ' >= 100000';\n    case 5:\n      return metric + ' >= 500000';\n    default:\n      return '';\n  }\n}\n\nfunction mapPropertyToMetric(property?: string): string | undefined {\n  const map: T.Dict<string> = {\n    analysis_date: 'analysisDate',\n    reliability: 'reliability_rating',\n    new_reliability: 'new_reliability_rating',\n    security: 'security_rating',\n    new_security: 'new_security_rating',\n    maintainability: 'sqale_rating',\n    new_maintainability: 'new_maintainability_rating',\n    coverage: 'coverage',\n    new_coverage: 'new_coverage',\n    duplications: 'duplicated_lines_density',\n    new_duplications: 'new_duplicated_lines_density',\n    size: 'ncloc',\n    new_lines: 'new_lines',\n    gate: 'alert_status',\n    languages: 'languages',\n    tags: 'tags',\n    search: 'query'\n  };\n  return property && map[property];\n}\n\nfunction pushMetricToArray(\n  query: Query,\n  property: string,\n  conditionsArray: string[],\n  convertFunction: (metric: string, value: any) => string\n): void {\n  const metric = mapPropertyToMetric(property);\n  if (query[property] != null && metric) {\n    conditionsArray.push(convertFunction(metric, query[property]));\n  }\n}\n\nfunction convertArrayMetric(metric: string, items: string | string[]): string {\n  if (!Array.isArray(items) || items.length < 2) {\n    return metric + ' = ' + items;\n  }\n  return `${metric} IN (${items.join(', ')})`;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { ClearButton } from '../ui/buttons';\nimport { cutLongWords } from '../../helpers/path';\nimport './GlobalMessages.css';\n\ninterface Message {\n  id: string;\n  level: 'ERROR' | 'SUCCESS';\n  message: string;\n}\n\nexport interface Props {\n  closeGlobalMessage: (id: string) => void;\n  messages: Message[];\n}\n\nexport default function GlobalMessages({ closeGlobalMessage, messages }: Props) {\n  if (messages.length === 0) {\n    return null;\n  }\n\n  return (\n    <div className=\"processes-container\">\n      {messages.map(message => (\n        <GlobalMessage closeGlobalMessage={closeGlobalMessage} key={message.id} message={message} />\n      ))}\n    </div>\n  );\n}\n\nexport class GlobalMessage extends React.PureComponent<{\n  closeGlobalMessage: (id: string) => void;\n  message: Message;\n}> {\n  handleClose = () => {\n    this.props.closeGlobalMessage(this.props.message.id);\n  };\n\n  render() {\n    const { message } = this.props;\n    return (\n      <div\n        className={classNames('process-spinner', 'shown', {\n          'process-spinner-failed': message.level === 'ERROR',\n          'process-spinner-success': message.level === 'SUCCESS'\n        })}\n        key={message.id}>\n        {cutLongWords(message.message)}\n        <ClearButton\n          className=\"button-small process-spinner-close\"\n          color=\"#fff\"\n          onClick={this.handleClose}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport GlobalMessages from '../../components/controls/GlobalMessages';\nimport { getGlobalMessages, Store } from '../../store/rootReducer';\nimport { closeGlobalMessage } from '../../store/globalMessages';\n\nconst mapStateToProps = (state: Store) => ({\n  messages: getGlobalMessages(state)\n});\n\nconst mapDispatchToProps = { closeGlobalMessage };\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(GlobalMessages);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { ActionType } from './utils/actions';\nimport { getBranchLikeKey } from '../helpers/branches';\n\nexport interface BranchStatusData {\n  conditions?: T.QualityGateStatusCondition[];\n  ignoredConditions?: boolean;\n  status?: T.Status;\n}\n\nexport interface State {\n  byComponent: T.Dict<T.Dict<BranchStatusData>>;\n}\n\nconst enum Actions {\n  RegisterBranchStatus = 'REGISTER_BRANCH_STATUS'\n}\n\ntype Action = ActionType<typeof registerBranchStatusAction, Actions.RegisterBranchStatus>;\n\nexport function registerBranchStatusAction(\n  branchLike: T.BranchLike,\n  component: string,\n  status: T.Status,\n  conditions?: T.QualityGateStatusCondition[],\n  ignoredConditions?: boolean\n) {\n  return {\n    type: Actions.RegisterBranchStatus,\n    branchLike,\n    component,\n    conditions,\n    ignoredConditions,\n    status\n  };\n}\n\nexport default function(state: State = { byComponent: {} }, action: Action): State {\n  if (action.type === Actions.RegisterBranchStatus) {\n    const { component, conditions, branchLike, ignoredConditions, status } = action;\n    const branchLikeKey = getBranchLikeKey(branchLike);\n    return {\n      byComponent: {\n        ...state.byComponent,\n        [component]: {\n          ...(state.byComponent[component] || {}),\n          [branchLikeKey]: {\n            conditions,\n            ignoredConditions,\n            status\n          }\n        }\n      }\n    };\n  }\n\n  return state;\n}\n\nexport function getBranchStatusByBranchLike(\n  state: State,\n  component: string,\n  branchLike: T.BranchLike\n): BranchStatusData {\n  const branchLikeKey = getBranchLikeKey(branchLike);\n  return state.byComponent[component] && state.byComponent[component][branchLikeKey];\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { keyBy } from 'lodash';\nimport { combineReducers } from 'redux';\nimport { ActionType } from './utils/actions';\n\nexport function receiveMetrics(metrics: T.Metric[]) {\n  return { type: 'RECEIVE_METRICS', metrics };\n}\n\ntype Action = ActionType<typeof receiveMetrics, 'RECEIVE_METRICS'>;\n\nexport type State = { byKey: T.Dict<T.Metric>; keys: string[] };\n\nconst byKey = (state: State['byKey'] = {}, action: Action) => {\n  if (action.type === 'RECEIVE_METRICS') {\n    return keyBy(action.metrics, 'key');\n  }\n  return state;\n};\n\nconst keys = (state: State['keys'] = [], action: Action) => {\n  if (action.type === 'RECEIVE_METRICS') {\n    return action.metrics.map(f => f.key);\n  }\n\n  return state;\n};\n\nexport default combineReducers({ byKey, keys });\n\nexport function getMetrics(state: State) {\n  return state.byKey;\n}\n\nexport function getMetricsKey(state: State) {\n  return state.keys;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { keyBy, sortBy, uniqBy } from 'lodash';\nimport { ActionType } from '../../../store/utils/actions';\nimport { DEFAULT_CATEGORY, getCategoryName } from '../utils';\n\nconst enum Actions {\n  ReceiveDefinitions = 'RECEIVE_DEFINITIONS'\n}\n\ntype Action = ActionType<typeof receiveDefinitions, Actions.ReceiveDefinitions>;\n\nexport type State = T.Dict<T.SettingCategoryDefinition>;\n\nexport function receiveDefinitions(definitions: T.SettingCategoryDefinition[]) {\n  return { type: Actions.ReceiveDefinitions, definitions };\n}\n\nexport default function components(state: State = {}, action: Action) {\n  if (action.type === Actions.ReceiveDefinitions) {\n    return keyBy(action.definitions, 'key');\n  }\n  return state;\n}\n\nexport function getDefinition(state: State, key: string) {\n  return state[key];\n}\n\nexport function getAllDefinitions(state: State) {\n  return Object.keys(state).map(key => state[key]);\n}\n\nexport function getDefinitionsForCategory(state: State, category: string) {\n  return getAllDefinitions(state).filter(\n    definition => definition.category.toLowerCase() === category.toLowerCase()\n  );\n}\n\nexport function getAllCategories(state: State) {\n  return uniqBy(getAllDefinitions(state).map(definition => definition.category), category =>\n    category.toLowerCase()\n  );\n}\n\nexport function getDefaultCategory(state: State) {\n  const categories = getAllCategories(state);\n  if (categories.includes(DEFAULT_CATEGORY)) {\n    return DEFAULT_CATEGORY;\n  } else {\n    const sortedCategories = sortBy(categories, category =>\n      getCategoryName(category).toLowerCase()\n    );\n    return sortedCategories[0];\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function extractStatusConditionsFromProjectStatus(\n  projectStatus: T.QualityGateProjectStatus\n): T.QualityGateStatusCondition[] {\n  const { conditions } = projectStatus;\n  return conditions\n    ? conditions.map(c => ({\n        actual: c.actualValue,\n        error: c.errorThreshold,\n        level: c.status,\n        metric: c.metricKey,\n        op: c.comparator,\n        period: c.periodIndex\n      }))\n    : [];\n}\n\nexport function isSameStatusConditionList(\n  conditions: T.QualityGateStatusCondition[] = [],\n  prevConditions: T.QualityGateStatusCondition[] = []\n): boolean {\n  if (conditions.length !== prevConditions.length) {\n    return false;\n  } else {\n    const filtered = conditions.filter(c1 => {\n      return !prevConditions.find(c2 => c2.metric === c1.metric && c2.level === c1.level);\n    });\n    return filtered.length === 0;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { findDOMNode } from 'react-dom';\nimport { throttle } from 'lodash';\nimport { grid } from '../../app/theme';\n\nconst EDGE_MARGIN = 0.5 * grid;\n\ninterface Props {\n  /**\n   * First time `children` are rendered with `undefined` fixes to measure the offset.\n   * Second time it renders with the computed fixes.\n   */\n  children: (props: Fixes) => React.ReactNode;\n\n  /**\n   * Use this flag to force re-positioning.\n   * Use cases:\n   *   - when you need to measure `children` size first\n   *   - when you load content asynchronously\n   */\n  ready?: boolean;\n}\n\ninterface Fixes {\n  leftFix?: number;\n  topFix?: number;\n}\n\nexport default class ScreenPositionFixer extends React.Component<Props, Fixes> {\n  throttledPosition: () => void;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {};\n    this.throttledPosition = throttle(this.position, 50);\n  }\n\n  componentDidMount() {\n    this.addEventListeners();\n    this.position();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (!prevProps.ready && this.props.ready) {\n      this.position();\n    }\n  }\n\n  componentWillUnmount() {\n    this.removeEventListeners();\n  }\n\n  addEventListeners = () => {\n    window.addEventListener('resize', this.throttledPosition);\n  };\n\n  removeEventListeners = () => {\n    window.removeEventListener('resize', this.throttledPosition);\n  };\n\n  position = () => {\n    // eslint-disable-next-line react/no-find-dom-node\n    const node = findDOMNode(this);\n    if (node && node instanceof Element) {\n      const { width, height, left, top } = node.getBoundingClientRect();\n      const { clientHeight, clientWidth } = document.body;\n\n      let leftFix = 0;\n      if (left < EDGE_MARGIN) {\n        leftFix = EDGE_MARGIN - left;\n      } else if (left + width > clientWidth - EDGE_MARGIN) {\n        leftFix = clientWidth - EDGE_MARGIN - left - width;\n      }\n\n      let topFix = 0;\n      if (top < EDGE_MARGIN) {\n        topFix = EDGE_MARGIN - top;\n      } else if (top + height > clientHeight - EDGE_MARGIN) {\n        topFix = clientHeight - EDGE_MARGIN - top - height;\n      }\n\n      this.setState({ leftFix, topFix });\n    }\n  };\n\n  render() {\n    return this.props.children(this.state);\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { stringToColor, getTextColor } from '../../helpers/colors';\n\ninterface Props {\n  className?: string;\n  name: string;\n  size: number;\n}\n\nexport default function GenericAvatar({ className, name, size }: Props) {\n  const color = stringToColor(name);\n\n  let text = '';\n  const words = name.split(/\\s+/).filter(word => word.length > 0);\n  if (words.length >= 2) {\n    text = words[0][0] + words[1][0];\n  } else if (name.length > 0) {\n    text = name[0];\n  }\n\n  return (\n    <div\n      className={classNames(className, 'rounded')}\n      style={{\n        backgroundColor: color,\n        color: getTextColor(color),\n        display: 'inline-block',\n        fontSize: Math.min(size / 2, 14),\n        fontWeight: 'normal',\n        height: size,\n        lineHeight: `${size}px`,\n        textAlign: 'center',\n        verticalAlign: 'top',\n        width: size\n      }}>\n      {text.toUpperCase()}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sortBy } from 'lodash';\n\nconst ORDER = ['DEV', 'VW', 'SVW', 'APP', 'TRK', 'BRC', 'FIL', 'UTS'];\n\nexport function sortQualifiers(qualifiers: string[]) {\n  return sortBy(qualifiers, qualifier => ORDER.indexOf(qualifier));\n}\n\nexport interface ComponentResult {\n  isFavorite?: boolean;\n  isRecentlyBrowsed?: boolean;\n  key: string;\n  match?: string;\n  name: string;\n  organization?: string;\n  project?: string;\n  qualifier: string;\n}\n\nexport interface Results {\n  [qualifier: string]: ComponentResult[];\n}\n\nexport interface More {\n  [qualifier: string]: number;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Icon, { IconProps } from './Icon';\n\nexport default function ClockIcon({ className, size = 16 }: IconProps) {\n  return (\n    <Icon className={classNames('icon-clock', className)} size={size}>\n      <g fill=\"#fff\" stroke=\"#ADADAD\" transform=\"matrix(1.4 0 0 1.4 .3 .7)\">\n        <circle cx=\"5.5\" cy=\"5.2\" r=\"5\" />\n        <path d=\"M5.6 2.9v2.7l2-.5\" fillRule=\"nonzero\" />\n      </g>\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getCorsJSON } from '../helpers/request';\n\ninterface PrismicRef {\n  id: string;\n  ref: string;\n}\n\nexport interface PrismicNews {\n  data: { title: string };\n  last_publication_date: string;\n  uid: string;\n}\n\ninterface PrismicResponse {\n  page: number;\n  results: PrismicResult[];\n  results_per_page: number;\n  total_results_size: number;\n}\n\ninterface PrismicResult {\n  data: {\n    notification: string;\n    publication_date: string;\n    body: PrismicResultFeature[];\n  };\n}\n\ninterface PrismicResultFeature {\n  items: Array<{\n    category: {\n      data: {\n        color: string;\n        name: string;\n      };\n    };\n  }>;\n  primary: {\n    description: string;\n    read_more_link: {\n      url?: string;\n    };\n  };\n}\n\nexport interface PrismicFeatureNews {\n  notification: string;\n  publicationDate: string;\n  features: Array<{\n    categories: Array<{\n      color: string;\n      name: string;\n    }>;\n    description: string;\n    readMore?: string;\n  }>;\n}\n\nconst PRISMIC_API_URL = 'https://sonarsource.cdn.prismic.io/api/v2';\n\nexport function fetchPrismicRefs() {\n  return getCorsJSON(PRISMIC_API_URL).then((response: { refs: PrismicRef[] }) => {\n    const master = response && response.refs.find(ref => ref.id === 'master');\n    if (!master) {\n      return Promise.reject('No master ref found');\n    }\n    return Promise.resolve(master);\n  });\n}\n\nexport function fetchPrismicNews(data: {\n  accessToken: string;\n  ps?: number;\n  ref: string;\n  tag?: string;\n}) {\n  const q = ['[[at(document.type, \"blog_sonarsource_post\")]]'];\n  if (data.tag) {\n    q.push(`[[at(document.tags,[\"${data.tag}\"])]]`);\n  }\n  return getCorsJSON(PRISMIC_API_URL + '/documents/search', {\n    access_token: data.accessToken,\n    orderings: '[document.first_publication_date desc]',\n    pageSize: data.ps || 1,\n    q,\n    ref: data.ref\n  }).then(({ results }: { results: PrismicNews[] }) => results);\n}\n\nexport function fetchPrismicFeatureNews(data: {\n  accessToken: string;\n  p?: number;\n  ps?: number;\n  ref: string;\n}): Promise<{ news: PrismicFeatureNews[]; paging: T.Paging }> {\n  return getCorsJSON(PRISMIC_API_URL + '/documents/search', {\n    access_token: data.accessToken,\n    fetchLinks: 'sc_category.color,sc_category.name',\n    orderings: '[my.sc_product_news.publication_date desc]',\n    page: data.p || 1,\n    pageSize: data.ps || 1,\n    q: ['[[at(document.type, \"sc_product_news\")]]'],\n    ref: data.ref\n  }).then(({ page, results, results_per_page, total_results_size }: PrismicResponse) => ({\n    news: results.map(result => ({\n      notification: result.data.notification,\n      publicationDate: result.data.publication_date,\n      features: result.data.body.map(feature => ({\n        categories: feature.items.map(item => item.category.data).filter(Boolean),\n        description: feature.primary.description,\n        readMore: feature.primary.read_more_link.url\n      }))\n    })),\n    paging: {\n      pageIndex: page,\n      pageSize: results_per_page,\n      total: total_results_size\n    }\n  }));\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport interface License {\n  contactEmail: string;\n  edition: string;\n  expiresAt: string;\n  isExpired: boolean;\n  isOfficialDistribution: boolean;\n  isSupported: boolean;\n  isValidEdition: boolean;\n  isValidServerId: boolean;\n  loc: number;\n  maxLoc: number;\n  plugins: string[];\n  remainingLocThreshold: number;\n  serverId: string;\n  type: string;\n}\n\nexport function isValidLicense(): Promise<{ isValidLicense: boolean }> {\n  return getJSON('/api/editions/is_valid_license');\n}\n\nexport function showLicense(): Promise<License> {\n  return getJSON('/api/editions/show_license').catch((e: { response: Response }) => {\n    if (e.response && e.response.status === 404) {\n      return Promise.resolve(undefined);\n    }\n    return throwGlobalError(e);\n  });\n}\n"],"sourceRoot":""}