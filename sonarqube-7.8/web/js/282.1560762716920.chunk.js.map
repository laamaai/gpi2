{"version":3,"sources":["webpack:///./src/main/js/helpers/security-standard.ts","webpack:///../sonar-docs/src/tooltips/quality-profiles/built-in-quality-profile.md","webpack:///./src/main/js/apps/coding-rules/components/SimilarRulesFilter.tsx","webpack:///../sonar-docs/src/tooltips/rules/custom-rules.md","webpack:///./src/main/js/apps/coding-rules/styles.css?1250","webpack:///./src/main/js/apps/coding-rules/styles.css","webpack:///./src/main/js/components/facet/MultipleSelectionHint.css?a58b","webpack:///./src/main/js/components/facet/MultipleSelectionHint.css","webpack:///./src/main/js/apps/issues/sidebar/StandardFacet.tsx","webpack:///./src/main/js/components/common/PageCounter.tsx","webpack:///./src/main/js/components/shared/TypeHelper.tsx","webpack:///./src/main/js/components/common/FiltersHeader.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsTagsPopup.tsx","webpack:///./src/main/js/components/icons-components/RuleScopeIcon.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsMeta.tsx","webpack:///./src/main/js/apps/coding-rules/components/RemoveExtendedDescriptionModal.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsDescription.tsx","webpack:///./src/main/js/apps/coding-rules/components/ActivationFormModal.tsx","webpack:///../sonar-docs/src/tooltips/rules/rules-quality-profiles.md","webpack:///../sonar-docs/src/tooltips/rules/rule-templates.md","webpack:///./node_modules/lodash/filter.js","webpack:///./node_modules/lodash/_baseFilter.js","webpack:///../sonar-docs/src/tooltips/rules/custom-rule-removal.md","webpack:///./src/main/js/apps/coding-rules/components/BulkChangeModal.tsx","webpack:///./src/main/js/apps/coding-rules/components/BulkChange.tsx","webpack:///./src/main/js/apps/coding-rules/components/Facet.tsx","webpack:///./src/main/js/apps/coding-rules/components/ActivationSeverityFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/AvailableSinceFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/DefaultSeverityFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/InheritanceFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/LanguageFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/ProfileFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/RepositoryFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/StatusFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/TagFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/TemplateFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/TypeFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/FacetsList.tsx","webpack:///./src/main/js/apps/coding-rules/components/PageActions.tsx","webpack:///./src/main/js/apps/coding-rules/components/CustomRuleFormModal.tsx","webpack:///./src/main/js/apps/coding-rules/components/CustomRuleButton.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsCustomRules.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsIssues.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsParameters.tsx","webpack:///./src/main/js/apps/coding-rules/components/ActivationButton.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleInheritanceIcon.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsProfiles.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetails.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleListItem.tsx","webpack:///./src/main/js/apps/coding-rules/components/App.tsx","webpack:///./src/main/js/components/controls/HelpTooltip.tsx","webpack:///./src/main/js/app/components/embed-docs-modal/Suggestions.tsx","webpack:///./src/main/js/components/controls/SimpleModal.tsx","webpack:///./src/main/js/components/controls/HelpTooltip.css?558a","webpack:///./src/main/js/components/controls/HelpTooltip.css","webpack:///./src/main/js/components/docs/DocTooltip.tsx","webpack:///./src/main/js/app/components/a11y/A11ySkipTarget.tsx","webpack:///./src/main/js/components/controls/ConfirmModal.tsx","webpack:///./src/main/js/helpers/pages.ts","webpack:///./src/main/js/components/controls/ListFooter.tsx","webpack:///./src/main/js/api/quality-profiles.ts","webpack:///./node_modules/lodash/map.js","webpack:///./src/main/js/components/controls/ConfirmButton.tsx","webpack:///./src/main/js/components/controls/ModalButton.tsx","webpack:///./src/main/js/api/rules.ts","webpack:///./src/main/js/components/facet/FacetBox.tsx","webpack:///./src/main/js/components/facet/FacetHeader.tsx","webpack:///./src/main/js/components/facet/FacetItem.tsx","webpack:///./src/main/js/helpers/csv.ts","webpack:///./src/main/js/components/facet/FacetItemsList.tsx","webpack:///./src/main/js/components/icons-components/ChevronDownIcon.tsx","webpack:///./src/main/js/components/common/ScreenPositionHelper.tsx","webpack:///./src/main/js/helpers/organizations.ts","webpack:///./src/main/js/components/facet/ListStyleFacetFooter.tsx","webpack:///./src/main/js/components/facet/ListStyleFacet.tsx","webpack:///./src/main/js/components/icons-components/OpenCloseIcon.tsx","webpack:///./src/main/js/helpers/search.tsx","webpack:///./src/main/js/components/hoc/withAppState.tsx","webpack:///./src/main/js/components/facet/MultipleSelectionHint.tsx","webpack:///./src/main/js/components/search-navigator.css?cb81","webpack:///./src/main/js/components/search-navigator.css","webpack:///./node_modules/lodash/orderBy.js","webpack:///./src/main/js/helpers/strings.ts","webpack:///./src/main/js/components/controls/ReloadButton.tsx","webpack:///./src/main/js/apps/quality-profiles/components/BuiltInQualityProfileBadge.tsx"],"names":["getStandards","__webpack_require__","e","then","t","bind","x","default","renderCWECategory","standards","category","record","cwe","title","renderOwaspTop10Category","withPrefix","owaspTop10","addPrefix","toUpperCase","renderSansTop25Category","sansTop25","renderSonarSourceSecurityCategory","sonarsourceSecurity","prefix","d","__webpack_exports__","r","SimilarRulesFilter","_super","_this","apply","this","arguments","handleLanguageClick","event","preventDefault","currentTarget","blur","props","rule","lang","onFilterChange","languages","handleTypeClick","types","type","handleSeverityClick","severity","severities","handleTagClick","tag","dataset","tags","__extends","prototype","render","_a","_b","sysTags","allTags","concat","react__WEBPACK_IMPORTED_MODULE_0__","_components_controls_Dropdown__WEBPACK_IMPORTED_MODULE_1__","className","overlay","Object","_helpers_l10n__WEBPACK_IMPORTED_MODULE_2__","data-field","href","onClick","langName","_components_shared_SeverityHelper__WEBPACK_IMPORTED_MODULE_3__","length","map","key","data-tag","_components_icons_components_TagsIcon__WEBPACK_IMPORTED_MODULE_6__","_components_icons_components_FilterIcon__WEBPACK_IMPORTED_MODULE_4__","_components_icons_components_DropdownIcon__WEBPACK_IMPORTED_MODULE_5__","content","module","i","options","hmr","transform","insertInto","undefined","locals","exports","push","StandardFacet","mounted","property","_utils__WEBPACK_IMPORTED_MODULE_14__","state","cweQuery","loadStandards","_helpers_security_standard__WEBPACK_IMPORTED_MODULE_13__","setState","getValues","item","handleHeaderClick","onToggle","handleOwaspTop10HeaderClick","handleSansTop25HeaderClick","handleSonarSourceSecurityHeaderClick","handleClear","onChange","handleItemClick","prop","itemValue","multiple","items","newValue","lodash_sortBy__WEBPACK_IMPORTED_MODULE_2___default","includes","lodash_without__WEBPACK_IMPORTED_MODULE_1___default","handleOwaspTop10ItemClick","handleSansTop25ItemClick","handleSonarSourceSecurityItemClick","handleCWESearch","query","Promise","resolve","results","keys","filter","toLowerCase","loadCWESearchResultCount","categories","loadSearchResultCount","renderList","statsProp","valuesProp","renderName","stats","values","renderFacetItemsList","renderTooltip","react__WEBPACK_IMPORTED_MODULE_3__","_helpers_l10n__WEBPACK_IMPORTED_MODULE_11__","getStat","_components_facet_FacetItemsList__WEBPACK_IMPORTED_MODULE_8__","_components_facet_FacetItem__WEBPACK_IMPORTED_MODULE_7__","active","name","stat","tooltip","value","renderHint","_components_facet_MultipleSelectionHint__WEBPACK_IMPORTED_MODULE_10__","componentDidMount","open","componentDidUpdate","prevProps","componentWillUnmount","renderOwaspTop10List","renderOwaspTop10Hint","renderSansTop25List","renderSansTop25Hint","renderSonarSourceSecurityList","renderSonarSourceSecurityHint","renderSubFacets","_components_facet_FacetBox__WEBPACK_IMPORTED_MODULE_5__","_components_facet_FacetHeader__WEBPACK_IMPORTED_MODULE_6__","sonarsourceSecurityOpen","_components_common_DeferredSpinner__WEBPACK_IMPORTED_MODULE_4__","loading","fetchingSonarSourceSecurity","owaspTop10Open","fetchingOwaspTop10","sansTop25Open","fetchingSansTop25","_components_facet_ListStyleFacet__WEBPACK_IMPORTED_MODULE_9__","facetHeader","fetching","fetchingCwe","getFacetItemText","getSearchResultKey","getSearchResultText","onSearch","cweOpen","lodash_omit__WEBPACK_IMPORTED_MODULE_0___default","renderFacetItem","renderSearchResult","_helpers_search__WEBPACK_IMPORTED_MODULE_12__","searchPlaceholder","cweStats","onClear","PageCounter","classnames__WEBPACK_IMPORTED_MODULE_1__","_helpers_measures__WEBPACK_IMPORTED_MODULE_2__","current","label","total","TypeHelper","_ui_IssueTypeIcon__WEBPACK_IMPORTED_MODULE_1__","FiltersHeader","_ui_buttons__WEBPACK_IMPORTED_MODULE_1__","displayReset","onReset","id","LIST_SIZE","RuleDetailsTagsPopup","searchResult","rules","q","ps","Math","min","organization","without_default","a","onSelect","setTags","uniq_default","onUnselect","availableTags","difference_default","index_js_exposed","TagsSelector","listSize","selectedTags","RuleScopeIcon","fill","size","Icon","style","EXTERNAL_RULE_REPO_PREFIX","RuleDetailsMeta_RuleDetailsMeta","RuleDetailsMeta","renderType","ruleDetails","Tooltip","l10n","data-meta","IssueTypeIcon","renderSeverity","SeverityHelper","renderStatus","status","renderTags","canWrite","_c","Dropdown","closeOnClick","closeOnClickOutside","components_RuleDetailsTagsPopup","onTagsChange","overlayPlacement","popups","BottomLeft","buttons","TagsList","allowUpdate","renderCreationDate","DateFormatter","date","createdAt","renderRepository","referencedRepositories","repository","repo","renderTemplate","isTemplate","renderParentTemplate","templateKey","es","to","urls","DocTooltip","doc","renderRemediation","debtRemFnType","debtRemFnOffset","debtRemFnCoeff","effortToFixDescription","renderScope","scope","renderExternalBadge","engine","replace","RegExp","RuleDetailsMeta_extends","renderKey","displayedKey","startsWith","substr","hasTypeData","isExternal","LinkIcon","hideSimilarRulesFilter","RemoveExtendedDescriptionModal","onCancel","onSubmit","header","SimpleModal","onClose","onCloseClick","onFormSubmit","submitting","disabled","RuleDetailsDescription_RuleDetailsDescription","RuleDetailsDescription","description","descriptionForm","removeDescriptionModal","handleDescriptionChange","handleCancelClick","handleSaveClick","updateDescription","handleRemoveDescriptionClick","handleCancelRemoving","handleConfirmRemoving","text","markdown_note","handleExtendDescriptionClick","mdNote","renderDescription","htmlNote","dangerouslySetInnerHTML","__html","renderForm","colSpan","autoFocus","rows","MarkdownTips","hasDescription","htmlDesc","ActivationFormModal","call","getParams","activation","params","_i","param","defaultValue","_d","_e","getQualityProfilesWithDepth","profiles","_quality_profiles_utils__WEBPACK_IMPORTED_MODULE_7__","profile","isBuiltIn","actions","edit","language","__assign","depth","handleFormSubmit","data","_api_quality_profiles__WEBPACK_IMPORTED_MODULE_4__","onDone","handleParameterChange","handleProfileChange","handleSeverityChange","renderSeverityOption","profilesWithDepth","isCustomRule","activeInAllProfiles","isUpdateMode","_components_controls_Modal__WEBPACK_IMPORTED_MODULE_1__","contentLabel","modalHeader","onRequestClose","_components_ui_Alert__WEBPACK_IMPORTED_MODULE_9__","variant","_helpers_l10n__WEBPACK_IMPORTED_MODULE_6__","_components_controls_Select__WEBPACK_IMPORTED_MODULE_2__","clearable","repeat","optionRenderer","_helpers_constants__WEBPACK_IMPORTED_MODULE_5__","searchable","valueRenderer","placeholder","_components_ui_buttons__WEBPACK_IMPORTED_MODULE_8__","arrayFilter","baseFilter","baseIteratee","isArray","collection","predicate","baseEach","result","index","BulkChangeModal","handleProfileSelect","selectedProfiles","option","getAvailableQualityProfiles","referencedProfiles","processResponse","response","result_1","failed","succeeded","sendRequests","looper","coding_rules_query","method","action","quality_profiles","targetKey","profiles_1","finished","renderResult","profileKey","Alert","renderProfileSelect","languageName","Select","multi","availableProfiles","measures","Modal","htmlFor","BulkChange","modal","getSelectedProfile","closeModal","handleActivateClick","handleActivateInProfileClick","handleDeactivateClick","handleDeactivateInProfileClick","BulkChange_extends","some","Boolean","canChangeProfile","allowActivateOnProfile","allowDeactivateOnProfile","components_BulkChangeModal","Facet","singleSelection","orderBy_default","renderItem","defaultRenderName","renderTextName","FacetItem","halfWidth","Facet_extends","sortBy_default","FacetBox","classnames","search-navigator-facet-box-forbidden","FacetHeader","disabledHelper","children","FacetItemsList","renderFooter","ActivationSeverityFacet","ActivationSeverityFacet_extends","components_Facet","ActivationSeverityFacet_assign","constants","AvailableSinceFacet_AvailableSinceFacet","AvailableSinceFacet","availableSince","handlePeriodChange","intl","formatDate","AvailableSinceFacet_extends","DateInput","components_AvailableSinceFacet","index_es","DefaultSeverityFacet","DefaultSeverityFacet_extends","DefaultSeverityFacet_assign","InheritanceFacet","InheritanceFacet_extends","__rest","InheritanceFacet_assign","LanguageFacet_LanguageFacet","LanguageFacet","getLanguageName","languageKey","installedLanguages","find","l","handleSearch","getAllPossibleOptions","paging","pageIndex","pageSize","uniqBy_default","term","search","LanguageFacet_extends","ListStyleFacet","minSearchLength","components_LanguageFacet","rootReducer","ProfileFacet","selected","compareToProfile","activationSeverities","inheritance","handleActiveClick","stopPropagation","handleInactiveClick","getTextValue","getTooltip","base","renderActivation","isCompare","aria-checked","facet-toggle-active","role","tabIndex","ProfileFacet_extends","RepositoryFacet_RepositoryFacet","RepositoryFacet","referencedLanguages","repositoryKey","RepositoryFacet_extends","facetProps","RepositoryFacet_rest","RepositoryFacet_assign","components_RepositoryFacet","StatusFacet","StatusFacet_extends","StatusFacet_assign","TagFacet","api_rules","handleSelect","getTagName","renderTag","TagsIcon","theme","TagFacet_extends","TemplateFacet","handleChange","changes","template","Array","TemplateFacet_assign","TemplateFacet_extends","TemplateFacet_rest","String","TypeFacet","TypeFacet_extends","TypeFacet_assign","FacetsList","languageDisabled","hideProfileFacet","inheritanceDisabled","selectedProfile","isInherited","activationSeverityDisabled","onFacetToggle","openFacets","facets","components_TypeFacet","components_TagFacet","repositories","components_DefaultSeverityFacet","components_StatusFacet","statuses","owaspTop10Stats","sansTop25Stats","sonarsourceSecurityStats","organizationsEnabled","components_TemplateFacet","components_ProfileFacet","components_InheritanceFacet","components_ActivationSeverityFacet","PageActions","Shortcuts","DeferredSpinner","ReloadButton","onReload","selectedIndex","CustomRuleFormModal","prepareRequest","customRule","templateRule","csv","join","ruleData","markdown_description","CustomRuleFormModal_assign","custom_key","prevent_reactivation","reactivating","template_key","newRuleDetails","handleNameChange","keyModifiedByUser","strings","handleKeyChange","handleTypeChange","handleStatusChange","renderNameField","required","renderKeyField","renderDescriptionField","renderTypeOption","renderTypeField","renderSeverityField","renderStatusField","renderParameterField","mdDesc","CustomRuleFormModal_extends","submit","CustomRuleButton","handleClick","handleModalClose","handleDone","CustomRuleButton_extends","components_CustomRuleFormModal","RuleDetailsCustomRules","fetchRules","f","handleRuleCreate","handleRuleDelete","ruleKey","renderRule","data-rule","react_router_es","canChange","ConfirmButton","confirmButtonText","confirmData","isDestructive","modalBody","onConfirm","RuleDetailsCustomRules_extends","components_CustomRuleButton","RuleDetailsIssues_RuleDetailsIssues","RuleDetailsIssues","getBaseIssuesQuery","resolved","fetchIssues","issues","RuleDetailsIssues_assign","facet","components","projects","project","component","val","count","facet_1","renderTotal","path","totalItem","appState","branchesEnabled","renderProject","RuleDetailsIssues_extends","components_RuleDetailsIssues","withAppState","RuleDetailsParameters","renderParameter","RuleDetailsParameters_extends","ActivationButton","handleButtonClick","handleCloseModal","ActivationButton_extends","buttonText","RuleInheritanceIcon","other","RuleInheritanceIcon_rest","RuleInheritanceIcon_assign","height","version","viewBox","width","xmlSpace","xmlnsXlink","fillRule","RuleDetailsProfiles","handleActivate","onActivate","handleDeactivate","onDeactivate","handleRevert","reset","renderInheritedProfile","parentName","profilePath","inherit","parentActivation","originalParam","p","originalValue","renderParameters","renderActions","canEdit","hasParent","parentKey","components_ActivationButton","activations","qProfile","data-profile","BuiltInQualityProfileBadge","RuleDetailsProfiles_extends","canActivate","InstanceMessage","message","filter_default","RuleDetails","fetchRuleDetails","actives","handleRuleChange","handleTagsChange","oldTags","RuleDetails_assign","catch","handleDelete","onDelete","RuleDetails_extends","allowCustomRules","hideQualityProfiles","isCustom","isEditable","components_RuleDetailsParameters","components_RuleDetailsCustomRules","components_RuleDetailsProfiles","RuleListItem","data_1","handleNameClick","isLeftClickEvent","button","metaKey","altKey","ctrlKey","shiftKey","onOpen","SeverityIcon","renderDeactivateButton","RuleListItem_extends","PAGE_SIZE","LIMIT_BEFORE_LOAD_MORE","App_App","App","attachShortcuts","keymaster","selectPreviousRule","selectNextRule","openSelectedRule","closeRule","detachShortcuts","getOpenRule","location","getFacetsToFetch","getFieldsToFetch","fields","getSearchParameters","App_assign","s","stopLoading","fetchInitialData","all","fetchQualityProfiles","keyBy_default","fetchFirstRules","makeFetchRequest","rawActives","rawFacets","entries","activations_1","parseActives","rawFacets_1","rawFacet","rawValue","parseFacets","openRule","fetchMoreRules","nextPage","fetchFacet","currentUser","userOrganizations","organizations","getSelectedIndex","findIndex","getRulePath","pathname","router","scrollToSelectedRule","smooth","element","document","querySelector","scrolling","topOffset","bottomOffset","getRuleActivation","closeFacet","handleRuleOpen","handleBack","handleFilterChange","utils","handleFacetToggle","willOpenProperty","newState","handleReload","handleReset","pickRuleAround","handleRuleActivate","handleRuleDeactivate","newRule","searchQuery","isFiltered","App_extends","pages","componentWillReceiveProps","nextProps","prevState","Suggestions","suggestions","Helmet","ScreenPositionHelper","top","A11ySkipTarget","anchor","weight","SearchBox","minLength","components_BulkChange","components_RuleDetails","components_RuleListItem","ListFooter","loadMore","ready","HelpTooltip","_Tooltip__WEBPACK_IMPORTED_MODULE_2__","_icons_components_HelpIcon__WEBPACK_IMPORTED_MODULE_3__","_app_theme__WEBPACK_IMPORTED_MODULE_4__","tagName","mouseLeaveDelay","onShow","placement","_SuggestionsContext__WEBPACK_IMPORTED_MODULE_1__","Consumer","addSuggestions","removeSuggestions","SuggestionsInner","stopSubmitting","handleCloseClick","handleSubmitClick","modalProps","_Modal__WEBPACK_IMPORTED_MODULE_1__","onSubmitClick","DocMarkdownBlock","_lazyLoad__WEBPACK_IMPORTED_MODULE_2__","close","addEventListener","removeEventListener","_controls_HelpTooltip__WEBPACK_IMPORTED_MODULE_1__","childProps","overlayProps","isTooltip","_A11yContext__WEBPACK_IMPORTED_MODULE_1__","addA11ySkipLink","removeA11ySkipLink","A11ySkipTargetInner","getLink","ConfirmModal","handleSubmit","renderModalContent","confirmDisable","headerDescription","cancelButtonText","_helpers_l10n__WEBPACK_IMPORTED_MODULE_4__","_common_DeferredSpinner__WEBPACK_IMPORTED_MODULE_2__","_ui_buttons__WEBPACK_IMPORTED_MODULE_3__","noBackdrop","_SimpleModal__WEBPACK_IMPORTED_MODULE_1__","addSideBarClass","addWhitePageClass","removeSideBarClass","removeWhitePageClass","CLASS_SIDEBAR_PAGE","CLASS_WHITE_PAGE","toggleBodyClass","force","body","classList","toggle","documentElement","hasMore","loadMoreLink","_helpers_l10n__WEBPACK_IMPORTED_MODULE_3__","new-loading","_helpers_measures__WEBPACK_IMPORTED_MODULE_4__","searchQualityProfiles","parameters","_helpers_request__WEBPACK_IMPORTED_MODULE_2__","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_3__","getQualityProfile","createQualityProfile","setMethod","setData","restoreQualityProfile","getProfileProjects","getProfileInheritance","setDefaultProfile","renameProfile","copyProfile","fromKey","toName","deleteProfile","changeProfileParent","getImporters","importers","getExporters","exporters","getProfileChangelog","compareProfiles","leftKey","rightKey","associateProject","dissociateProject","searchUsers","searchGroups","addUser","removeUser","addGroup","removeGroup","bulkActivateRules","bulkDeactivateRules","activateRule","lodash_map__WEBPACK_IMPORTED_MODULE_0___default","_helpers_csv__WEBPACK_IMPORTED_MODULE_1__","deactivateRule","arrayMap","baseMap","iteratee","renderConfirmModal","modalHeaderDescription","confirmModalProps","_ConfirmModal__WEBPACK_IMPORTED_MODULE_1__","_ModalButton__WEBPACK_IMPORTED_MODULE_2__","ModalButton","getRulesApp","searchRules","takeFacet","getRuleDetails","getRuleTags","createRule","deleteRule","updateRule","_helpers_request__WEBPACK_IMPORTED_MODULE_0__","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_1__","error","reject","data-property","renderHelper","helper","_controls_HelpTooltip__WEBPACK_IMPORTED_MODULE_2__","renderValueIndicator","showClearButton","_icons_components_OpenCloseIcon__WEBPACK_IMPORTED_MODULE_1__","clearLabel","renderValue","search-navigator-facet-half","data-facet","defaultProps","csvEscape","ChevronDownIcon","_Icon__WEBPACK_IMPORTED_MODULE_1__","getPosition","containerPos","container","getBoundingClientRect","window","pageYOffset","left","pageXOffset","debouncedOnResize","lodash_debounce__WEBPACK_IMPORTED_MODULE_0___default","forceUpdate","react__WEBPACK_IMPORTED_MODULE_1__","ref","isPaidOrganization","hasPrivateAccess","isCurrentUserMemberOf","_users__WEBPACK_IMPORTED_MODULE_0__","subscription","admin","org","ListStyleFacetFooter","handleShowMoreClick","showMore","handleShowLessClick","showLess","allShown","ListStyleFacet_ListStyleFacet","searching","searchResultsCounts","showFullList","onItemClick","stopSearching","loadCountsForSearchResults","maxResults","searchMaxResults","searchResults","searchPaging","searchMore","resultsToLoad","hideFullList","ListStyleFacet_extends","helpers_query","maxInitialItems","sortedItems","getSortedItems","limitedList","slice","selectedBelowLimit","mightHaveMoreResults","maxItems","formatFacetStat","facet_ListStyleFacetFooter","renderSearch","renderSearchResults","loadingResults","showList","MultipleSelectionHint","OpenCloseIcon","_ChevronDownIcon__WEBPACK_IMPORTED_MODULE_1__","_ChevronRightcon__WEBPACK_IMPORTED_MODULE_2__","highlightTerm","str","pos","indexOf","substring","WrappedComponent","Wrapper","displayName","_utils__WEBPACK_IMPORTED_MODULE_2__","react_redux__WEBPACK_IMPORTED_MODULE_1__","_store_rootReducer__WEBPACK_IMPORTED_MODULE_3__","_helpers_l10n__WEBPACK_IMPORTED_MODULE_1__","navigator","userAgent","baseOrderBy","iteratees","orders","guard","latinize","slugify","decodeJwt","diacriticsMap","trim","token","segments","split","base64","JSON","parse","atob","letters","forEach","defaultDiacritic","letter","renderIcon","_app_theme__WEBPACK_IMPORTED_MODULE_3__","_components_docs_DocTooltip__WEBPACK_IMPORTED_MODULE_2__","badge"],"mappings":"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","file":"js/282.1560762716920.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function getStandards(): Promise<T.Standards> {\n  return import('./standards.json').then(x => x.default);\n}\n\nexport function renderCWECategory(standards: T.Standards, category: string): string {\n  const record = standards.cwe[category];\n  if (!record) {\n    return `CWE-${category}`;\n  } else if (category === 'unknown') {\n    return record.title;\n  } else {\n    return `CWE-${category} - ${record.title}`;\n  }\n}\n\nexport function renderOwaspTop10Category(\n  standards: T.Standards,\n  category: string,\n  withPrefix = false\n): string {\n  const record = standards.owaspTop10[category];\n  if (!record) {\n    return addPrefix(category.toUpperCase(), 'OWASP', withPrefix);\n  } else if (category === 'unknown') {\n    return record.title;\n  } else {\n    return addPrefix(`${category.toUpperCase()} - ${record.title}`, 'OWASP', withPrefix);\n  }\n}\n\nexport function renderSansTop25Category(\n  standards: T.Standards,\n  category: string,\n  withPrefix = false\n): string {\n  const record = standards.sansTop25[category];\n  return addPrefix(record ? record.title : category, 'SANS', withPrefix);\n}\n\nexport function renderSonarSourceSecurityCategory(\n  standards: T.Standards,\n  category: string,\n  withPrefix = false\n): string {\n  const record = standards.sonarsourceSecurity[category];\n  if (category === 'others') {\n    return record.title;\n  } else {\n    return addPrefix(record ? record.title : category, 'SONAR', withPrefix);\n  }\n}\n\nfunction addPrefix(title: string, prefix: string, withPrefix: boolean) {\n  return withPrefix ? `${prefix} ${title}` : title;\n}\n","export default \"Built-in profiles are provided directly by the language analyzers and may be updated with each new analyzer version. They represent best-practice, minimum rule sets.\\n\"","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Query } from '../query';\nimport Dropdown from '../../../components/controls/Dropdown';\nimport { translate } from '../../../helpers/l10n';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport FilterIcon from '../../../components/icons-components/FilterIcon';\nimport DropdownIcon from '../../../components/icons-components/DropdownIcon';\nimport TagsIcon from '../../../components/icons-components/TagsIcon';\n\ninterface Props {\n  onFilterChange: (changes: Partial<Query>) => void;\n  rule: T.Rule;\n}\n\nexport default class SimilarRulesFilter extends React.PureComponent<Props> {\n  handleLanguageClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.rule.lang) {\n      this.props.onFilterChange({ languages: [this.props.rule.lang] });\n    }\n  };\n\n  handleTypeClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onFilterChange({ types: [this.props.rule.type] });\n  };\n\n  handleSeverityClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.rule.severity) {\n      this.props.onFilterChange({ severities: [this.props.rule.severity] });\n    }\n  };\n\n  handleTagClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    const { tag } = event.currentTarget.dataset;\n    if (tag) {\n      this.props.onFilterChange({ tags: [tag] });\n    }\n  };\n\n  render() {\n    const { rule } = this.props;\n    const { tags = [], sysTags = [], severity } = rule;\n    const allTags = [...tags, ...sysTags];\n\n    return (\n      <Dropdown\n        className=\"display-inline-block\"\n        overlay={\n          <>\n            <ul className=\"menu\">\n              <li className=\"menu-header\">{translate('coding_rules.filter_similar_rules')}</li>\n              <li>\n                <a data-field=\"language\" href=\"#\" onClick={this.handleLanguageClick}>\n                  {rule.langName}\n                </a>\n              </li>\n\n              <li>\n                <a data-field=\"type\" href=\"#\" onClick={this.handleTypeClick}>\n                  {translate('issue.type', rule.type)}\n                </a>\n              </li>\n\n              {severity && (\n                <li>\n                  <a data-field=\"severity\" href=\"#\" onClick={this.handleSeverityClick}>\n                    <SeverityHelper severity={rule.severity} />\n                  </a>\n                </li>\n              )}\n\n              {allTags.length > 0 && (\n                <>\n                  <li className=\"divider\" />\n                  {allTags.map(tag => (\n                    <li key={tag}>\n                      <a data-field=\"tag\" data-tag={tag} href=\"#\" onClick={this.handleTagClick}>\n                        <TagsIcon className=\"icon-half-transparent little-spacer-right text-middle\" />\n                        <span className=\"text-middle\">{tag}</span>\n                      </a>\n                    </li>\n                  ))}\n                </>\n              )}\n            </ul>\n          </>\n        }>\n        <a\n          className=\"js-rule-filter link-no-underline spacer-left dropdown-toggle\"\n          href=\"#\"\n          title={translate('coding_rules.filter_similar_rules')}>\n          <FilterIcon className=\"icon-half-transparent\" />\n          <DropdownIcon className=\"icon-half-transparent\" />\n        </a>\n      </Dropdown>\n    );\n  }\n}\n","export default \"Custom rules are created by administrators from templates, and are the only fully-editable rules.\\n\"","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".coding-rules-extended-view .coding-rules-list{display:none}.coding-rules-extended-view .coding-rules-details{display:block}.coding-rules-detail-title{position:relative;display:inline-block;margin:16px 0;font-size:16px;font-weight:400}.coding-rules-detail-quality-profile-parameter{display:block;height:100%;padding-top:0;padding-right:10px}.coding-rules-detail-quality-profile-parameter .key,.coding-rules-detail-quality-profile-parameter .sep,.coding-rules-detail-quality-profile-parameter .value{display:inline;vertical-align:top}.coding-rules-detail-quality-profile-parameter .value{display:inline-block;vertical-align:top;line-height:23px;max-width:300px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-family:Consolas,Liberation Mono,Menlo,Courier,monospace}.coding-rules-detail-quality-profile-parameter+.coding-rules-detail-quality-profile-parameter{margin-top:0}.coding-rules-detail-properties{display:flex;flex-wrap:wrap;align-items:center;margin-top:8px}.coding-rules-detail-properties+.coding-rules-detail-properties{margin-top:-10px}.coding-rules-detail-property{display:flex;align-items:center;margin-right:16px;margin-bottom:8px;font-size:12px}.coding-rules-detail-tag+.coding-rules-detail-tag{margin-left:10px}.coding-rules-detail-tags-change{cursor:pointer}.coding-rules-detail-tags-change:hover span{text-decoration:underline}.coding-rules-detail-tag-edit{line-height:1}.coding-rules-details-tag-edit-cancel{vertical-align:middle}.coding-rules-detail-description{margin:20px 0}.coding-rules-detail-description-extra{margin-top:-10px}.coding-rules-detail-extend-description-form{margin:10px 0}.coding-rules-detail-parameters{width:100%;margin:10px 0 20px}.coding-rules-detail-parameter-name{width:1px;vertical-align:top;padding:5px 10px 5px 0;font-weight:700}.coding-rules-detail-parameter-description{vertical-align:top;padding:5px}.coding-rules-detail-parameter-value{font-family:Consolas,Liberation Mono,Menlo,Courier,monospace;word-break:break-all}.coding-rules-detail-list,.coding-rules-detail-quality-profiles{width:100%;line-height:22px}.coding-rules-detail-list td,.coding-rules-detail-quality-profiles td{border-top:1px solid #e6e6e6}.coding-rules-detail-list tr:first-child td,.coding-rules-detail-quality-profiles tr:first-child td{border-top:none}.coding-rules-detail-list-name,.coding-rules-detail-quality-profile-name{vertical-align:top;width:1px;padding:8px 5px 8px 0;font-weight:600;white-space:nowrap}.coding-rules-detail-list-severity,.coding-rules-detail-quality-profile-severity{vertical-align:top;width:1px;padding:8px 5px;white-space:nowrap}.coding-rules-detail-quality-profile-severity i{margin-top:2px}.coding-rules-detail-list-parameters,.coding-rules-detail-quality-profile-parameters{vertical-align:top;padding:8px 5px}.coding-rules-detail-list-actions,.coding-rules-detail-quality-profile-actions{vertical-align:top;width:1px;padding:8px 0 8px 5px;text-align:right;white-space:nowrap}.coding-rules-detail-quality-profile-inheritance{font-size:12px;font-weight:400}.coding-rules-detail-quality-profiles-activation{margin-top:-3px;margin-left:10px}.coding-rules-most-violated-projects td{border-top-color:transparent}.coding-rules-most-violated-projects tr:first-child+tr td{border-top-color:#e6e6e6}.coding-rules-most-violated-projects .coding-rules-detail-list-name{font-weight:400}.coding-rule{padding:8px 10px 8px 8px;border:1px solid transparent;background-color:#fff}.coding-rule.selected{border-color:#4b9fd5!important}.coding-rule+.coding-rule{border-top-color:#e6e6e6}.coding-rule.selected+.coding-rule{border-top-color:transparent}.coding-rule-table{width:100%}.coding-rule-table td{vertical-align:top}.coding-rule-table+.coding-rule-table{margin-top:5px}.coding-rule-table-meta-cell{width:1px;white-space:nowrap}@media (max-width:1320px){.coding-rule-table .tags-list span{max-width:100px}}.coding-rule-title{line-height:20px;font-size:13px}.coding-rule-meta{padding:2px 2px 2px 30px;font-size:12px}.coding-rule-activation{width:40px;line-height:19.5px}.coding-rule-activation-actions{padding-left:20px}.coding-rule-section-separator{height:0;margin:10px 0;border-top:1px solid #e6e6e6}\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./MultipleSelectionHint.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./MultipleSelectionHint.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./MultipleSelectionHint.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".multiple-selection-hint{margin-top:8px;margin-bottom:8px;text-align:center}.multiple-selection-hint-inner{display:inline-block;height:24px;line-height:24px;border-radius:24px;background-color:#e6e6e6;text-align:center;padding:0 8px;font-size:12px}\", \"\"]);\n\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy, without, omit } from 'lodash';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\nimport { translate } from '../../../helpers/l10n';\nimport { highlightTerm } from '../../../helpers/search';\nimport {\n  getStandards,\n  renderCWECategory,\n  renderOwaspTop10Category,\n  renderSansTop25Category,\n  renderSonarSourceSecurityCategory\n} from '../../../helpers/security-standard';\nimport { Query, STANDARDS, formatFacetStat, Facet } from '../utils';\n\ninterface Props {\n  cwe: string[];\n  cweOpen: boolean;\n  cweStats: T.Dict<number> | undefined;\n  fetchingCwe: boolean;\n  fetchingOwaspTop10: boolean;\n  fetchingSansTop25: boolean;\n  fetchingSonarSourceSecurity: boolean;\n  loadSearchResultCount?: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  owaspTop10: string[];\n  owaspTop10Open: boolean;\n  owaspTop10Stats: T.Dict<number> | undefined;\n  query: Partial<Query>;\n  sansTop25: string[];\n  sansTop25Open: boolean;\n  sansTop25Stats: T.Dict<number> | undefined;\n  sonarsourceSecurity: string[];\n  sonarsourceSecurityOpen: boolean;\n  sonarsourceSecurityStats: T.Dict<number> | undefined;\n}\n\ninterface State {\n  cweQuery: string;\n  standards: T.Standards;\n}\n\ntype StatsProp = 'owaspTop10Stats' | 'cweStats' | 'sansTop25Stats' | 'sonarsourceSecurityStats';\ntype ValuesProp = T.StandardType;\n\nexport default class StandardFacet extends React.PureComponent<Props, State> {\n  mounted = false;\n  property = STANDARDS;\n  state: State = {\n    cweQuery: '',\n    standards: { owaspTop10: {}, sansTop25: {}, cwe: {}, sonarsourceSecurity: {} }\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n\n    // load standards.json only if the facet is open, or there is a selected value\n    if (\n      this.props.open ||\n      this.props.owaspTop10.length > 0 ||\n      this.props.cwe.length > 0 ||\n      this.props.sansTop25.length > 0 ||\n      this.props.sonarsourceSecurity.length > 0\n    ) {\n      this.loadStandards();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (!prevProps.open && this.props.open) {\n      this.loadStandards();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadStandards = () => {\n    getStandards().then(\n      ({ owaspTop10, sansTop25, cwe, sonarsourceSecurity }: T.Standards) => {\n        if (this.mounted) {\n          this.setState({ standards: { owaspTop10, sansTop25, cwe, sonarsourceSecurity } });\n        }\n      },\n      () => {}\n    );\n  };\n\n  getValues = () => {\n    return [\n      ...this.props.sonarsourceSecurity.map(item =>\n        renderSonarSourceSecurityCategory(this.state.standards, item, true)\n      ),\n      ...this.props.owaspTop10.map(item =>\n        renderOwaspTop10Category(this.state.standards, item, true)\n      ),\n      ...this.props.sansTop25.map(item =>\n        renderSansTop25Category(this.state.standards, item, true)\n      ),\n      ...this.props.cwe.map(item => renderCWECategory(this.state.standards, item))\n    ];\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleOwaspTop10HeaderClick = () => {\n    this.props.onToggle('owaspTop10');\n  };\n\n  handleSansTop25HeaderClick = () => {\n    this.props.onToggle('sansTop25');\n  };\n\n  handleSonarSourceSecurityHeaderClick = () => {\n    this.props.onToggle('sonarsourceSecurity');\n  };\n\n  handleClear = () => {\n    this.props.onChange({\n      [this.property]: [],\n      owaspTop10: [],\n      sansTop25: [],\n      cwe: [],\n      sonarsourceSecurity: []\n    });\n  };\n\n  handleItemClick = (prop: ValuesProp, itemValue: string, multiple: boolean) => {\n    const items = this.props[prop];\n    if (multiple) {\n      const newValue = sortBy(\n        items.includes(itemValue) ? without(items, itemValue) : [...items, itemValue]\n      );\n      this.props.onChange({ [prop]: newValue });\n    } else {\n      this.props.onChange({\n        [prop]: items.includes(itemValue) && items.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleOwaspTop10ItemClick = (itemValue: string, multiple: boolean) => {\n    this.handleItemClick('owaspTop10', itemValue, multiple);\n  };\n\n  handleSansTop25ItemClick = (itemValue: string, multiple: boolean) => {\n    this.handleItemClick('sansTop25', itemValue, multiple);\n  };\n\n  handleSonarSourceSecurityItemClick = (itemValue: string, multiple: boolean) => {\n    this.handleItemClick('sonarsourceSecurity', itemValue, multiple);\n  };\n\n  handleCWESearch = (query: string) => {\n    return Promise.resolve({\n      results: Object.keys(this.state.standards.cwe).filter(cwe =>\n        renderCWECategory(this.state.standards, cwe)\n          .toLowerCase()\n          .includes(query.toLowerCase())\n      )\n    });\n  };\n\n  loadCWESearchResultCount = (categories: string[]) => {\n    const { loadSearchResultCount } = this.props;\n    return loadSearchResultCount\n      ? loadSearchResultCount('cwe', { cwe: categories })\n      : Promise.resolve({});\n  };\n\n  renderList = (\n    statsProp: StatsProp,\n    valuesProp: ValuesProp,\n    renderName: (standards: T.Standards, category: string) => string,\n    onClick: (x: string, multiple?: boolean) => void\n  ) => {\n    const stats = this.props[statsProp];\n    const values = this.props[valuesProp];\n    if (!stats) {\n      return null;\n    }\n    const categories = sortBy(Object.keys(stats), key => -stats[key]);\n    return this.renderFacetItemsList(stats, values, categories, renderName, renderName, onClick);\n  };\n\n  // eslint-disable-next-line max-params\n  renderFacetItemsList = (\n    stats: any,\n    values: string[],\n    categories: string[],\n    renderName: (standards: T.Standards, category: string) => React.ReactNode,\n    renderTooltip: (standards: T.Standards, category: string) => string,\n    onClick: (x: string, multiple?: boolean) => void\n  ) => {\n    if (!categories.length) {\n      return (\n        <div className=\"search-navigator-facet-empty little-spacer-top\">\n          {translate('no_results')}\n        </div>\n      );\n    }\n\n    const getStat = (category: string) => {\n      return stats ? stats[category] : undefined;\n    };\n\n    return (\n      <FacetItemsList>\n        {categories.map(category => (\n          <FacetItem\n            active={values.includes(category)}\n            key={category}\n            name={renderName(this.state.standards, category)}\n            onClick={onClick}\n            stat={formatFacetStat(getStat(category))}\n            tooltip={renderTooltip(this.state.standards, category)}\n            value={category}\n          />\n        ))}\n      </FacetItemsList>\n    );\n  };\n\n  renderHint = (statsProp: StatsProp, valuesProp: ValuesProp) => {\n    const stats = this.props[statsProp] || {};\n    const values = this.props[valuesProp];\n    return <MultipleSelectionHint options={Object.keys(stats).length} values={values.length} />;\n  };\n\n  renderOwaspTop10List() {\n    return this.renderList(\n      'owaspTop10Stats',\n      'owaspTop10',\n      renderOwaspTop10Category,\n      this.handleOwaspTop10ItemClick\n    );\n  }\n\n  renderOwaspTop10Hint() {\n    return this.renderHint('owaspTop10Stats', 'owaspTop10');\n  }\n\n  renderSansTop25List() {\n    return this.renderList(\n      'sansTop25Stats',\n      'sansTop25',\n      renderSansTop25Category,\n      this.handleSansTop25ItemClick\n    );\n  }\n\n  renderSansTop25Hint() {\n    return this.renderHint('sansTop25Stats', 'sansTop25');\n  }\n\n  renderSonarSourceSecurityList() {\n    return this.renderList(\n      'sonarsourceSecurityStats',\n      'sonarsourceSecurity',\n      renderSonarSourceSecurityCategory,\n      this.handleSonarSourceSecurityItemClick\n    );\n  }\n\n  renderSonarSourceSecurityHint() {\n    return this.renderHint('sonarsourceSecurityStats', 'sonarsourceSecurity');\n  }\n\n  renderSubFacets() {\n    return (\n      <>\n        <FacetBox className=\"is-inner\" property=\"sonarsourceSecurity\">\n          <FacetHeader\n            name={translate('issues.facet.sonarsourceSecurity')}\n            onClick={this.handleSonarSourceSecurityHeaderClick}\n            open={this.props.sonarsourceSecurityOpen}\n            values={this.props.sonarsourceSecurity.map(item =>\n              renderSonarSourceSecurityCategory(this.state.standards, item)\n            )}\n          />\n          <DeferredSpinner loading={this.props.fetchingSonarSourceSecurity} />\n          {this.props.sonarsourceSecurityOpen && (\n            <>\n              {this.renderSonarSourceSecurityList()}\n              {this.renderSonarSourceSecurityHint()}\n            </>\n          )}\n        </FacetBox>\n        <FacetBox className=\"is-inner\" property=\"owaspTop10\">\n          <FacetHeader\n            name={translate('issues.facet.owaspTop10')}\n            onClick={this.handleOwaspTop10HeaderClick}\n            open={this.props.owaspTop10Open}\n            values={this.props.owaspTop10.map(item =>\n              renderOwaspTop10Category(this.state.standards, item)\n            )}\n          />\n          <DeferredSpinner loading={this.props.fetchingOwaspTop10} />\n          {this.props.owaspTop10Open && (\n            <>\n              {this.renderOwaspTop10List()}\n              {this.renderOwaspTop10Hint()}\n            </>\n          )}\n        </FacetBox>\n        <FacetBox className=\"is-inner\" property=\"sansTop25\">\n          <FacetHeader\n            name={translate('issues.facet.sansTop25')}\n            onClick={this.handleSansTop25HeaderClick}\n            open={this.props.sansTop25Open}\n            values={this.props.sansTop25.map(item =>\n              renderSansTop25Category(this.state.standards, item)\n            )}\n          />\n          <DeferredSpinner loading={this.props.fetchingSansTop25} />\n          {this.props.sansTop25Open && (\n            <>\n              {this.renderSansTop25List()}\n              {this.renderSansTop25Hint()}\n            </>\n          )}\n        </FacetBox>\n        <ListStyleFacet<string>\n          className=\"is-inner\"\n          facetHeader={translate('issues.facet.cwe')}\n          fetching={this.props.fetchingCwe}\n          getFacetItemText={item => renderCWECategory(this.state.standards, item)}\n          getSearchResultKey={item => item}\n          getSearchResultText={item => renderCWECategory(this.state.standards, item)}\n          loadSearchResultCount={this.loadCWESearchResultCount}\n          onChange={this.props.onChange}\n          onSearch={this.handleCWESearch}\n          onToggle={this.props.onToggle}\n          open={this.props.cweOpen}\n          property=\"cwe\"\n          query={omit(this.props.query, 'cwe')}\n          renderFacetItem={item => renderCWECategory(this.state.standards, item)}\n          renderSearchResult={(item, query) =>\n            highlightTerm(renderCWECategory(this.state.standards, item), query)\n          }\n          searchPlaceholder={translate('search.search_for_cwe')}\n          stats={this.props.cweStats}\n          values={this.props.cwe}\n        />\n      </>\n    );\n  }\n\n  render() {\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.getValues()}\n        />\n\n        {this.props.open && this.renderSubFacets()}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { formatMeasure } from '../../helpers/measures';\n\ninterface Props {\n  className?: string;\n  current?: number;\n  label: string;\n  total: number;\n}\n\nexport default function PageCounter({ className, current, label, total }: Props) {\n  return (\n    <div className={classNames('display-inline-block', className)}>\n      <strong className=\"little-spacer-right\">\n        {current !== undefined && formatMeasure(current + 1, 'INT') + ' / '}\n        <span className=\"js-page-counter-total\">{formatMeasure(total, 'INT')}</span>\n      </strong>\n      {label}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport IssueTypeIcon from '../ui/IssueTypeIcon';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  type: T.IssueType | T.RuleType;\n}\n\nexport default function TypeHelper(props: Props) {\n  return (\n    <span className={props.className}>\n      <IssueTypeIcon className=\"little-spacer-right\" query={props.type} />\n      {translate('issue.type', props.type)}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from '../ui/buttons';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  displayReset: boolean;\n  onReset: () => void;\n}\n\nexport default function FiltersHeader({ displayReset, onReset }: Props) {\n  return (\n    <div className=\"search-navigator-filters-header\">\n      {displayReset && (\n        <div className=\"pull-right\">\n          <Button className=\"button-red\" id=\"coding-rules-clear-all-filters\" onClick={onReset}>\n            {translate('clear_all_filters')}\n          </Button>\n        </div>\n      )}\n\n      <h3>{translate('filters')}</h3>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { without, uniq, difference } from 'lodash';\nimport TagsSelector from '../../../components/tags/TagsSelector';\nimport { getRuleTags } from '../../../api/rules';\n\nexport interface Props {\n  organization: string | undefined;\n  setTags: (tags: string[]) => void;\n  sysTags: string[];\n  tags: string[];\n}\n\ninterface State {\n  searchResult: string[];\n}\n\nconst LIST_SIZE = 10;\n\nexport default class RuleDetailsTagsPopup extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { searchResult: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  onSearch = (query: string) => {\n    return getRuleTags({\n      q: query,\n      ps: Math.min(this.props.tags.length + LIST_SIZE, 100),\n      organization: this.props.organization\n    }).then(\n      tags => {\n        if (this.mounted) {\n          // systems tags can not be unset, don't display them in the results\n          this.setState({ searchResult: without(tags, ...this.props.sysTags) });\n        }\n      },\n      () => {}\n    );\n  };\n\n  onSelect = (tag: string) => {\n    this.props.setTags(uniq([...this.props.tags, tag]));\n  };\n\n  onUnselect = (tag: string) => {\n    this.props.setTags(without(this.props.tags, tag));\n  };\n\n  render() {\n    const availableTags = difference(this.state.searchResult, this.props.tags);\n    return (\n      <TagsSelector\n        listSize={LIST_SIZE}\n        onSearch={this.onSearch}\n        onSelect={this.onSelect}\n        onUnselect={this.onUnselect}\n        selectedTags={this.props.tags}\n        tags={availableTags}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function RuleScopeIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M8 3.071c2.724 0 4.929 2.204 4.929 4.929s-2.204 4.929-4.929 4.929c-2.724 0-4.929-2.204-4.929-4.929s2.204-4.929 4.929-4.929zM8 1.357c-3.669 0-6.643 2.974-6.643 6.643s2.974 6.643 6.643 6.643 6.643-2.974 6.643-6.643-2.974-6.643-6.643-6.643zM8 6.286c0.945 0 1.714 0.769 1.714 1.714s-0.769 1.714-1.714 1.714-1.714-0.769-1.714-1.714 0.769-1.714 1.714-1.714zM8 4.571c-1.893 0-3.429 1.535-3.429 3.429s1.535 3.429 3.429 3.429 3.429-1.535 3.429-3.429-1.535-3.429-3.429-3.429z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport RuleDetailsTagsPopup from './RuleDetailsTagsPopup';\nimport SimilarRulesFilter from './SimilarRulesFilter';\nimport DateFormatter from '../../../components/intl/DateFormatter';\nimport DocTooltip from '../../../components/docs/DocTooltip';\nimport Dropdown from '../../../components/controls/Dropdown';\nimport IssueTypeIcon from '../../../components/ui/IssueTypeIcon';\nimport LinkIcon from '../../../components/icons-components/LinkIcon';\nimport RuleScopeIcon from '../../../components/icons-components/RuleScopeIcon';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport TagsList from '../../../components/tags/TagsList';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport { ButtonLink } from '../../../components/ui/buttons';\nimport { PopupPlacement } from '../../../components/ui/popups';\nimport { Query } from '../query';\nimport { getRuleUrl } from '../../../helpers/urls';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\n\ninterface Props {\n  canWrite: boolean | undefined;\n  hideSimilarRulesFilter?: boolean;\n  onFilterChange: (changes: Partial<Query>) => void;\n  onTagsChange: (tags: string[]) => void;\n  organization: string | undefined;\n  referencedRepositories: T.Dict<{ key: string; language: string; name: string }>;\n  ruleDetails: T.RuleDetails;\n}\n\nconst EXTERNAL_RULE_REPO_PREFIX = 'external_';\n\nexport default class RuleDetailsMeta extends React.PureComponent<Props> {\n  renderType = () => {\n    const { ruleDetails } = this.props;\n    return (\n      <Tooltip overlay={translate('coding_rules.type.tooltip', ruleDetails.type)}>\n        <li className=\"coding-rules-detail-property\" data-meta=\"type\">\n          <IssueTypeIcon className=\"little-spacer-right\" query={ruleDetails.type} />\n          {translate('issue.type', ruleDetails.type)}\n        </li>\n      </Tooltip>\n    );\n  };\n\n  renderSeverity = () => (\n    <Tooltip overlay={translate('default_severity')}>\n      <li className=\"coding-rules-detail-property\" data-meta=\"severity\">\n        <SeverityHelper\n          className=\"display-inline-flex-center\"\n          severity={this.props.ruleDetails.severity}\n        />\n      </li>\n    </Tooltip>\n  );\n\n  renderStatus = () => {\n    const { ruleDetails } = this.props;\n    if (ruleDetails.status === 'READY') {\n      return null;\n    }\n    return (\n      <Tooltip overlay={translate('status')}>\n        <li className=\"coding-rules-detail-property\" data-meta=\"status\">\n          <span className=\"badge badge-normal-size badge-danger-light\">\n            {translate('rules.status', ruleDetails.status)}\n          </span>\n        </li>\n      </Tooltip>\n    );\n  };\n\n  renderTags = () => {\n    const { canWrite, ruleDetails } = this.props;\n    const { sysTags = [], tags = [] } = ruleDetails;\n    const allTags = [...sysTags, ...tags];\n\n    return (\n      <li className=\"coding-rules-detail-property\" data-meta=\"tags\">\n        {this.props.canWrite ? (\n          <Dropdown\n            closeOnClick={false}\n            closeOnClickOutside={true}\n            overlay={\n              <RuleDetailsTagsPopup\n                organization={this.props.organization}\n                setTags={this.props.onTagsChange}\n                sysTags={sysTags}\n                tags={tags}\n              />\n            }\n            overlayPlacement={PopupPlacement.BottomLeft}>\n            <ButtonLink>\n              <TagsList\n                allowUpdate={canWrite}\n                tags={allTags.length > 0 ? allTags : [translate('coding_rules.no_tags')]}\n              />\n            </ButtonLink>\n          </Dropdown>\n        ) : (\n          <TagsList\n            allowUpdate={canWrite}\n            className=\"display-flex-center\"\n            tags={allTags.length > 0 ? allTags : [translate('coding_rules.no_tags')]}\n          />\n        )}\n      </li>\n    );\n  };\n\n  renderCreationDate = () => (\n    <li className=\"coding-rules-detail-property\" data-meta=\"available-since\">\n      <span className=\"little-spacer-right\">{translate('coding_rules.available_since')}</span>\n      <DateFormatter date={this.props.ruleDetails.createdAt} />\n    </li>\n  );\n\n  renderRepository = () => {\n    const { referencedRepositories, ruleDetails } = this.props;\n    const repository = referencedRepositories[ruleDetails.repo];\n    if (!repository) {\n      return null;\n    }\n    return (\n      <Tooltip overlay={translate('coding_rules.repository_language')}>\n        <li className=\"coding-rules-detail-property\" data-meta=\"repository\">\n          {repository.name} ({ruleDetails.langName})\n        </li>\n      </Tooltip>\n    );\n  };\n\n  renderTemplate = () => {\n    if (!this.props.ruleDetails.isTemplate) {\n      return null;\n    }\n    return (\n      <Tooltip overlay={translate('coding_rules.rule_template.title')}>\n        <li className=\"coding-rules-detail-property\">{translate('coding_rules.rule_template')}</li>\n      </Tooltip>\n    );\n  };\n\n  renderParentTemplate = () => {\n    const { ruleDetails } = this.props;\n    if (!ruleDetails.templateKey) {\n      return null;\n    }\n    return (\n      <li className=\"coding-rules-detail-property\">\n        {translate('coding_rules.custom_rule')}\n        {' ('}\n        <Link to={getRuleUrl(ruleDetails.templateKey, this.props.organization)}>\n          {translate('coding_rules.show_template')}\n        </Link>\n        {')'}\n        <DocTooltip\n          className=\"little-spacer-left\"\n          doc={import(/* webpackMode: \"eager\" */ 'Docs/tooltips/rules/custom-rules.md')}\n        />\n      </li>\n    );\n  };\n\n  renderRemediation = () => {\n    const { ruleDetails } = this.props;\n    if (!ruleDetails.debtRemFnType) {\n      return null;\n    }\n    return (\n      <Tooltip overlay={translate('coding_rules.remediation_function')}>\n        <li className=\"coding-rules-detail-property\" data-meta=\"remediation-function\">\n          {translate('coding_rules.remediation_function', ruleDetails.debtRemFnType)}\n          {':'}\n          {ruleDetails.debtRemFnOffset !== undefined && ` ${ruleDetails.debtRemFnOffset}`}\n          {ruleDetails.debtRemFnCoeff !== undefined && ` +${ruleDetails.debtRemFnCoeff}`}\n          {ruleDetails.effortToFixDescription !== undefined &&\n            ` ${ruleDetails.effortToFixDescription}`}\n        </li>\n      </Tooltip>\n    );\n  };\n\n  renderScope = () => {\n    const scope = this.props.ruleDetails.scope || 'MAIN';\n    return (\n      <Tooltip overlay={translate('coding_rules.scope.title')}>\n        <li className=\"coding-rules-detail-property\">\n          <RuleScopeIcon className=\"little-spacer-right\" />\n          {translate('coding_rules.scope', scope)}\n        </li>\n      </Tooltip>\n    );\n  };\n\n  renderExternalBadge = () => {\n    const { ruleDetails } = this.props;\n    if (!ruleDetails.repo) {\n      return null;\n    }\n    const engine = ruleDetails.repo.replace(new RegExp(`^${EXTERNAL_RULE_REPO_PREFIX}`), '');\n    if (!engine) {\n      return null;\n    }\n    return (\n      <Tooltip overlay={translateWithParameters('coding_rules.external_rule.engine', engine)}>\n        <li className=\"coding-rules-detail-property\">\n          <div className=\"outline-badge badge-tiny-height spacer-left text-text-top\">{engine}</div>\n        </li>\n      </Tooltip>\n    );\n  };\n\n  renderKey() {\n    const EXTERNAL_PREFIX = 'external_';\n    const { ruleDetails } = this.props;\n    const displayedKey = ruleDetails.key.startsWith(EXTERNAL_PREFIX)\n      ? ruleDetails.key.substr(EXTERNAL_PREFIX.length)\n      : ruleDetails.key;\n    return <span className=\"note text-middle\">{displayedKey}</span>;\n  }\n\n  render() {\n    const { ruleDetails } = this.props;\n    const hasTypeData = !ruleDetails.isExternal || ruleDetails.type !== 'UNKNOWN';\n    return (\n      <div className=\"js-rule-meta\">\n        <header className=\"page-header\">\n          <div className=\"pull-right\">\n            {this.renderKey()}\n            {!ruleDetails.isExternal && (\n              <Link\n                className=\"coding-rules-detail-permalink link-no-underline spacer-left text-middle\"\n                title={translate('permalink')}\n                to={getRuleUrl(ruleDetails.key, this.props.organization)}>\n                <LinkIcon />\n              </Link>\n            )}\n            {!this.props.hideSimilarRulesFilter && (\n              <SimilarRulesFilter onFilterChange={this.props.onFilterChange} rule={ruleDetails} />\n            )}\n          </div>\n          <h3 className=\"page-title coding-rules-detail-header\">\n            <big>{ruleDetails.name}</big>\n          </h3>\n        </header>\n\n        {hasTypeData && (\n          <ul className=\"coding-rules-detail-properties\">\n            {this.renderType()}\n            {this.renderSeverity()}\n            {!ruleDetails.isExternal && (\n              <>\n                {this.renderStatus()}\n                {this.renderScope()}\n              </>\n            )}\n            {this.renderTags()}\n            {!ruleDetails.isExternal && this.renderCreationDate()}\n            {this.renderRepository()}\n            {!ruleDetails.isExternal && (\n              <>\n                {this.renderTemplate()}\n                {this.renderParentTemplate()}\n                {this.renderRemediation()}\n              </>\n            )}\n            {ruleDetails.isExternal && this.renderExternalBadge()}\n          </ul>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SimpleModal from '../../../components/controls/SimpleModal';\nimport { SubmitButton, ResetButtonLink } from '../../../components/ui/buttons';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  onCancel: () => void;\n  onSubmit: () => void;\n}\n\nexport default function RemoveExtendedDescriptionModal({ onCancel, onSubmit }: Props) {\n  const header = translate('coding_rules.remove_extended_description');\n  return (\n    <SimpleModal header={header} onClose={onCancel} onSubmit={onSubmit}>\n      {({ onCloseClick, onFormSubmit, submitting }) => (\n        <form onSubmit={onFormSubmit}>\n          <header className=\"modal-head\">\n            <h2>{header}</h2>\n          </header>\n\n          <div className=\"modal-body\">\n            {translate('coding_rules.remove_extended_description.confirm')}\n          </div>\n\n          <footer className=\"modal-foot\">\n            {submitting && <i className=\"spinner spacer-right\" />}\n            <SubmitButton className=\"button-red\" disabled={submitting}>\n              {translate('remove')}\n            </SubmitButton>\n            <ResetButtonLink onClick={onCloseClick}>{translate('cancel')}</ResetButtonLink>\n          </footer>\n        </form>\n      )}\n    </SimpleModal>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport RemoveExtendedDescriptionModal from './RemoveExtendedDescriptionModal';\nimport { updateRule } from '../../../api/rules';\nimport MarkdownTips from '../../../components/common/MarkdownTips';\nimport { Button, ResetButtonLink } from '../../../components/ui/buttons';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\n\ninterface Props {\n  canWrite: boolean | undefined;\n  onChange: (newRuleDetails: T.RuleDetails) => void;\n  organization: string | undefined;\n  ruleDetails: T.RuleDetails;\n}\n\ninterface State {\n  description: string;\n  descriptionForm: boolean;\n  removeDescriptionModal: boolean;\n  submitting: boolean;\n}\n\nexport default class RuleDetailsDescription extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    description: '',\n    descriptionForm: false,\n    submitting: false,\n    removeDescriptionModal: false\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleDescriptionChange = (event: React.SyntheticEvent<HTMLTextAreaElement>) =>\n    this.setState({ description: event.currentTarget.value });\n\n  handleCancelClick = () => {\n    this.setState({ descriptionForm: false });\n  };\n\n  handleSaveClick = () => {\n    this.updateDescription(this.state.description);\n  };\n\n  handleRemoveDescriptionClick = () => {\n    this.setState({ removeDescriptionModal: true });\n  };\n\n  handleCancelRemoving = () => this.setState({ removeDescriptionModal: false });\n\n  handleConfirmRemoving = () => {\n    this.setState({ removeDescriptionModal: false });\n    this.updateDescription('');\n  };\n\n  updateDescription = (text: string) => {\n    this.setState({ submitting: true });\n\n    updateRule({\n      key: this.props.ruleDetails.key,\n      markdown_note: text,\n      organization: this.props.organization\n    }).then(\n      ruleDetails => {\n        this.props.onChange(ruleDetails);\n        if (this.mounted) {\n          this.setState({ submitting: false, descriptionForm: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ submitting: false });\n        }\n      }\n    );\n  };\n\n  handleExtendDescriptionClick = () => {\n    this.setState({\n      // set description` to the current `mdNote` each time the form is open\n      description: this.props.ruleDetails.mdNote || '',\n      descriptionForm: true\n    });\n  };\n\n  renderDescription = () => (\n    <div id=\"coding-rules-detail-description-extra\">\n      {this.props.ruleDetails.htmlNote !== undefined && (\n        <div\n          className=\"rule-desc spacer-bottom markdown\"\n          dangerouslySetInnerHTML={{ __html: this.props.ruleDetails.htmlNote }}\n        />\n      )}\n      {this.props.canWrite && (\n        <Button\n          id=\"coding-rules-detail-extend-description\"\n          onClick={this.handleExtendDescriptionClick}>\n          {translate('coding_rules.extend_description')}\n        </Button>\n      )}\n    </div>\n  );\n\n  renderForm = () => (\n    <div className=\"coding-rules-detail-extend-description-form\">\n      <table className=\"width-100\">\n        <tbody>\n          <tr>\n            <td colSpan={2}>\n              <textarea\n                autoFocus={true}\n                className=\"width-100 little-spacer-bottom\"\n                id=\"coding-rules-detail-extend-description-text\"\n                onChange={this.handleDescriptionChange}\n                rows={4}\n                value={this.state.description}\n              />\n            </td>\n          </tr>\n          <tr>\n            <td>\n              <Button\n                disabled={this.state.submitting}\n                id=\"coding-rules-detail-extend-description-submit\"\n                onClick={this.handleSaveClick}>\n                {translate('save')}\n              </Button>\n              {this.props.ruleDetails.mdNote !== undefined && (\n                <>\n                  <Button\n                    className=\"button-red spacer-left\"\n                    disabled={this.state.submitting}\n                    id=\"coding-rules-detail-extend-description-remove\"\n                    onClick={this.handleRemoveDescriptionClick}>\n                    {translate('remove')}\n                  </Button>\n                  {this.state.removeDescriptionModal && (\n                    <RemoveExtendedDescriptionModal\n                      onCancel={this.handleCancelRemoving}\n                      onSubmit={this.handleConfirmRemoving}\n                    />\n                  )}\n                </>\n              )}\n              <ResetButtonLink\n                className=\"spacer-left\"\n                disabled={this.state.submitting}\n                id=\"coding-rules-detail-extend-description-cancel\"\n                onClick={this.handleCancelClick}>\n                {translate('cancel')}\n              </ResetButtonLink>\n              {this.state.submitting && <i className=\"spinner spacer-left\" />}\n            </td>\n            <td className=\"text-right\">\n              <MarkdownTips />\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  );\n\n  render() {\n    const { ruleDetails } = this.props;\n    const hasDescription = !ruleDetails.isExternal || ruleDetails.type !== 'UNKNOWN';\n\n    return (\n      <div className=\"js-rule-description\">\n        {hasDescription ? (\n          <div\n            className=\"coding-rules-detail-description rule-desc markdown\"\n            dangerouslySetInnerHTML={{ __html: ruleDetails.htmlDesc || '' }}\n          />\n        ) : (\n          <div className=\"coding-rules-detail-description rule-desc markdown\">\n            {translateWithParameters('issue.external_issue_description', ruleDetails.name)}\n          </div>\n        )}\n\n        {!ruleDetails.templateKey && (\n          <div className=\"coding-rules-detail-description coding-rules-detail-description-extra\">\n            {!this.state.descriptionForm && this.renderDescription()}\n            {this.state.descriptionForm && this.props.canWrite && this.renderForm()}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Modal from '../../../components/controls/Modal';\nimport Select from '../../../components/controls/Select';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { activateRule, Profile } from '../../../api/quality-profiles';\nimport { SEVERITIES } from '../../../helpers/constants';\nimport { translate } from '../../../helpers/l10n';\nimport { sortProfiles } from '../../quality-profiles/utils';\nimport { SubmitButton, ResetButtonLink } from '../../../components/ui/buttons';\nimport { Alert } from '../../../components/ui/Alert';\n\ninterface Props {\n  activation?: T.RuleActivation;\n  modalHeader: string;\n  onClose: () => void;\n  onDone: (severity: string) => Promise<void>;\n  organization: string | undefined;\n  profiles: Profile[];\n  rule: T.Rule | T.RuleDetails;\n}\n\ninterface State {\n  params: T.Dict<string>;\n  profile: string;\n  severity: string;\n  submitting: boolean;\n}\n\nexport default class ActivationFormModal extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    const profilesWithDepth = this.getQualityProfilesWithDepth(props);\n    this.state = {\n      params: this.getParams(props),\n      profile: profilesWithDepth.length > 0 ? profilesWithDepth[0].key : '',\n      severity: props.activation ? props.activation.severity : props.rule.severity,\n      submitting: false\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  getParams = ({ activation, rule } = this.props) => {\n    const params: T.Dict<string> = {};\n    if (rule && rule.params) {\n      for (const param of rule.params) {\n        params[param.key] = param.defaultValue || '';\n      }\n      if (activation && activation.params) {\n        for (const param of activation.params) {\n          params[param.key] = param.value;\n        }\n      }\n    }\n    return params;\n  };\n\n  // Choose QP which a user can administrate, which are the same language and which are not built-in\n  getQualityProfilesWithDepth = ({ profiles } = this.props) => {\n    return sortProfiles(\n      profiles.filter(\n        profile =>\n          !profile.isBuiltIn &&\n          profile.actions &&\n          profile.actions.edit &&\n          profile.language === this.props.rule.lang\n      )\n    ).map(profile => ({\n      ...profile,\n      // Decrease depth by 1, so the top level starts at 0\n      depth: profile.depth - 1\n    }));\n  };\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    this.setState({ submitting: true });\n    const data = {\n      key: this.state.profile,\n      organization: this.props.organization,\n      params: this.state.params,\n      rule: this.props.rule.key,\n      severity: this.state.severity\n    };\n    activateRule(data)\n      .then(() => this.props.onDone(data.severity))\n      .then(\n        () => {\n          if (this.mounted) {\n            this.setState({ submitting: false });\n            this.props.onClose();\n          }\n        },\n        () => {\n          if (this.mounted) {\n            this.setState({ submitting: false });\n          }\n        }\n      );\n  };\n\n  handleParameterChange = (event: React.SyntheticEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    const { name, value } = event.currentTarget;\n    this.setState((state: State) => ({ params: { ...state.params, [name]: value } }));\n  };\n\n  handleProfileChange = ({ value }: { value: string }) => {\n    this.setState({ profile: value });\n  };\n\n  handleSeverityChange = ({ value }: { value: string }) => {\n    this.setState({ severity: value });\n  };\n\n  renderSeverityOption = ({ value }: { value: string }) => {\n    return <SeverityHelper severity={value} />;\n  };\n\n  render() {\n    const { activation, rule } = this.props;\n    const { profile, severity, submitting } = this.state;\n    const { params = [] } = rule;\n    const profilesWithDepth = this.getQualityProfilesWithDepth();\n    const isCustomRule = !!(rule as T.RuleDetails).templateKey;\n    const activeInAllProfiles = profilesWithDepth.length <= 0;\n    const isUpdateMode = !!activation;\n\n    return (\n      <Modal contentLabel={this.props.modalHeader} onRequestClose={this.props.onClose} size=\"small\">\n        <form onSubmit={this.handleFormSubmit}>\n          <div className=\"modal-head\">\n            <h2>{this.props.modalHeader}</h2>\n          </div>\n\n          <div className=\"modal-body\">\n            {!isUpdateMode && activeInAllProfiles && (\n              <Alert variant=\"info\">{translate('coding_rules.active_in_all_profiles')}</Alert>\n            )}\n\n            <div className=\"modal-field\">\n              <label>{translate('coding_rules.quality_profile')}</label>\n              <Select\n                className=\"js-profile\"\n                clearable={false}\n                disabled={submitting || profilesWithDepth.length === 1}\n                onChange={this.handleProfileChange}\n                options={profilesWithDepth.map(profile => ({\n                  label: '   '.repeat(profile.depth) + profile.name,\n                  value: profile.key\n                }))}\n                value={profile}\n              />\n            </div>\n            <div className=\"modal-field\">\n              <label>{translate('severity')}</label>\n              <Select\n                className=\"js-severity\"\n                clearable={false}\n                disabled={submitting}\n                onChange={this.handleSeverityChange}\n                optionRenderer={this.renderSeverityOption}\n                options={SEVERITIES.map(severity => ({\n                  label: translate('severity', severity),\n                  value: severity\n                }))}\n                searchable={false}\n                value={severity}\n                valueRenderer={this.renderSeverityOption}\n              />\n            </div>\n            {isCustomRule ? (\n              <div className=\"modal-field\">\n                <p className=\"note\">{translate('coding_rules.custom_rule.activation_notice')}</p>\n              </div>\n            ) : (\n              params.map(param => (\n                <div className=\"modal-field\" key={param.key}>\n                  <label title={param.key}>{param.key}</label>\n                  {param.type === 'TEXT' ? (\n                    <textarea\n                      disabled={submitting}\n                      name={param.key}\n                      onChange={this.handleParameterChange}\n                      placeholder={param.defaultValue}\n                      rows={3}\n                      value={this.state.params[param.key] || ''}\n                    />\n                  ) : (\n                    <input\n                      disabled={submitting}\n                      name={param.key}\n                      onChange={this.handleParameterChange}\n                      placeholder={param.defaultValue}\n                      type=\"text\"\n                      value={this.state.params[param.key] || ''}\n                    />\n                  )}\n                  <div\n                    className=\"note\"\n                    dangerouslySetInnerHTML={{ __html: param.htmlDesc || '' }}\n                  />\n                </div>\n              ))\n            )}\n          </div>\n\n          <footer className=\"modal-foot\">\n            {submitting && <i className=\"spinner spacer-right\" />}\n            <SubmitButton disabled={submitting || activeInAllProfiles}>\n              {isUpdateMode ? translate('save') : translate('coding_rules.activate')}\n            </SubmitButton>\n            <ResetButtonLink disabled={submitting} onClick={this.props.onClose}>\n              {translate('cancel')}\n            </ResetButtonLink>\n          </footer>\n        </form>\n      </Modal>\n    );\n  }\n}\n","export default \"Quality Profiles are collections of Rules to apply during an analysis.\\n\\n---\\n\\nSee also: [Quality Profiles](/instance-administration/quality-profiles/)\\n\"","export default \"Rule Templates allow users to easily define their own rules. They are like cookie cutters from which you can stamp out new, \\\"custom rules\\\". The rules created from a template are listed on its rule detail page.\\n\"","var arrayFilter = require('./_arrayFilter'),\n    baseFilter = require('./_baseFilter'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Iterates over elements of `collection`, returning an array of all elements\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * **Note:** Unlike `_.remove`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n * @see _.reject\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': true },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * _.filter(users, function(o) { return !o.active; });\n * // => objects for ['fred']\n *\n * // The `_.matches` iteratee shorthand.\n * _.filter(users, { 'age': 36, 'active': true });\n * // => objects for ['barney']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.filter(users, ['active', false]);\n * // => objects for ['fred']\n *\n * // The `_.property` iteratee shorthand.\n * _.filter(users, 'active');\n * // => objects for ['barney']\n */\nfunction filter(collection, predicate) {\n  var func = isArray(collection) ? arrayFilter : baseFilter;\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nmodule.exports = filter;\n","var baseEach = require('./_baseEach');\n\n/**\n * The base implementation of `_.filter` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction baseFilter(collection, predicate) {\n  var result = [];\n  baseEach(collection, function(value, index, collection) {\n    if (predicate(value, index, collection)) {\n      result.push(value);\n    }\n  });\n  return result;\n}\n\nmodule.exports = baseFilter;\n","export default \"Only custom rules may be deleted. When a custom rule is deleted, it is not removed from the SonarQube instance. Instead its status is set to \\\"REMOVED\\\", allowing relevant issues to continue to be displayed properly.\\n\"","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Query, serializeQuery } from '../query';\nimport Modal from '../../../components/controls/Modal';\nimport Select from '../../../components/controls/Select';\nimport { Alert } from '../../../components/ui/Alert';\nimport { SubmitButton, ResetButtonLink } from '../../../components/ui/buttons';\nimport { Profile, bulkActivateRules, bulkDeactivateRules } from '../../../api/quality-profiles';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { formatMeasure } from '../../../helpers/measures';\n\ninterface Props {\n  action: string;\n  languages: T.Languages;\n  onClose: () => void;\n  organization: string | undefined;\n  profile?: Profile;\n  query: Query;\n  referencedProfiles: T.Dict<Profile>;\n  total: number;\n}\n\ninterface ActivationResult {\n  failed: number;\n  profile: string;\n  succeeded: number;\n}\n\ninterface State {\n  finished: boolean;\n  results: ActivationResult[];\n  selectedProfiles: any[];\n  submitting: boolean;\n}\n\nexport default class BulkChangeModal extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n\n    // if there is only one possible option for profile, select it immediately\n    const selectedProfiles = [];\n    const availableProfiles = this.getAvailableQualityProfiles(props);\n    if (availableProfiles.length === 1) {\n      selectedProfiles.push(availableProfiles[0].key);\n    }\n\n    this.state = { finished: false, results: [], selectedProfiles, submitting: false };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleProfileSelect = (options: { value: string }[]) => {\n    const selectedProfiles = options.map(option => option.value);\n    this.setState({ selectedProfiles });\n  };\n\n  getAvailableQualityProfiles = ({ query, referencedProfiles } = this.props) => {\n    let profiles = Object.values(referencedProfiles);\n    if (query.languages.length > 0) {\n      profiles = profiles.filter(profile => query.languages.includes(profile.language));\n    }\n    return profiles\n      .filter(profile => profile.actions && profile.actions.edit)\n      .filter(profile => !profile.isBuiltIn);\n  };\n\n  processResponse = (profile: string, response: any) => {\n    if (this.mounted) {\n      const result: ActivationResult = {\n        failed: response.failed || 0,\n        profile,\n        succeeded: response.succeeded || 0\n      };\n      this.setState(state => ({ results: [...state.results, result] }));\n    }\n  };\n\n  sendRequests = () => {\n    let looper = Promise.resolve();\n\n    // serialize the query, but delete the `profile`\n    const data = serializeQuery(this.props.query);\n    delete data.profile;\n\n    const method = this.props.action === 'activate' ? bulkActivateRules : bulkDeactivateRules;\n\n    // if a profile is selected in the facet, pick it\n    // otherwise take all profiles selected in the dropdown\n    const profiles: string[] = this.props.profile\n      ? [this.props.profile.key]\n      : this.state.selectedProfiles;\n\n    for (const profile of profiles) {\n      looper = looper.then(() =>\n        method({ ...data, organization: this.props.organization, targetKey: profile }).then(\n          response => this.processResponse(profile, response)\n        )\n      );\n    }\n    return looper;\n  };\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    this.setState({ submitting: true });\n    this.sendRequests().then(\n      () => {\n        if (this.mounted) {\n          this.setState({ finished: true, submitting: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ submitting: false });\n        }\n      }\n    );\n  };\n\n  renderResult = (result: ActivationResult) => {\n    const { profile: profileKey } = result;\n    const profile = this.props.referencedProfiles[profileKey];\n    if (!profile) {\n      return null;\n    }\n    const { languages } = this.props;\n    const language = languages[profile.language]\n      ? languages[profile.language].name\n      : profile.language;\n    return (\n      <Alert key={result.profile} variant={result.failed === 0 ? 'success' : 'warning'}>\n        {result.failed\n          ? translateWithParameters(\n              'coding_rules.bulk_change.warning',\n              profile.name,\n              language,\n              result.succeeded,\n              result.failed\n            )\n          : translateWithParameters(\n              'coding_rules.bulk_change.success',\n              profile.name,\n              language,\n              result.succeeded\n            )}\n      </Alert>\n    );\n  };\n\n  renderProfileSelect = () => {\n    const profiles = this.getAvailableQualityProfiles();\n    const options = profiles.map(profile => ({\n      label: `${profile.name} - ${profile.languageName}`,\n      value: profile.key\n    }));\n    return (\n      <Select\n        multi={true}\n        onChange={this.handleProfileSelect}\n        options={options}\n        value={this.state.selectedProfiles}\n      />\n    );\n  };\n\n  render() {\n    const { action, profile, total } = this.props;\n    const header =\n      // prettier-ignore\n      action === 'activate'\n        ? `${translate('coding_rules.activate_in_quality_profile')} (${formatMeasure(total, 'INT')} ${translate('coding_rules._rules')})`\n        : `${translate('coding_rules.deactivate_in_quality_profile')} (${formatMeasure(total, 'INT')} ${translate('coding_rules._rules')})`;\n\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose} size=\"small\">\n        <form onSubmit={this.handleFormSubmit}>\n          <header className=\"modal-head\">\n            <h2>{header}</h2>\n          </header>\n\n          <div className=\"modal-body\">\n            {this.state.results.map(this.renderResult)}\n\n            {!this.state.finished && !this.state.submitting && (\n              <div className=\"modal-field\">\n                <h3>\n                  <label htmlFor=\"coding-rules-bulk-change-profile\">\n                    {action === 'activate'\n                      ? translate('coding_rules.activate_in')\n                      : translate('coding_rules.deactivate_in')}\n                  </label>\n                </h3>\n                {profile ? (\n                  <span>\n                    {profile.name}\n                    {' — '}\n                    {translate('are_you_sure')}\n                  </span>\n                ) : (\n                  this.renderProfileSelect()\n                )}\n              </div>\n            )}\n          </div>\n\n          <footer className=\"modal-foot\">\n            {this.state.submitting && <i className=\"spinner spacer-right\" />}\n            {!this.state.finished && (\n              <SubmitButton disabled={this.state.submitting} id=\"coding-rules-submit-bulk-change\">\n                {translate('apply')}\n              </SubmitButton>\n            )}\n            <ResetButtonLink onClick={this.props.onClose}>\n              {this.state.finished ? translate('close') : translate('cancel')}\n            </ResetButtonLink>\n          </footer>\n        </form>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport BulkChangeModal from './BulkChangeModal';\nimport { Query } from '../query';\nimport { Profile } from '../../../api/quality-profiles';\nimport Dropdown from '../../../components/controls/Dropdown';\nimport { Button } from '../../../components/ui/buttons';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  languages: T.Languages;\n  organization: string | undefined;\n  query: Query;\n  referencedProfiles: T.Dict<Profile>;\n  total: number;\n}\n\ninterface State {\n  action?: string;\n  modal: boolean;\n  profile?: Profile;\n}\n\nexport default class BulkChange extends React.PureComponent<Props, State> {\n  state: State = { modal: false };\n\n  getSelectedProfile = () => {\n    const { profile } = this.props.query;\n    return (profile && this.props.referencedProfiles[profile]) || undefined;\n  };\n\n  closeModal = () => this.setState({ action: undefined, modal: false, profile: undefined });\n\n  handleActivateClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ action: 'activate', modal: true, profile: undefined });\n  };\n\n  handleActivateInProfileClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ action: 'activate', modal: true, profile: this.getSelectedProfile() });\n  };\n\n  handleDeactivateClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ action: 'deactivate', modal: true, profile: undefined });\n  };\n\n  handleDeactivateInProfileClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ action: 'deactivate', modal: true, profile: this.getSelectedProfile() });\n  };\n\n  render() {\n    // show \"Bulk Change\" button only if user has at least one QP which he administrates\n    const canBulkChange = Object.values(this.props.referencedProfiles).some(profile =>\n      Boolean(profile.actions && profile.actions.edit)\n    );\n    if (!canBulkChange) {\n      return null;\n    }\n\n    const { activation } = this.props.query;\n    const profile = this.getSelectedProfile();\n    const canChangeProfile = Boolean(\n      profile && !profile.isBuiltIn && profile.actions && profile.actions.edit\n    );\n    const allowActivateOnProfile = canChangeProfile && activation === false;\n    const allowDeactivateOnProfile = canChangeProfile && activation === true;\n\n    return (\n      <>\n        <Dropdown\n          className=\"pull-left\"\n          overlay={\n            <ul className=\"menu\">\n              <li>\n                <a href=\"#\" onClick={this.handleActivateClick}>\n                  {translate('coding_rules.activate_in')}…\n                </a>\n              </li>\n              {allowActivateOnProfile && profile && (\n                <li>\n                  <a href=\"#\" onClick={this.handleActivateInProfileClick}>\n                    {translate('coding_rules.activate_in')} <strong>{profile.name}</strong>\n                  </a>\n                </li>\n              )}\n              <li>\n                <a href=\"#\" onClick={this.handleDeactivateClick}>\n                  {translate('coding_rules.deactivate_in')}…\n                </a>\n              </li>\n              {allowDeactivateOnProfile && profile && (\n                <li>\n                  <a href=\"#\" onClick={this.handleDeactivateInProfileClick}>\n                    {translate('coding_rules.deactivate_in')} <strong>{profile.name}</strong>\n                  </a>\n                </li>\n              )}\n            </ul>\n          }>\n          <Button className=\"js-bulk-change\">{translate('bulk_change')}</Button>\n        </Dropdown>\n        {this.state.modal && this.state.action && (\n          <BulkChangeModal\n            action={this.state.action}\n            languages={this.props.languages}\n            onClose={this.closeModal}\n            organization={this.props.organization}\n            profile={this.state.profile}\n            query={this.props.query}\n            referencedProfiles={this.props.referencedProfiles}\n            total={this.props.total}\n          />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { orderBy, without, sortBy } from 'lodash';\nimport { FacetKey } from '../query';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport { translate } from '../../../helpers/l10n';\nimport { formatMeasure } from '../../../helpers/measures';\n\nexport interface BasicProps {\n  onChange: (changes: T.Dict<string | string[] | undefined>) => void;\n  onToggle: (facet: FacetKey) => void;\n  open: boolean;\n  stats?: T.Dict<number>;\n  values: string[];\n}\n\ninterface Props extends BasicProps {\n  children?: React.ReactNode;\n  disabled?: boolean;\n  disabledHelper?: string;\n  halfWidth?: boolean;\n  options?: string[];\n  property: FacetKey;\n  renderFooter?: () => React.ReactNode;\n  renderName?: (value: string) => React.ReactNode;\n  renderTextName?: (value: string) => string;\n  singleSelection?: boolean;\n}\n\nexport default class Facet extends React.PureComponent<Props> {\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { values } = this.props;\n    let newValue;\n    if (this.props.singleSelection) {\n      const value = values.length ? values[0] : undefined;\n      newValue = itemValue === value ? undefined : itemValue;\n    } else if (multiple) {\n      newValue = orderBy(\n        values.includes(itemValue) ? without(values, itemValue) : [...values, itemValue]\n      );\n    } else {\n      newValue = values.includes(itemValue) && values.length < 2 ? [] : [itemValue];\n    }\n    this.props.onChange({ [this.props.property]: newValue });\n  };\n\n  handleHeaderClick = () => this.props.onToggle(this.props.property);\n\n  handleClear = () => this.props.onChange({ [this.props.property]: [] });\n\n  getStat = (value: string) => this.props.stats && this.props.stats[value];\n\n  renderItem = (value: string) => {\n    const active = this.props.values.includes(value);\n    const stat = this.getStat(value);\n    const { renderName = defaultRenderName, renderTextName = defaultRenderName } = this.props;\n\n    return (\n      <FacetItem\n        active={active}\n        disabled={stat === 0 && !active}\n        halfWidth={this.props.halfWidth}\n        key={value}\n        name={renderName(value)}\n        onClick={this.handleItemClick}\n        stat={stat && formatMeasure(stat, 'SHORT_INT')}\n        tooltip={renderTextName(value)}\n        value={value}\n      />\n    );\n  };\n\n  render() {\n    const { disabled, renderTextName = defaultRenderName, stats } = this.props;\n    const values = this.props.values.map(renderTextName);\n    const items =\n      this.props.options ||\n      (stats &&\n        sortBy(Object.keys(stats), key => -stats[key], key => renderTextName(key).toLowerCase()));\n\n    return (\n      <FacetBox\n        className={classNames({ 'search-navigator-facet-box-forbidden': disabled })}\n        property={this.props.property}>\n        <FacetHeader\n          name={\n            <Tooltip overlay={disabled ? this.props.disabledHelper : undefined}>\n              <span>{translate('coding_rules.facet', this.props.property)}</span>\n            </Tooltip>\n          }\n          onClear={this.handleClear}\n          onClick={disabled ? undefined : this.handleHeaderClick}\n          open={this.props.open && !disabled}\n          values={values}>\n          {this.props.children}\n        </FacetHeader>\n\n        {this.props.open && items !== undefined && (\n          <FacetItemsList>{items.map(this.renderItem)}</FacetItemsList>\n        )}\n\n        {this.props.open && this.props.renderFooter !== undefined && this.props.renderFooter()}\n      </FacetBox>\n    );\n  }\n}\n\nfunction defaultRenderName(value: string) {\n  return value;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Facet, { BasicProps } from './Facet';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { SEVERITIES } from '../../../helpers/constants';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props extends BasicProps {\n  disabled: boolean;\n}\n\nexport default class ActivationSeverityFacet extends React.PureComponent<Props> {\n  renderName = (severity: string) => <SeverityHelper severity={severity} />;\n\n  renderTextName = (severity: string) => translate('severity', severity);\n\n  render() {\n    return (\n      <Facet\n        {...this.props}\n        disabled={this.props.disabled}\n        disabledHelper={translate('coding_rules.filters.active_severity.inactive')}\n        halfWidth={true}\n        options={SEVERITIES}\n        property=\"activationSeverities\"\n        renderName={this.renderName}\n        renderTextName={this.renderTextName}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { injectIntl, InjectedIntlProps } from 'react-intl';\nimport { Query } from '../query';\nimport DateInput from '../../../components/controls/DateInput';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport { longFormatterOption } from '../../../components/intl/DateFormatter';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: keyof Query) => void;\n  open: boolean;\n  value?: Date;\n}\n\nclass AvailableSinceFacet extends React.PureComponent<Props & InjectedIntlProps> {\n  handleHeaderClick = () => {\n    this.props.onToggle('availableSince');\n  };\n\n  handleClear = () => {\n    this.props.onChange({ availableSince: undefined });\n  };\n\n  handlePeriodChange = (date: Date | undefined) => {\n    this.props.onChange({ availableSince: date });\n  };\n\n  getValues = () =>\n    this.props.value\n      ? [this.props.intl.formatDate(this.props.value, longFormatterOption)]\n      : undefined;\n\n  render() {\n    return (\n      <FacetBox property=\"availableSince\">\n        <FacetHeader\n          name={translate('coding_rules.facet.available_since')}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.getValues()}\n        />\n\n        {this.props.open && (\n          <DateInput\n            name=\"available-since\"\n            onChange={this.handlePeriodChange}\n            placeholder={translate('date')}\n            value={this.props.value}\n          />\n        )}\n      </FacetBox>\n    );\n  }\n}\n\nexport default injectIntl(AvailableSinceFacet);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Facet, { BasicProps } from './Facet';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { SEVERITIES } from '../../../helpers/constants';\nimport { translate } from '../../../helpers/l10n';\n\nexport default class DefaultSeverityFacet extends React.PureComponent<BasicProps> {\n  renderName = (severity: string) => <SeverityHelper severity={severity} />;\n\n  renderTextName = (severity: string) => translate('severity', severity);\n\n  render() {\n    return (\n      <Facet\n        {...this.props}\n        halfWidth={true}\n        options={SEVERITIES}\n        property=\"severities\"\n        renderName={this.renderName}\n        renderTextName={this.renderTextName}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Facet, { BasicProps } from './Facet';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props extends T.Omit<BasicProps, 'values'> {\n  disabled: boolean;\n  value: T.RuleInheritance | undefined;\n}\n\nexport default class InheritanceFacet extends React.PureComponent<Props> {\n  renderName = (value: T.RuleInheritance) =>\n    translate('coding_rules.filters.inheritance', value.toLowerCase());\n\n  render() {\n    const { value, ...props } = this.props;\n\n    return (\n      <Facet\n        {...props}\n        disabled={this.props.disabled}\n        disabledHelper={translate('coding_rules.filters.inheritance.inactive')}\n        options={['NONE', 'INHERITED', 'OVERRIDES']}\n        property=\"inheritance\"\n        renderName={this.renderName}\n        renderTextName={this.renderName}\n        singleSelection={true}\n        values={value ? [value] : []}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { uniqBy } from 'lodash';\nimport { BasicProps } from './Facet';\nimport { getLanguages, Store } from '../../../store/rootReducer';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { translate } from '../../../helpers/l10n';\nimport { highlightTerm } from '../../../helpers/search';\n\ninterface InstalledLanguage {\n  key: string;\n  name: string;\n}\n\ninterface Props extends BasicProps {\n  disabled?: boolean;\n  installedLanguages: InstalledLanguage[];\n}\n\nclass LanguageFacet extends React.PureComponent<Props> {\n  getLanguageName = (languageKey: string) => {\n    const language = this.props.installedLanguages.find(l => l.key === languageKey);\n    return language ? language.name : languageKey;\n  };\n\n  handleSearch = (query: string) => {\n    const options = this.getAllPossibleOptions();\n    const results = options.filter(language =>\n      language.name.toLowerCase().includes(query.toLowerCase())\n    );\n    const paging = { pageIndex: 1, pageSize: results.length, total: results.length };\n    return Promise.resolve({ paging, results });\n  };\n\n  getAllPossibleOptions = () => {\n    const { installedLanguages, stats = {} } = this.props;\n\n    // add any language that presents in the facet, but might not be installed\n    // for such language we don't know their display name, so let's just use their key\n    // and make sure we reference each language only once\n    return uniqBy(\n      [...installedLanguages, ...Object.keys(stats).map(key => ({ key, name: key }))],\n      language => language.key\n    );\n  };\n\n  renderSearchResult = ({ name }: InstalledLanguage, term: string) => {\n    return highlightTerm(name, term);\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<InstalledLanguage>\n        disabled={this.props.disabled}\n        disabledHelper={translate('coding_rules.filters.language.inactive')}\n        facetHeader={translate('coding_rules.facet.languages')}\n        fetching={false}\n        getFacetItemText={this.getLanguageName}\n        getSearchResultKey={language => language.key}\n        getSearchResultText={language => language.name}\n        minSearchLength={1}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"languages\"\n        renderFacetItem={this.getLanguageName}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_languages')}\n        stats={this.props.stats}\n        values={this.props.values}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store) => ({\n  installedLanguages: Object.values(getLanguages(state))\n});\n\nexport default connect(mapStateToProps)(LanguageFacet);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy } from 'lodash';\nimport * as classNames from 'classnames';\nimport { Query, FacetKey } from '../query';\nimport { Profile } from '../../../api/quality-profiles';\nimport DocTooltip from '../../../components/docs/DocTooltip';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  activation: boolean | undefined;\n  compareToProfile: string | undefined;\n  languages: string[];\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (facet: FacetKey) => void;\n  open: boolean;\n  referencedProfiles: T.Dict<Profile>;\n  value: string | undefined;\n}\n\nexport default class ProfileFacet extends React.PureComponent<Props> {\n  handleItemClick = (selected: string) => {\n    const newValue = this.props.value === selected ? '' : selected;\n    this.props.onChange({\n      activation: this.props.activation === undefined ? true : this.props.activation,\n      compareToProfile: undefined,\n      profile: newValue\n    });\n  };\n\n  handleHeaderClick = () => this.props.onToggle('profile');\n\n  handleClear = () =>\n    this.props.onChange({\n      activation: undefined,\n      activationSeverities: [],\n      compareToProfile: undefined,\n      inheritance: undefined,\n      profile: undefined\n    });\n\n  handleActiveClick = (event: React.SyntheticEvent<HTMLElement>) => {\n    this.stopPropagation(event);\n    this.props.onChange({ activation: true, compareToProfile: undefined });\n  };\n\n  handleInactiveClick = (event: React.SyntheticEvent<HTMLElement>) => {\n    this.stopPropagation(event);\n    this.props.onChange({ activation: false, compareToProfile: undefined });\n  };\n\n  stopPropagation = (event: React.SyntheticEvent<HTMLElement>) => {\n    event.preventDefault();\n    event.stopPropagation();\n    event.currentTarget.blur();\n  };\n\n  getTextValue = () => {\n    const { referencedProfiles, value } = this.props;\n    if (value) {\n      const profile = referencedProfiles[value];\n      const name = (profile && `${profile.name} ${profile.languageName}`) || value;\n      return [name];\n    } else {\n      return [];\n    }\n  };\n\n  getTooltip = (profile: Profile) => {\n    const base = `${profile.name} ${profile.languageName}`;\n    return profile.isBuiltIn ? `${base} (${translate('quality_profiles.built_in')})` : base;\n  };\n\n  renderName = (profile: Profile) => (\n    <>\n      {profile.name}\n      <span className=\"note little-spacer-left\">\n        {profile.languageName}\n        {profile.isBuiltIn && ` (${translate('quality_profiles.built_in')})`}\n      </span>\n    </>\n  );\n\n  renderActivation = (profile: Profile) => {\n    const isCompare = profile.key === this.props.compareToProfile;\n    const activation = isCompare ? true : this.props.activation;\n    return (\n      <>\n        <span\n          aria-checked={activation}\n          className={classNames('js-active', 'facet-toggle', 'facet-toggle-green', {\n            'facet-toggle-active': activation\n          })}\n          onClick={isCompare ? this.stopPropagation : this.handleActiveClick}\n          role=\"radio\"\n          tabIndex={-1}>\n          active\n        </span>\n        <span\n          aria-checked={!activation}\n          className={classNames('js-inactive', 'facet-toggle', 'facet-toggle-red', {\n            'facet-toggle-active': !activation\n          })}\n          onClick={isCompare ? this.stopPropagation : this.handleInactiveClick}\n          role=\"radio\"\n          tabIndex={-1}>\n          inactive\n        </span>\n      </>\n    );\n  };\n\n  renderItem = (profile: Profile) => {\n    const active = [this.props.value, this.props.compareToProfile].includes(profile.key);\n\n    return (\n      <FacetItem\n        active={active}\n        className={this.props.compareToProfile === profile.key ? 'compare' : undefined}\n        key={profile.key}\n        name={this.renderName(profile)}\n        onClick={this.handleItemClick}\n        stat={this.renderActivation(profile)}\n        tooltip={this.getTooltip(profile)}\n        value={profile.key}\n      />\n    );\n  };\n\n  render() {\n    const { languages, referencedProfiles } = this.props;\n    let profiles = Object.values(referencedProfiles);\n    if (languages.length > 0) {\n      profiles = profiles.filter(profile => languages.includes(profile.language));\n    }\n    profiles = sortBy(\n      profiles,\n      profile => profile.name.toLowerCase(),\n      profile => profile.languageName\n    );\n\n    return (\n      <FacetBox property=\"profile\">\n        <FacetHeader\n          name={translate('coding_rules.facet.qprofile')}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.getTextValue()}>\n          <DocTooltip\n            className=\"spacer-left\"\n            doc={import(/* webpackMode: \"eager\" */ 'Docs/tooltips/rules/rules-quality-profiles.md')}\n          />\n        </FacetHeader>\n\n        {this.props.open && <FacetItemsList>{profiles.map(this.renderItem)}</FacetItemsList>}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport Facet, { BasicProps } from './Facet';\nimport { getLanguages, Store } from '../../../store/rootReducer';\n\ninterface StateProps {\n  referencedLanguages: T.Dict<{ key: string; name: string }>;\n}\n\ninterface Props extends BasicProps, StateProps {\n  referencedRepositories: T.Dict<{ key: string; language: string; name: string }>;\n}\n\nclass RepositoryFacet extends React.PureComponent<Props> {\n  getLanguageName = (languageKey: string) => {\n    const { referencedLanguages } = this.props;\n    const language = referencedLanguages[languageKey];\n    return (language && language.name) || languageKey;\n  };\n\n  renderName = (repositoryKey: string) => {\n    const { referencedRepositories } = this.props;\n    const repository = referencedRepositories[repositoryKey];\n    return repository ? (\n      <>\n        {repository.name}\n        <span className=\"note little-spacer-left\">{this.getLanguageName(repository.language)}</span>\n      </>\n    ) : (\n      repositoryKey\n    );\n  };\n\n  renderTextName = (repositoryKey: string) => {\n    const { referencedRepositories } = this.props;\n    const repository = referencedRepositories[repositoryKey];\n    return (repository && repository.name) || repositoryKey;\n  };\n\n  render() {\n    const { referencedLanguages, referencedRepositories, ...facetProps } = this.props;\n    return (\n      <Facet\n        {...facetProps}\n        property=\"repositories\"\n        renderName={this.renderName}\n        renderTextName={this.renderTextName}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store): StateProps => ({\n  referencedLanguages: getLanguages(state)\n});\n\nexport default connect(mapStateToProps)(RepositoryFacet);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Facet, { BasicProps } from './Facet';\nimport { RULE_STATUSES } from '../../../helpers/constants';\nimport { translate } from '../../../helpers/l10n';\n\nexport default class StatusFacet extends React.PureComponent<BasicProps> {\n  renderName = (status: string) => translate('rules.status', status.toLowerCase());\n\n  render() {\n    return (\n      <Facet\n        {...this.props}\n        options={RULE_STATUSES}\n        property=\"statuses\"\n        renderName={this.renderName}\n        renderTextName={this.renderName}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { uniq } from 'lodash';\nimport { BasicProps } from './Facet';\nimport { getRuleTags } from '../../../api/rules';\nimport * as theme from '../../../app/theme';\nimport TagsIcon from '../../../components/icons-components/TagsIcon';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { translate } from '../../../helpers/l10n';\nimport { highlightTerm } from '../../../helpers/search';\n\ninterface Props extends BasicProps {\n  organization: string | undefined;\n}\n\nexport default class TagFacet extends React.PureComponent<Props> {\n  handleSearch = (query: string) => {\n    return getRuleTags({ organization: this.props.organization, ps: 50, q: query }).then(tags => ({\n      paging: { pageIndex: 1, pageSize: tags.length, total: tags.length },\n      results: tags\n    }));\n  };\n\n  handleSelect = (option: { value: string }) => {\n    this.props.onChange({ tags: uniq([...this.props.values, option.value]) });\n  };\n\n  getTagName = (tag: string) => {\n    return tag;\n  };\n\n  renderTag = (tag: string) => (\n    <>\n      <TagsIcon className=\"little-spacer-right\" fill={theme.gray60} />\n      {tag}\n    </>\n  );\n\n  renderSearchResult = (tag: string, term: string) => (\n    <>\n      <TagsIcon className=\"little-spacer-right\" fill={theme.gray60} />\n      {highlightTerm(tag, term)}\n    </>\n  );\n\n  render() {\n    return (\n      <ListStyleFacet<string>\n        facetHeader={translate('coding_rules.facet.tags')}\n        fetching={false}\n        getFacetItemText={this.getTagName}\n        getSearchResultKey={tag => tag}\n        getSearchResultText={tag => tag}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"tags\"\n        renderFacetItem={this.renderTag}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_tags')}\n        stats={this.props.stats}\n        values={this.props.values}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Facet, { BasicProps } from './Facet';\nimport DocTooltip from '../../../components/docs/DocTooltip';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props extends T.Omit<BasicProps, 'onChange' | 'values'> {\n  onChange: (changes: { template: boolean | undefined }) => void;\n  value: boolean | undefined;\n}\n\nexport default class TemplateFacet extends React.PureComponent<Props> {\n  handleChange = (changes: { template: string | any[] }) => {\n    const template =\n      // empty array is returned when a user cleared the facet\n      // otherwise `\"true\"`, `\"false\"` or `undefined` can be returned\n      Array.isArray(changes.template) || changes.template === undefined\n        ? undefined\n        : changes.template === 'true';\n    this.props.onChange({ ...changes, template });\n  };\n\n  renderName = (template: string) =>\n    template === 'true'\n      ? translate('coding_rules.filters.template.is_template')\n      : translate('coding_rules.filters.template.is_not_template');\n\n  render() {\n    const { onChange, value, ...props } = this.props;\n\n    return (\n      <Facet\n        {...props}\n        onChange={this.handleChange}\n        options={['true', 'false']}\n        property=\"template\"\n        renderName={this.renderName}\n        renderTextName={this.renderName}\n        singleSelection={true}\n        values={value !== undefined ? [String(value)] : []}>\n        <DocTooltip\n          className=\"spacer-left\"\n          doc={import(/* webpackMode: \"eager\" */ 'Docs/tooltips/rules/rule-templates.md')}\n        />\n      </Facet>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Facet, { BasicProps } from './Facet';\nimport IssueTypeIcon from '../../../components/ui/IssueTypeIcon';\nimport { translate } from '../../../helpers/l10n';\n\nexport default class TypeFacet extends React.PureComponent<BasicProps> {\n  renderName = (type: string) => (\n    <>\n      <IssueTypeIcon className=\"little-spacer-right\" query={type} />\n      {translate('issue.type', type)}\n    </>\n  );\n\n  renderTextName = (type: string) => translate('issue.type', type);\n\n  render() {\n    const options = ['BUG', 'VULNERABILITY', 'CODE_SMELL', 'SECURITY_HOTSPOT'];\n\n    return (\n      <Facet\n        {...this.props}\n        options={options}\n        property=\"types\"\n        renderName={this.renderName}\n        renderTextName={this.renderTextName}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ActivationSeverityFacet from './ActivationSeverityFacet';\nimport AvailableSinceFacet from './AvailableSinceFacet';\nimport DefaultSeverityFacet from './DefaultSeverityFacet';\nimport InheritanceFacet from './InheritanceFacet';\nimport LanguageFacet from './LanguageFacet';\nimport ProfileFacet from './ProfileFacet';\nimport RepositoryFacet from './RepositoryFacet';\nimport StatusFacet from './StatusFacet';\nimport TagFacet from './TagFacet';\nimport TemplateFacet from './TemplateFacet';\nimport TypeFacet from './TypeFacet';\nimport StandardFacet from '../../issues/sidebar/StandardFacet';\nimport { Facets, Query, OpenFacets } from '../query';\nimport { Profile } from '../../../api/quality-profiles';\n\ninterface Props {\n  facets?: Facets;\n  hideProfileFacet?: boolean;\n  onFacetToggle: (facet: string) => void;\n  onFilterChange: (changes: Partial<Query>) => void;\n  openFacets: OpenFacets;\n  organization: string | undefined;\n  organizationsEnabled?: boolean;\n  query: Query;\n  referencedProfiles: T.Dict<Profile>;\n  referencedRepositories: T.Dict<{ key: string; language: string; name: string }>;\n  selectedProfile?: Profile;\n}\n\nexport default function FacetsList(props: Props) {\n  const languageDisabled = !props.hideProfileFacet && props.query.profile !== undefined;\n\n  const inheritanceDisabled =\n    props.query.compareToProfile !== undefined ||\n    props.selectedProfile === undefined ||\n    !props.selectedProfile.isInherited;\n\n  const activationSeverityDisabled =\n    props.query.compareToProfile !== undefined ||\n    props.selectedProfile === undefined ||\n    !props.query.activation;\n  return (\n    <>\n      <LanguageFacet\n        disabled={languageDisabled}\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.languages}\n        stats={props.facets && props.facets.languages}\n        values={props.query.languages}\n      />\n      <TypeFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.types}\n        stats={props.facets && props.facets.types}\n        values={props.query.types}\n      />\n      <TagFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.tags}\n        organization={props.organization}\n        stats={props.facets && props.facets.tags}\n        values={props.query.tags}\n      />\n      <RepositoryFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.repositories}\n        referencedRepositories={props.referencedRepositories}\n        stats={props.facets && props.facets.repositories}\n        values={props.query.repositories}\n      />\n      <DefaultSeverityFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.severities}\n        stats={props.facets && props.facets.severities}\n        values={props.query.severities}\n      />\n      <StatusFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.statuses}\n        stats={props.facets && props.facets.statuses}\n        values={props.query.statuses}\n      />\n      <StandardFacet\n        cwe={props.query.cwe}\n        cweOpen={!!props.openFacets.cwe}\n        cweStats={props.facets && props.facets.cwe}\n        fetchingCwe={false}\n        fetchingOwaspTop10={false}\n        fetchingSansTop25={false}\n        fetchingSonarSourceSecurity={false}\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.standards}\n        owaspTop10={props.query.owaspTop10}\n        owaspTop10Open={!!props.openFacets.owaspTop10}\n        owaspTop10Stats={props.facets && props.facets.owaspTop10}\n        query={props.query}\n        sansTop25={props.query.sansTop25}\n        sansTop25Open={!!props.openFacets.sansTop25}\n        sansTop25Stats={props.facets && props.facets.sansTop25}\n        sonarsourceSecurity={props.query.sonarsourceSecurity}\n        sonarsourceSecurityOpen={!!props.openFacets.sonarsourceSecurity}\n        sonarsourceSecurityStats={props.facets && props.facets.sonarsourceSecurity}\n      />\n      <AvailableSinceFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.availableSince}\n        value={props.query.availableSince}\n      />\n      {!props.organizationsEnabled && (\n        <TemplateFacet\n          onChange={props.onFilterChange}\n          onToggle={props.onFacetToggle}\n          open={!!props.openFacets.template}\n          value={props.query.template}\n        />\n      )}\n      {!props.hideProfileFacet && (\n        <>\n          <ProfileFacet\n            activation={props.query.activation}\n            compareToProfile={props.query.compareToProfile}\n            languages={props.query.languages}\n            onChange={props.onFilterChange}\n            onToggle={props.onFacetToggle}\n            open={!!props.openFacets.profile}\n            referencedProfiles={props.referencedProfiles}\n            value={props.query.profile}\n          />\n          <InheritanceFacet\n            disabled={inheritanceDisabled}\n            onChange={props.onFilterChange}\n            onToggle={props.onFacetToggle}\n            open={!!props.openFacets.inheritance}\n            value={props.query.inheritance}\n          />\n          <ActivationSeverityFacet\n            disabled={activationSeverityDisabled}\n            onChange={props.onFilterChange}\n            onToggle={props.onFacetToggle}\n            open={!!props.openFacets.activationSeverities}\n            stats={props.facets && props.facets.activationSeverities}\n            values={props.query.activationSeverities}\n          />\n        </>\n      )}\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../../helpers/l10n';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport PageCounter from '../../../components/common/PageCounter';\nimport ReloadButton from '../../../components/controls/ReloadButton';\n\ninterface Props {\n  loading: boolean;\n  onReload: () => void;\n  paging?: T.Paging;\n  selectedIndex?: number;\n}\n\nexport default function PageActions(props: Props) {\n  return (\n    <div className=\"pull-right\">\n      <Shortcuts />\n\n      <DeferredSpinner loading={props.loading}>\n        <ReloadButton onClick={props.onReload} />\n      </DeferredSpinner>\n\n      {props.paging && (\n        <PageCounter\n          className=\"spacer-left flash flash-heavy\"\n          current={props.selectedIndex}\n          label={translate('coding_rules._rules')}\n          total={props.paging.total}\n        />\n      )}\n    </div>\n  );\n}\n\nfunction Shortcuts() {\n  return (\n    <span className=\"note big-spacer-right\">\n      <span className=\"big-spacer-right\">\n        <span className=\"shortcut-button little-spacer-right\">↑</span>\n        <span className=\"shortcut-button little-spacer-right\">↓</span>\n        {translate('coding_rules.to_select_rules')}\n      </span>\n\n      <span>\n        <span className=\"shortcut-button little-spacer-right\">←</span>\n        <span className=\"shortcut-button little-spacer-right\">→</span>\n        {translate('issues.to_navigate')}\n      </span>\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Modal from '../../../components/controls/Modal';\nimport { translate } from '../../../helpers/l10n';\nimport MarkdownTips from '../../../components/common/MarkdownTips';\nimport { SEVERITIES, RULE_TYPES, RULE_STATUSES } from '../../../helpers/constants';\nimport Select from '../../../components/controls/Select';\nimport TypeHelper from '../../../components/shared/TypeHelper';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { createRule, updateRule } from '../../../api/rules';\nimport { csvEscape } from '../../../helpers/csv';\nimport { latinize } from '../../../helpers/strings';\nimport { SubmitButton, ResetButtonLink } from '../../../components/ui/buttons';\nimport { Alert } from '../../../components/ui/Alert';\n\ninterface Props {\n  customRule?: T.RuleDetails;\n  onClose: () => void;\n  onDone: (newRuleDetails: T.RuleDetails) => void;\n  organization: string | undefined;\n  templateRule: T.RuleDetails;\n}\n\ninterface State {\n  description: string;\n  key: string;\n  keyModifiedByUser: boolean;\n  name: string;\n  params: T.Dict<string>;\n  reactivating: boolean;\n  severity: string;\n  status: string;\n  submitting: boolean;\n  type: string;\n}\n\nexport default class CustomRuleFormModal extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    const params: T.Dict<string> = {};\n    if (props.customRule && props.customRule.params) {\n      for (const param of props.customRule.params) {\n        params[param.key] = param.defaultValue || '';\n      }\n    }\n    this.state = {\n      description: (props.customRule && props.customRule.mdDesc) || '',\n      key: '',\n      keyModifiedByUser: false,\n      name: (props.customRule && props.customRule.name) || '',\n      params,\n      reactivating: false,\n      severity: (props.customRule && props.customRule.severity) || props.templateRule.severity,\n      status: (props.customRule && props.customRule.status) || props.templateRule.status,\n      submitting: false,\n      type: (props.customRule && props.customRule.type) || props.templateRule.type\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  prepareRequest = () => {\n    const { customRule, organization, templateRule } = this.props;\n    const params = Object.keys(this.state.params)\n      .map(key => `${key}=${csvEscape(this.state.params[key])}`)\n      .join(';');\n    const ruleData = {\n      markdown_description: this.state.description,\n      name: this.state.name,\n      organization,\n      params,\n      severity: this.state.severity,\n      status: this.state.status\n    };\n    return customRule\n      ? updateRule({ ...ruleData, key: customRule.key })\n      : createRule({\n          ...ruleData,\n          custom_key: this.state.key,\n          prevent_reactivation: !this.state.reactivating,\n          template_key: templateRule.key,\n          type: this.state.type\n        });\n  };\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    this.setState({ submitting: true });\n    this.prepareRequest().then(\n      newRuleDetails => {\n        if (this.mounted) {\n          this.setState({ submitting: false });\n          this.props.onDone(newRuleDetails);\n        }\n      },\n      (response: Response) => {\n        if (this.mounted) {\n          this.setState({ reactivating: response.status === 409, submitting: false });\n        }\n      }\n    );\n  };\n\n  handleNameChange = (event: React.SyntheticEvent<HTMLInputElement>) => {\n    const { value: name } = event.currentTarget;\n    this.setState(state => ({\n      name,\n      key: state.keyModifiedByUser ? state.key : latinize(name).replace(/[^A-Za-z0-9]/g, '_')\n    }));\n  };\n\n  handleKeyChange = (event: React.SyntheticEvent<HTMLInputElement>) =>\n    this.setState({ key: event.currentTarget.value, keyModifiedByUser: true });\n\n  handleDescriptionChange = (event: React.SyntheticEvent<HTMLTextAreaElement>) =>\n    this.setState({ description: event.currentTarget.value });\n\n  handleTypeChange = ({ value }: { value: string }) => this.setState({ type: value });\n\n  handleSeverityChange = ({ value }: { value: string }) => this.setState({ severity: value });\n\n  handleStatusChange = ({ value }: { value: string }) => this.setState({ status: value });\n\n  handleParameterChange = (event: React.SyntheticEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    const { name, value } = event.currentTarget;\n    this.setState((state: State) => ({ params: { ...state.params, [name]: value } }));\n  };\n\n  renderNameField = () => (\n    <div className=\"modal-field\">\n      <label htmlFor=\"coding-rules-custom-rule-creation-name\">\n        {translate('name')} <em className=\"mandatory\">*</em>\n      </label>\n      <input\n        autoFocus={true}\n        disabled={this.state.submitting}\n        id=\"coding-rules-custom-rule-creation-name\"\n        onChange={this.handleNameChange}\n        required={true}\n        type=\"text\"\n        value={this.state.name}\n      />\n    </div>\n  );\n\n  renderKeyField = () => (\n    <div className=\"modal-field\">\n      <label htmlFor=\"coding-rules-custom-rule-creation-key\">\n        {translate('key')} {!this.props.customRule && <em className=\"mandatory\">*</em>}\n      </label>\n\n      {this.props.customRule ? (\n        <span className=\"coding-rules-detail-custom-rule-key\" title={this.props.customRule.key}>\n          {this.props.customRule.key}\n        </span>\n      ) : (\n        <input\n          disabled={this.state.submitting}\n          id=\"coding-rules-custom-rule-creation-key\"\n          onChange={this.handleKeyChange}\n          required={true}\n          type=\"text\"\n          value={this.state.key}\n        />\n      )}\n    </div>\n  );\n\n  renderDescriptionField = () => (\n    <div className=\"modal-field\">\n      <label htmlFor=\"coding-rules-custom-rule-creation-html-description\">\n        {translate('description')} <em className=\"mandatory\">*</em>\n      </label>\n      <textarea\n        disabled={this.state.submitting}\n        id=\"coding-rules-custom-rule-creation-html-description\"\n        onChange={this.handleDescriptionChange}\n        required={true}\n        rows={5}\n        value={this.state.description}\n      />\n      <MarkdownTips className=\"modal-field-descriptor text-right\" />\n    </div>\n  );\n\n  renderTypeOption = ({ value }: { value: T.RuleType }) => {\n    return <TypeHelper type={value} />;\n  };\n\n  renderTypeField = () => (\n    <div className=\"modal-field flex-1 spacer-right\">\n      <label htmlFor=\"coding-rules-custom-rule-type\">{translate('type')}</label>\n      <Select\n        clearable={false}\n        disabled={this.state.submitting}\n        id=\"coding-rules-custom-rule-type\"\n        onChange={this.handleTypeChange}\n        optionRenderer={this.renderTypeOption}\n        options={RULE_TYPES.map(type => ({\n          label: translate('issue.type', type),\n          value: type\n        }))}\n        searchable={false}\n        value={this.state.type}\n        valueRenderer={this.renderTypeOption}\n      />\n    </div>\n  );\n\n  renderSeverityOption = ({ value }: { value: string }) => <SeverityHelper severity={value} />;\n\n  renderSeverityField = () => (\n    <div className=\"modal-field flex-1 spacer-right\">\n      <label htmlFor=\"coding-rules-custom-rule-severity\">{translate('severity')}</label>\n      <Select\n        clearable={false}\n        disabled={this.state.submitting}\n        id=\"coding-rules-custom-rule-severity\"\n        onChange={this.handleSeverityChange}\n        optionRenderer={this.renderSeverityOption}\n        options={SEVERITIES.map(severity => ({\n          label: translate('severity', severity),\n          value: severity\n        }))}\n        searchable={false}\n        value={this.state.severity}\n        valueRenderer={this.renderSeverityOption}\n      />\n    </div>\n  );\n\n  renderStatusField = () => (\n    <div className=\"modal-field flex-1\">\n      <label htmlFor=\"coding-rules-custom-rule-status\">\n        {translate('coding_rules.filters.status')}\n      </label>\n      <Select\n        clearable={false}\n        disabled={this.state.submitting}\n        id=\"coding-rules-custom-rule-status\"\n        onChange={this.handleStatusChange}\n        options={RULE_STATUSES.map(status => ({\n          label: translate('rules.status', status),\n          value: status\n        }))}\n        searchable={false}\n        value={this.state.status}\n      />\n    </div>\n  );\n\n  renderParameterField = (param: T.RuleParameter) => (\n    <div className=\"modal-field\" key={param.key}>\n      <label className=\"capitalize\" htmlFor={param.key}>\n        {param.key}\n      </label>\n\n      {param.type === 'TEXT' ? (\n        <textarea\n          disabled={this.state.submitting}\n          id={param.key}\n          name={param.key}\n          onChange={this.handleParameterChange}\n          placeholder={param.defaultValue}\n          rows={3}\n          value={this.state.params[param.key] || ''}\n        />\n      ) : (\n        <input\n          disabled={this.state.submitting}\n          id={param.key}\n          name={param.key}\n          onChange={this.handleParameterChange}\n          placeholder={param.defaultValue}\n          type=\"text\"\n          value={this.state.params[param.key] || ''}\n        />\n      )}\n      <div\n        className=\"modal-field-description\"\n        dangerouslySetInnerHTML={{ __html: param.htmlDesc || '' }}\n      />\n    </div>\n  );\n\n  render() {\n    const { customRule, templateRule } = this.props;\n    const { reactivating, submitting } = this.state;\n    const { params = [] } = templateRule;\n    const header = customRule\n      ? translate('coding_rules.update_custom_rule')\n      : translate('coding_rules.create_custom_rule');\n    let submit = this.props.customRule ? translate('save') : translate('create');\n    if (this.state.reactivating) {\n      submit = translate('coding_rules.reactivate');\n    }\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose}>\n        <form onSubmit={this.handleFormSubmit}>\n          <div className=\"modal-head\">\n            <h2>{header}</h2>\n          </div>\n\n          <div className=\"modal-body modal-container\">\n            {reactivating && (\n              <Alert variant=\"warning\">{translate('coding_rules.reactivate.help')}</Alert>\n            )}\n\n            {this.renderNameField()}\n            {this.renderKeyField()}\n            <div className=\"display-flex-space-between\">\n              {/* do not allow to change the type of existing rule */}\n              {!customRule && this.renderTypeField()}\n              {this.renderSeverityField()}\n              {this.renderStatusField()}\n            </div>\n            {this.renderDescriptionField()}\n            {params.map(this.renderParameterField)}\n          </div>\n\n          <div className=\"modal-foot\">\n            {submitting && <i className=\"spinner spacer-right\" />}\n            <SubmitButton disabled={this.state.submitting}>{submit}</SubmitButton>\n            <ResetButtonLink\n              disabled={submitting}\n              id=\"coding-rules-custom-rule-creation-cancel\"\n              onClick={this.props.onClose}>\n              {translate('cancel')}\n            </ResetButtonLink>\n          </div>\n        </form>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport CustomRuleFormModal from './CustomRuleFormModal';\n\ninterface Props {\n  children: (props: { onClick: () => void }) => React.ReactNode;\n  customRule?: T.RuleDetails;\n  onDone: (newRuleDetails: T.RuleDetails) => void;\n  organization: string | undefined;\n  templateRule: T.RuleDetails;\n}\n\ninterface State {\n  modal: boolean;\n}\n\nexport default class CustomRuleButton extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { modal: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleClick = () => {\n    this.setState({ modal: true });\n  };\n\n  handleModalClose = () => {\n    if (this.mounted) {\n      this.setState({ modal: false });\n    }\n  };\n\n  handleDone = (newRuleDetails: T.RuleDetails) => {\n    this.handleModalClose();\n    this.props.onDone(newRuleDetails);\n  };\n\n  render() {\n    return (\n      <>\n        {this.props.children({ onClick: this.handleClick })}\n        {this.state.modal && (\n          <CustomRuleFormModal\n            customRule={this.props.customRule}\n            onClose={this.handleModalClose}\n            onDone={this.handleDone}\n            organization={this.props.organization}\n            templateRule={this.props.templateRule}\n          />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { sortBy } from 'lodash';\nimport CustomRuleButton from './CustomRuleButton';\nimport { searchRules, deleteRule } from '../../../api/rules';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport ConfirmButton from '../../../components/controls/ConfirmButton';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { Button } from '../../../components/ui/buttons';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { getRuleUrl } from '../../../helpers/urls';\n\ninterface Props {\n  canChange?: boolean;\n  organization: string | undefined;\n  ruleDetails: T.RuleDetails;\n}\n\ninterface State {\n  loading: boolean;\n  rules?: T.Rule[];\n}\n\nexport default class RuleDetailsCustomRules extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchRules();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.ruleDetails.key !== this.props.ruleDetails.key) {\n      this.fetchRules();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchRules = () => {\n    this.setState({ loading: true });\n    searchRules({\n      f: 'name,severity,params',\n      organization: this.props.organization,\n      template_key: this.props.ruleDetails.key\n    }).then(\n      ({ rules }) => {\n        if (this.mounted) {\n          this.setState({ rules, loading: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  handleRuleCreate = (newRuleDetails: T.RuleDetails) => {\n    if (this.mounted) {\n      this.setState(({ rules = [] }: State) => ({\n        rules: [...rules, newRuleDetails]\n      }));\n    }\n  };\n\n  handleRuleDelete = (ruleKey: string) => {\n    return deleteRule({ key: ruleKey, organization: this.props.organization }).then(() => {\n      if (this.mounted) {\n        this.setState(({ rules = [] }) => ({\n          rules: rules.filter(rule => rule.key !== ruleKey)\n        }));\n      }\n    });\n  };\n\n  renderRule = (rule: T.Rule) => (\n    <tr data-rule={rule.key} key={rule.key}>\n      <td className=\"coding-rules-detail-list-name\">\n        <Link to={getRuleUrl(rule.key, this.props.organization)}>{rule.name}</Link>\n      </td>\n\n      <td className=\"coding-rules-detail-list-severity\">\n        <SeverityHelper className=\"display-flex-center\" severity={rule.severity} />\n      </td>\n\n      <td className=\"coding-rules-detail-list-parameters\">\n        {rule.params &&\n          rule.params\n            .filter(param => param.defaultValue)\n            .map(param => (\n              <div className=\"coding-rules-detail-list-parameter\" key={param.key}>\n                <span className=\"key\">{param.key}</span>\n                <span className=\"sep\">:&nbsp;</span>\n                <span className=\"value\" title={param.defaultValue}>\n                  {param.defaultValue}\n                </span>\n              </div>\n            ))}\n      </td>\n\n      {this.props.canChange && (\n        <td className=\"coding-rules-detail-list-actions\">\n          <ConfirmButton\n            confirmButtonText={translate('delete')}\n            confirmData={rule.key}\n            isDestructive={true}\n            modalBody={translateWithParameters('coding_rules.delete.custom.confirm', rule.name)}\n            modalHeader={translate('coding_rules.delete_rule')}\n            onConfirm={this.handleRuleDelete}>\n            {({ onClick }) => (\n              <Button className=\"button-red js-delete-custom-rule\" onClick={onClick}>\n                {translate('delete')}\n              </Button>\n            )}\n          </ConfirmButton>\n        </td>\n      )}\n    </tr>\n  );\n\n  render() {\n    const { loading, rules = [] } = this.state;\n\n    return (\n      <div className=\"js-rule-custom-rules coding-rule-section\">\n        <div className=\"coding-rules-detail-custom-rules-section\">\n          <div className=\"coding-rule-section-separator\" />\n\n          <h3 className=\"coding-rules-detail-title\">{translate('coding_rules.custom_rules')}</h3>\n\n          {this.props.canChange && (\n            <CustomRuleButton\n              onDone={this.handleRuleCreate}\n              organization={this.props.organization}\n              templateRule={this.props.ruleDetails}>\n              {({ onClick }) => (\n                <Button className=\"js-create-custom-rule spacer-left\" onClick={onClick}>\n                  {translate('coding_rules.create')}\n                </Button>\n              )}\n            </CustomRuleButton>\n          )}\n\n          <DeferredSpinner className=\"spacer-left\" loading={loading}>\n            {rules.length > 0 && (\n              <table className=\"coding-rules-detail-list\" id=\"coding-rules-detail-custom-rules\">\n                <tbody>{sortBy(rules, rule => rule.name).map(this.renderRule)}</tbody>\n              </table>\n            )}\n          </DeferredSpinner>\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport { getFacet } from '../../../api/issues';\nimport { getIssuesUrl } from '../../../helpers/urls';\nimport { formatMeasure } from '../../../helpers/measures';\nimport { translate } from '../../../helpers/l10n';\nimport { withAppState } from '../../../components/hoc/withAppState';\n\ninterface Props {\n  appState: Pick<T.AppState, 'branchesEnabled'>;\n  organization: string | undefined;\n  ruleDetails: Pick<T.RuleDetails, 'key' | 'type'>;\n}\n\ninterface Project {\n  count: number;\n  key: string;\n  name: string;\n}\n\ninterface State {\n  loading: boolean;\n  projects?: Project[];\n  total?: number;\n}\n\nexport class RuleDetailsIssues extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchIssues();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.ruleDetails !== this.props.ruleDetails) {\n      this.fetchIssues();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  getBaseIssuesQuery = () => ({\n    resolved: 'false',\n    rules: this.props.ruleDetails.key,\n    types:\n      this.props.ruleDetails.type === 'SECURITY_HOTSPOT'\n        ? ['VULNERABILITY', 'SECURITY_HOTSPOT'].join()\n        : undefined\n  });\n\n  fetchIssues = () => {\n    this.setState({ loading: true });\n    getFacet(\n      { ...this.getBaseIssuesQuery(), organization: this.props.organization },\n      'projects'\n    ).then(\n      ({ facet, response }) => {\n        if (this.mounted) {\n          const { components = [], paging } = response;\n          const projects = [];\n          for (const item of facet) {\n            const project = components.find(component => component.key === item.val);\n            if (project) {\n              projects.push({ count: item.count, key: project.key, name: project.name });\n            }\n          }\n          this.setState({ projects, loading: false, total: paging.total });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  renderTotal = () => {\n    const { total } = this.state;\n    if (total === undefined) {\n      return null;\n    }\n    const path = getIssuesUrl(this.getBaseIssuesQuery(), this.props.organization);\n\n    const totalItem = (\n      <span className=\"little-spacer-left\">\n        {'('}\n        <Link to={path}>{total}</Link>\n        {')'}\n      </span>\n    );\n\n    if (!this.props.appState.branchesEnabled) {\n      return totalItem;\n    }\n\n    return (\n      <Tooltip overlay={translate('coding_rules.issues.only_main_branches')}>{totalItem}</Tooltip>\n    );\n  };\n\n  renderProject = (project: Project) => {\n    const path = getIssuesUrl(\n      { ...this.getBaseIssuesQuery(), projects: project.key },\n      this.props.organization\n    );\n    return (\n      <tr key={project.key}>\n        <td className=\"coding-rules-detail-list-name\">{project.name}</td>\n        <td className=\"coding-rules-detail-list-parameters\">\n          <Link to={path}>{formatMeasure(project.count, 'INT')}</Link>\n        </td>\n      </tr>\n    );\n  };\n\n  render() {\n    const { loading, projects = [] } = this.state;\n\n    return (\n      <div className=\"js-rule-issues coding-rule-section\">\n        <div className=\"coding-rule-section-separator\" />\n\n        <DeferredSpinner loading={loading}>\n          <h3 className=\"coding-rules-detail-title\">\n            {translate('coding_rules.issues')}\n            {this.renderTotal()}\n          </h3>\n\n          {projects.length > 0 && (\n            <table className=\"coding-rules-detail-list coding-rules-most-violated-projects\">\n              <tbody>\n                <tr>\n                  <td className=\"coding-rules-detail-list-name\" colSpan={2}>\n                    {translate('coding_rules.most_violating_projects')}\n                  </td>\n                </tr>\n                {projects.map(this.renderProject)}\n              </tbody>\n            </table>\n          )}\n        </DeferredSpinner>\n      </div>\n    );\n  }\n}\n\nexport default withAppState(RuleDetailsIssues);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  params: T.RuleParameter[];\n}\n\nexport default class RuleDetailsParameters extends React.PureComponent<Props> {\n  renderParameter = (param: T.RuleParameter) => (\n    <tr className=\"coding-rules-detail-parameter\" key={param.key}>\n      <td className=\"coding-rules-detail-parameter-name\">{param.key}</td>\n      <td className=\"coding-rules-detail-parameter-description\">\n        <p dangerouslySetInnerHTML={{ __html: param.htmlDesc || '' }} />\n        {param.defaultValue !== undefined && (\n          <div className=\"note spacer-top\">\n            {translate('coding_rules.parameters.default_value')}\n            <br />\n            <span className=\"coding-rules-detail-parameter-value\">{param.defaultValue}</span>\n          </div>\n        )}\n      </td>\n    </tr>\n  );\n\n  render() {\n    return (\n      <div className=\"js-rule-parameters\">\n        <h3 className=\"coding-rules-detail-title\">{translate('coding_rules.parameters')}</h3>\n        <table className=\"coding-rules-detail-parameters\">\n          <tbody>{this.props.params.map(this.renderParameter)}</tbody>\n        </table>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ActivationFormModal from './ActivationFormModal';\nimport { Profile as BaseProfile } from '../../../api/quality-profiles';\nimport { Button } from '../../../components/ui/buttons';\n\ninterface Props {\n  activation?: T.RuleActivation;\n  buttonText: string;\n  className?: string;\n  modalHeader: string;\n  onDone: (severity: string) => Promise<void>;\n  organization: string | undefined;\n  profiles: BaseProfile[];\n  rule: T.Rule | T.RuleDetails;\n}\n\ninterface State {\n  modal: boolean;\n}\n\nexport default class ActivationButton extends React.PureComponent<Props, State> {\n  state: State = { modal: false };\n\n  handleButtonClick = () => {\n    this.setState({ modal: true });\n  };\n\n  handleCloseModal = () => {\n    this.setState({ modal: false });\n  };\n\n  render() {\n    return (\n      <>\n        <Button\n          className={this.props.className}\n          id=\"coding-rules-quality-profile-activate\"\n          onClick={this.handleButtonClick}>\n          {this.props.buttonText}\n        </Button>\n\n        {this.state.modal && (\n          <ActivationFormModal\n            activation={this.props.activation}\n            modalHeader={this.props.modalHeader}\n            onClose={this.handleCloseModal}\n            onDone={this.props.onDone}\n            organization={this.props.organization}\n            profiles={this.props.profiles}\n            rule={this.props.rule}\n          />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as theme from '../../../app/theme';\n\ninterface Props {\n  className?: string;\n  inheritance: T.RuleInheritance;\n}\n\nexport default function RuleInheritanceIcon({ className, inheritance, ...other }: Props) {\n  const fill = inheritance === 'OVERRIDES' ? theme.red : theme.baseFontColor;\n\n  return (\n    <svg\n      className={className}\n      height={16}\n      version=\"1.1\"\n      viewBox=\"0 0 16 16\"\n      width={16}\n      xmlSpace=\"preserve\"\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n      {...other}>\n      <path\n        d=\"M6.25 12.5a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0zm0-9a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0zm5 1a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0zm.75 0a1.5 1.5 0 0 1-.75 1.297c-.023 2.82-2.023 3.445-3.352 3.867-1.242.39-1.648.578-1.648 1.336v.203A1.5 1.5 0 1 1 4 12.5a1.5 1.5 0 0 1 .75-1.297V4.797A1.5 1.5 0 1 1 7 3.5a1.5 1.5 0 0 1-.75 1.297V8.68c.398-.196.82-.328 1.203-.446 1.453-.46 2.281-.804 2.297-2.437A1.5 1.5 0 1 1 12 4.5z\"\n        style={{ fill, fillRule: 'nonzero' }}\n      />\n    </svg>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { filter } from 'lodash';\nimport { Link } from 'react-router';\nimport ActivationButton from './ActivationButton';\nimport RuleInheritanceIcon from './RuleInheritanceIcon';\nimport { Profile, deactivateRule, activateRule } from '../../../api/quality-profiles';\nimport ConfirmButton from '../../../components/controls/ConfirmButton';\nimport BuiltInQualityProfileBadge from '../../quality-profiles/components/BuiltInQualityProfileBadge';\nimport InstanceMessage from '../../../components/common/InstanceMessage';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport { Button } from '../../../components/ui/buttons';\nimport { getQualityProfileUrl } from '../../../helpers/urls';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\n\ninterface Props {\n  activations: T.RuleActivation[] | undefined;\n  canWrite: boolean | undefined;\n  onActivate: () => Promise<void>;\n  onDeactivate: () => Promise<void>;\n  organization: string | undefined;\n  referencedProfiles: T.Dict<Profile>;\n  ruleDetails: T.RuleDetails;\n}\n\nexport default class RuleDetailsProfiles extends React.PureComponent<Props> {\n  handleActivate = () => this.props.onActivate();\n\n  handleDeactivate = (key?: string) => {\n    if (key) {\n      deactivateRule({\n        key,\n        organization: this.props.organization,\n        rule: this.props.ruleDetails.key\n      }).then(this.props.onDeactivate, () => {});\n    }\n  };\n\n  handleRevert = (key?: string) => {\n    if (key) {\n      activateRule({\n        key,\n        organization: this.props.organization,\n        rule: this.props.ruleDetails.key,\n        reset: true\n      }).then(this.props.onActivate, () => {});\n    }\n  };\n\n  renderInheritedProfile = (activation: T.RuleActivation, profile: Profile) => {\n    if (!profile.parentName) {\n      return null;\n    }\n    const profilePath = getQualityProfileUrl(\n      profile.parentName,\n      profile.language,\n      this.props.organization\n    );\n    return (\n      <div className=\"coding-rules-detail-quality-profile-inheritance\">\n        {(activation.inherit === 'OVERRIDES' || activation.inherit === 'INHERITED') && (\n          <>\n            <RuleInheritanceIcon className=\"text-middle\" inheritance={activation.inherit} />\n            <Link className=\"link-base-color little-spacer-left text-middle\" to={profilePath}>\n              {profile.parentName}\n            </Link>\n          </>\n        )}\n      </div>\n    );\n  };\n\n  renderSeverity = (activation: T.RuleActivation, parentActivation?: T.RuleActivation) => (\n    <td className=\"coding-rules-detail-quality-profile-severity\">\n      <Tooltip overlay={translate('coding_rules.activation_severity')}>\n        <span>\n          <SeverityHelper className=\"display-inline-flex-center\" severity={activation.severity} />\n        </span>\n      </Tooltip>\n      {parentActivation !== undefined && activation.severity !== parentActivation.severity && (\n        <div className=\"coding-rules-detail-quality-profile-inheritance\">\n          {translate('coding_rules.original')} {translate('severity', parentActivation.severity)}\n        </div>\n      )}\n    </td>\n  );\n\n  renderParameter = (\n    param: { key: string; value: string },\n    parentActivation?: T.RuleActivation\n  ) => {\n    const originalParam =\n      parentActivation && parentActivation.params.find(p => p.key === param.key);\n    const originalValue = originalParam && originalParam.value;\n\n    return (\n      <div className=\"coding-rules-detail-quality-profile-parameter\" key={param.key}>\n        <span className=\"key\">{param.key}</span>\n        <span className=\"sep\">{': '}</span>\n        <span className=\"value\" title={param.value}>\n          {param.value}\n        </span>\n        {parentActivation && param.value !== originalValue && (\n          <div className=\"coding-rules-detail-quality-profile-inheritance\">\n            {translate('coding_rules.original')} <span className=\"value\">{originalValue}</span>\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  renderParameters = (activation: T.RuleActivation, parentActivation?: T.RuleActivation) => (\n    <td className=\"coding-rules-detail-quality-profile-parameters\">\n      {activation.params.map(param => this.renderParameter(param, parentActivation))}\n    </td>\n  );\n\n  renderActions = (activation: T.RuleActivation, profile: Profile) => {\n    const canEdit = profile.actions && profile.actions.edit && !profile.isBuiltIn;\n    const { ruleDetails } = this.props;\n    const hasParent = activation.inherit !== 'NONE' && profile.parentKey;\n    return (\n      <td className=\"coding-rules-detail-quality-profile-actions\">\n        {canEdit && (\n          <>\n            {!ruleDetails.isTemplate && (\n              <ActivationButton\n                activation={activation}\n                buttonText={translate('change_verb')}\n                className=\"coding-rules-detail-quality-profile-change\"\n                modalHeader={translate('coding_rules.change_details')}\n                onDone={this.handleActivate}\n                organization={this.props.organization}\n                profiles={[profile]}\n                rule={ruleDetails}\n              />\n            )}\n            {hasParent ? (\n              activation.inherit === 'OVERRIDES' &&\n              profile.parentName && (\n                <ConfirmButton\n                  confirmButtonText={translate('yes')}\n                  confirmData={profile.key}\n                  modalBody={translateWithParameters(\n                    'coding_rules.revert_to_parent_definition.confirm',\n                    profile.parentName\n                  )}\n                  modalHeader={translate('coding_rules.revert_to_parent_definition')}\n                  onConfirm={this.handleRevert}>\n                  {({ onClick }) => (\n                    <Button\n                      className=\"coding-rules-detail-quality-profile-revert button-red spacer-left\"\n                      onClick={onClick}>\n                      {translate('coding_rules.revert_to_parent_definition')}\n                    </Button>\n                  )}\n                </ConfirmButton>\n              )\n            ) : (\n              <ConfirmButton\n                confirmButtonText={translate('yes')}\n                confirmData={profile.key}\n                modalBody={translate('coding_rules.deactivate.confirm')}\n                modalHeader={translate('coding_rules.deactivate')}\n                onConfirm={this.handleDeactivate}>\n                {({ onClick }) => (\n                  <Button\n                    className=\"coding-rules-detail-quality-profile-deactivate button-red spacer-left\"\n                    onClick={onClick}>\n                    {translate('coding_rules.deactivate')}\n                  </Button>\n                )}\n              </ConfirmButton>\n            )}\n          </>\n        )}\n      </td>\n    );\n  };\n\n  renderActivation = (activation: T.RuleActivation) => {\n    const { activations = [], ruleDetails } = this.props;\n    const profile = this.props.referencedProfiles[activation.qProfile];\n    if (!profile) {\n      return null;\n    }\n\n    const parentActivation = activations.find(x => x.qProfile === profile.parentKey);\n\n    return (\n      <tr data-profile={profile.key} key={profile.key}>\n        <td className=\"coding-rules-detail-quality-profile-name\">\n          <Link to={getQualityProfileUrl(profile.name, profile.language, this.props.organization)}>\n            {profile.name}\n          </Link>\n          {profile.isBuiltIn && <BuiltInQualityProfileBadge className=\"spacer-left\" />}\n          {this.renderInheritedProfile(activation, profile)}\n        </td>\n\n        {this.renderSeverity(activation, parentActivation)}\n        {!ruleDetails.templateKey && this.renderParameters(activation, parentActivation)}\n        {this.renderActions(activation, profile)}\n      </tr>\n    );\n  };\n\n  render() {\n    const { activations = [], referencedProfiles, ruleDetails } = this.props;\n    const canActivate = Object.values(referencedProfiles).some(profile =>\n      Boolean(profile.actions && profile.actions.edit && profile.language === ruleDetails.lang)\n    );\n\n    return (\n      <div className=\"js-rule-profiles coding-rule-section\">\n        <div className=\"coding-rules-detail-quality-profiles-section\">\n          <div className=\"coding-rule-section-separator\" />\n\n          <h3 className=\"coding-rules-detail-title\">\n            <InstanceMessage message={translate('coding_rules.quality_profiles')} />\n          </h3>\n\n          {canActivate && (\n            <ActivationButton\n              buttonText={translate('coding_rules.activate')}\n              className=\"coding-rules-quality-profile-activate spacer-left\"\n              modalHeader={translate('coding_rules.activate_in_quality_profile')}\n              onDone={this.handleActivate}\n              organization={this.props.organization}\n              profiles={filter(\n                this.props.referencedProfiles,\n                profile => !activations.find(activation => activation.qProfile === profile.key)\n              )}\n              rule={ruleDetails}\n            />\n          )}\n\n          {activations.length > 0 && (\n            <table\n              className=\"coding-rules-detail-quality-profiles width-100\"\n              id=\"coding-rules-detail-quality-profiles\">\n              <tbody>{activations.map(this.renderActivation)}</tbody>\n            </table>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport CustomRuleButton from './CustomRuleButton';\nimport RuleDetailsCustomRules from './RuleDetailsCustomRules';\nimport RuleDetailsDescription from './RuleDetailsDescription';\nimport RuleDetailsIssues from './RuleDetailsIssues';\nimport RuleDetailsMeta from './RuleDetailsMeta';\nimport RuleDetailsParameters from './RuleDetailsParameters';\nimport RuleDetailsProfiles from './RuleDetailsProfiles';\nimport { Query, Activation } from '../query';\nimport { Profile } from '../../../api/quality-profiles';\nimport { getRuleDetails, deleteRule, updateRule } from '../../../api/rules';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport ConfirmButton from '../../../components/controls/ConfirmButton';\nimport DocTooltip from '../../../components/docs/DocTooltip';\nimport { Button } from '../../../components/ui/buttons';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\n\ninterface Props {\n  allowCustomRules?: boolean;\n  canWrite?: boolean;\n  hideQualityProfiles?: boolean;\n  onActivate: (profile: string, rule: string, activation: Activation) => void;\n  onDeactivate: (profile: string, rule: string) => void;\n  onDelete: (rule: string) => void;\n  onFilterChange: (changes: Partial<Query>) => void;\n  organization: string | undefined;\n  referencedProfiles: T.Dict<Profile>;\n  referencedRepositories: T.Dict<{ key: string; language: string; name: string }>;\n  ruleKey: string;\n  selectedProfile?: Profile;\n}\n\ninterface State {\n  actives?: T.RuleActivation[];\n  loading: boolean;\n  ruleDetails?: T.RuleDetails;\n}\n\nexport default class RuleDetails extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.setState({ loading: true });\n    this.fetchRuleDetails();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.ruleKey !== this.props.ruleKey) {\n      this.setState({ loading: true });\n      this.fetchRuleDetails();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchRuleDetails = () =>\n    getRuleDetails({\n      actives: true,\n      key: this.props.ruleKey,\n      organization: this.props.organization\n    }).then(\n      ({ actives, rule }) => {\n        if (this.mounted) {\n          this.setState({ actives, loading: false, ruleDetails: rule });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n\n  handleRuleChange = (ruleDetails: T.RuleDetails) => {\n    if (this.mounted) {\n      this.setState({ ruleDetails });\n    }\n  };\n\n  handleTagsChange = (tags: string[]) => {\n    // optimistic update\n    const oldTags = this.state.ruleDetails && this.state.ruleDetails.tags;\n    this.setState(state =>\n      state.ruleDetails ? { ruleDetails: { ...state.ruleDetails, tags } } : null\n    );\n    updateRule({\n      key: this.props.ruleKey,\n      organization: this.props.organization,\n      tags: tags.join()\n    }).catch(() => {\n      if (this.mounted) {\n        this.setState(state =>\n          state.ruleDetails ? { ruleDetails: { ...state.ruleDetails, tags: oldTags } } : null\n        );\n      }\n    });\n  };\n\n  handleActivate = () =>\n    this.fetchRuleDetails().then(() => {\n      const { ruleKey, selectedProfile } = this.props;\n      if (selectedProfile && this.state.actives) {\n        const active = this.state.actives.find(active => active.qProfile === selectedProfile.key);\n        if (active) {\n          this.props.onActivate(selectedProfile.key, ruleKey, active);\n        }\n      }\n    });\n\n  handleDeactivate = () =>\n    this.fetchRuleDetails().then(() => {\n      const { ruleKey, selectedProfile } = this.props;\n      if (selectedProfile && this.state.actives) {\n        if (!this.state.actives.find(active => active.qProfile === selectedProfile.key)) {\n          this.props.onDeactivate(selectedProfile.key, ruleKey);\n        }\n      }\n    });\n\n  handleDelete = () =>\n    deleteRule({ key: this.props.ruleKey, organization: this.props.organization }).then(() =>\n      this.props.onDelete(this.props.ruleKey)\n    );\n\n  render() {\n    const { ruleDetails } = this.state;\n\n    if (!ruleDetails) {\n      return <div className=\"coding-rule-details\" />;\n    }\n\n    const {\n      allowCustomRules,\n      canWrite,\n      hideQualityProfiles,\n      organization,\n      referencedProfiles\n    } = this.props;\n    const { params = [] } = ruleDetails;\n\n    const isCustom = !!ruleDetails.templateKey;\n    const isEditable = canWrite && !!this.props.allowCustomRules && isCustom;\n\n    return (\n      <div className=\"coding-rule-details\">\n        <DeferredSpinner loading={this.state.loading}>\n          <RuleDetailsMeta\n            canWrite={canWrite}\n            onFilterChange={this.props.onFilterChange}\n            onTagsChange={this.handleTagsChange}\n            organization={organization}\n            referencedRepositories={this.props.referencedRepositories}\n            ruleDetails={ruleDetails}\n          />\n\n          <RuleDetailsDescription\n            canWrite={canWrite}\n            onChange={this.handleRuleChange}\n            organization={organization}\n            ruleDetails={ruleDetails}\n          />\n\n          {params.length > 0 && <RuleDetailsParameters params={params} />}\n\n          {isEditable && (\n            <div className=\"coding-rules-detail-description display-flex-center\">\n              {/* `templateRule` is used to get rule meta data, `customRule` is used to get parameter values */}\n              {/* it's expected to pass the same rule to both parameters */}\n              <CustomRuleButton\n                customRule={ruleDetails}\n                onDone={this.handleRuleChange}\n                organization={organization}\n                templateRule={ruleDetails}>\n                {({ onClick }) => (\n                  <Button\n                    className=\"js-edit-custom\"\n                    id=\"coding-rules-detail-custom-rule-change\"\n                    onClick={onClick}>\n                    {translate('edit')}\n                  </Button>\n                )}\n              </CustomRuleButton>\n              <ConfirmButton\n                confirmButtonText={translate('delete')}\n                isDestructive={true}\n                modalBody={translateWithParameters(\n                  'coding_rules.delete.custom.confirm',\n                  ruleDetails.name\n                )}\n                modalHeader={translate('coding_rules.delete_rule')}\n                onConfirm={this.handleDelete}>\n                {({ onClick }) => (\n                  <>\n                    <Button\n                      className=\"button-red spacer-left js-delete\"\n                      id=\"coding-rules-detail-rule-delete\"\n                      onClick={onClick}>\n                      {translate('delete')}\n                    </Button>\n                    <DocTooltip\n                      className=\"spacer-left\"\n                      doc={import(/* webpackMode: \"eager\" */ 'Docs/tooltips/rules/custom-rule-removal.md')}\n                    />\n                  </>\n                )}\n              </ConfirmButton>\n            </div>\n          )}\n\n          {ruleDetails.isTemplate && (\n            <RuleDetailsCustomRules\n              canChange={allowCustomRules && canWrite}\n              organization={organization}\n              ruleDetails={ruleDetails}\n            />\n          )}\n\n          {!ruleDetails.isTemplate && !hideQualityProfiles && (\n            <RuleDetailsProfiles\n              activations={this.state.actives}\n              canWrite={canWrite}\n              onActivate={this.handleActivate}\n              onDeactivate={this.handleDeactivate}\n              organization={organization}\n              referencedProfiles={referencedProfiles}\n              ruleDetails={ruleDetails}\n            />\n          )}\n\n          {!ruleDetails.isTemplate && (\n            <RuleDetailsIssues organization={organization} ruleDetails={ruleDetails} />\n          )}\n        </DeferredSpinner>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { Link } from 'react-router';\nimport ActivationButton from './ActivationButton';\nimport RuleInheritanceIcon from './RuleInheritanceIcon';\nimport SimilarRulesFilter from './SimilarRulesFilter';\nimport { Activation, Query } from '../query';\nimport { Profile, deactivateRule } from '../../../api/quality-profiles';\nimport { Button } from '../../../components/ui/buttons';\nimport ConfirmButton from '../../../components/controls/ConfirmButton';\nimport IssueTypeIcon from '../../../components/ui/IssueTypeIcon';\nimport SeverityIcon from '../../../components/icons-components/SeverityIcon';\nimport TagsList from '../../../components/tags/TagsList';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { getRuleUrl } from '../../../helpers/urls';\n\ninterface Props {\n  activation?: Activation;\n  onActivate: (profile: string, rule: string, activation: Activation) => void;\n  onDeactivate: (profile: string, rule: string) => void;\n  onFilterChange: (changes: Partial<Query>) => void;\n  onOpen: (ruleKey: string) => void;\n  organization: string | undefined;\n  rule: T.Rule;\n  selected: boolean;\n  selectedProfile?: Profile;\n}\n\nexport default class RuleListItem extends React.PureComponent<Props> {\n  handleDeactivate = () => {\n    if (this.props.selectedProfile) {\n      const data = {\n        key: this.props.selectedProfile.key,\n        organization: this.props.organization,\n        rule: this.props.rule.key\n      };\n      deactivateRule(data).then(() => this.props.onDeactivate(data.key, data.rule), () => {});\n    }\n  };\n\n  handleActivate = (severity: string) => {\n    if (this.props.selectedProfile) {\n      this.props.onActivate(this.props.selectedProfile.key, this.props.rule.key, {\n        severity,\n        inherit: 'NONE'\n      });\n    }\n    return Promise.resolve();\n  };\n\n  handleNameClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    // cmd(ctrl) + click should open a rule permalink in a new tab\n    const isLeftClickEvent = event.button === 0;\n    const isModifiedEvent = !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n    if (isModifiedEvent || !isLeftClickEvent) {\n      return;\n    }\n\n    event.preventDefault();\n    this.props.onOpen(this.props.rule.key);\n  };\n\n  renderActivation = () => {\n    const { activation, selectedProfile } = this.props;\n    if (!activation) {\n      return null;\n    }\n\n    return (\n      <td className=\"coding-rule-table-meta-cell coding-rule-activation\">\n        <SeverityIcon severity={activation.severity} />\n        {selectedProfile && selectedProfile.parentName && (\n          <>\n            {activation.inherit === 'OVERRIDES' && (\n              <Tooltip\n                overlay={translateWithParameters(\n                  'coding_rules.overrides',\n                  selectedProfile.name,\n                  selectedProfile.parentName\n                )}>\n                <RuleInheritanceIcon\n                  className=\"little-spacer-left\"\n                  inheritance={activation.inherit}\n                />\n              </Tooltip>\n            )}\n            {activation.inherit === 'INHERITED' && (\n              <Tooltip\n                overlay={translateWithParameters(\n                  'coding_rules.inherits',\n                  selectedProfile.name,\n                  selectedProfile.parentName\n                )}>\n                <RuleInheritanceIcon\n                  className=\"little-spacer-left\"\n                  inheritance={activation.inherit}\n                />\n              </Tooltip>\n            )}\n          </>\n        )}\n      </td>\n    );\n  };\n\n  renderActions = () => {\n    const { activation, rule, selectedProfile } = this.props;\n    if (!selectedProfile) {\n      return null;\n    }\n\n    const canEdit = selectedProfile.actions && selectedProfile.actions.edit;\n    if (!canEdit || selectedProfile.isBuiltIn) {\n      return null;\n    }\n\n    return (\n      <td className=\"coding-rule-table-meta-cell coding-rule-activation-actions\">\n        {activation\n          ? this.renderDeactivateButton(activation.inherit)\n          : !rule.isTemplate && (\n              <ActivationButton\n                buttonText={translate('coding_rules.activate')}\n                className=\"coding-rules-detail-quality-profile-activate\"\n                modalHeader={translate('coding_rules.activate_in_quality_profile')}\n                onDone={this.handleActivate}\n                organization={this.props.organization}\n                profiles={[selectedProfile]}\n                rule={rule}\n              />\n            )}\n      </td>\n    );\n  };\n\n  renderDeactivateButton = (inherit: string) => {\n    return inherit === 'NONE' ? (\n      <ConfirmButton\n        confirmButtonText={translate('yes')}\n        modalBody={translate('coding_rules.deactivate.confirm')}\n        modalHeader={translate('coding_rules.deactivate')}\n        onConfirm={this.handleDeactivate}>\n        {({ onClick }) => (\n          <Button\n            className=\"coding-rules-detail-quality-profile-deactivate button-red\"\n            onClick={onClick}>\n            {translate('coding_rules.deactivate')}\n          </Button>\n        )}\n      </ConfirmButton>\n    ) : (\n      <Tooltip overlay={translate('coding_rules.can_not_deactivate')}>\n        <Button className=\"coding-rules-detail-quality-profile-deactivate button-red disabled\">\n          {translate('coding_rules.deactivate')}\n        </Button>\n      </Tooltip>\n    );\n  };\n\n  render() {\n    const { rule, selected } = this.props;\n    const allTags = [...(rule.tags || []), ...(rule.sysTags || [])];\n    return (\n      <div className={classNames('coding-rule', { selected })} data-rule={rule.key}>\n        <table className=\"coding-rule-table\">\n          <tbody>\n            <tr>\n              {this.renderActivation()}\n\n              <td>\n                <div className=\"coding-rule-title\">\n                  <Link\n                    className=\"link-no-underline\"\n                    onClick={this.handleNameClick}\n                    to={getRuleUrl(rule.key, this.props.organization)}>\n                    {rule.name}\n                  </Link>\n                  {rule.isTemplate && (\n                    <Tooltip overlay={translate('coding_rules.rule_template.title')}>\n                      <span className=\"outline-badge spacer-left\">\n                        {translate('coding_rules.rule_template')}\n                      </span>\n                    </Tooltip>\n                  )}\n                </div>\n              </td>\n\n              <td className=\"coding-rule-table-meta-cell\">\n                <div className=\"display-flex-center coding-rule-meta\">\n                  {rule.status !== 'READY' && (\n                    <span className=\"spacer-left badge badge-normal-size badge-tiny-height badge-danger-light\">\n                      {translate('rules.status', rule.status)}\n                    </span>\n                  )}\n                  <span className=\"spacer-left note\">{rule.langName}</span>\n                  <Tooltip overlay={translate('coding_rules.type.tooltip', rule.type)}>\n                    <span className=\"display-inline-flex-center spacer-left note\">\n                      <IssueTypeIcon className=\"little-spacer-right\" query={rule.type} />\n                      {translate('issue.type', rule.type)}\n                    </span>\n                  </Tooltip>\n                  {allTags.length > 0 && (\n                    <TagsList allowUpdate={false} className=\"note spacer-left\" tags={allTags} />\n                  )}\n                  <SimilarRulesFilter onFilterChange={this.props.onFilterChange} rule={rule} />\n                </div>\n              </td>\n\n              {this.renderActions()}\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet';\nimport { connect } from 'react-redux';\nimport { withRouter, WithRouterProps } from 'react-router';\nimport * as key from 'keymaster';\nimport { keyBy } from 'lodash';\nimport BulkChange from './BulkChange';\nimport FacetsList from './FacetsList';\nimport PageActions from './PageActions';\nimport RuleDetails from './RuleDetails';\nimport RuleListItem from './RuleListItem';\nimport Suggestions from '../../../app/components/embed-docs-modal/Suggestions';\nimport {\n  Facets,\n  Query,\n  parseQuery,\n  serializeQuery,\n  areQueriesEqual,\n  shouldRequestFacet,\n  FacetKey,\n  OpenFacets,\n  getServerFacet,\n  getAppFacet,\n  Actives,\n  Activation,\n  getOpen\n} from '../query';\nimport A11ySkipTarget from '../../../app/components/a11y/A11ySkipTarget';\nimport ScreenPositionHelper from '../../../components/common/ScreenPositionHelper';\nimport ListFooter from '../../../components/controls/ListFooter';\nimport FiltersHeader from '../../../components/common/FiltersHeader';\nimport SearchBox from '../../../components/controls/SearchBox';\nimport { searchRules, getRulesApp } from '../../../api/rules';\nimport { searchQualityProfiles, Profile } from '../../../api/quality-profiles';\nimport {\n  getCurrentUser,\n  getLanguages,\n  getMyOrganizations,\n  Store,\n  getAppState\n} from '../../../store/rootReducer';\nimport {\n  shouldOpenStandardsFacet,\n  shouldOpenSonarSourceSecurityFacet,\n  shouldOpenStandardsChildFacet,\n  STANDARDS\n} from '../../issues/utils';\nimport { translate } from '../../../helpers/l10n';\nimport { hasPrivateAccess } from '../../../helpers/organizations';\nimport {\n  addSideBarClass,\n  addWhitePageClass,\n  removeSideBarClass,\n  removeWhitePageClass\n} from '../../../helpers/pages';\nimport { RawQuery } from '../../../helpers/query';\nimport { scrollToElement } from '../../../helpers/scrolling';\nimport '../../../components/search-navigator.css';\nimport '../styles.css';\n\nconst PAGE_SIZE = 100;\nconst LIMIT_BEFORE_LOAD_MORE = 5;\n\ninterface StateToProps {\n  appState: T.AppState;\n  currentUser: T.CurrentUser;\n  languages: T.Languages;\n  userOrganizations: T.Organization[];\n}\n\ninterface OwnProps extends WithRouterProps {\n  organization: T.Organization | undefined;\n}\n\ntype Props = OwnProps & StateToProps;\n\ninterface State {\n  actives?: Actives;\n  canWrite?: boolean;\n  facets?: Facets;\n  loading: boolean;\n  openFacets: OpenFacets;\n  openRule?: T.Rule;\n  paging?: T.Paging;\n  query: Query;\n  referencedProfiles: T.Dict<Profile>;\n  referencedRepositories: T.Dict<{ key: string; language: string; name: string }>;\n  rules: T.Rule[];\n  selected?: string;\n}\n\nexport class App extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    const query = parseQuery(props.location.query);\n    this.state = {\n      loading: true,\n      openFacets: {\n        languages: true,\n        owaspTop10: shouldOpenStandardsChildFacet({}, query, 'owaspTop10'),\n        sansTop25: shouldOpenStandardsChildFacet({}, query, 'sansTop25'),\n        sonarsourceSecurity: shouldOpenSonarSourceSecurityFacet({}, query),\n        standards: shouldOpenStandardsFacet({}, query),\n        types: true\n      },\n      query,\n      referencedProfiles: {},\n      referencedRepositories: {},\n      rules: []\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    addWhitePageClass();\n    addSideBarClass();\n    this.attachShortcuts();\n    this.fetchInitialData();\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    this.setState(({ rules, selected }) => {\n      const openRule = this.getOpenRule(nextProps, rules);\n      return {\n        openRule,\n        query: parseQuery(nextProps.location.query),\n        selected: openRule ? openRule.key : selected\n      };\n    });\n  }\n\n  componentDidUpdate(prevProps: Props, prevState: State) {\n    if (!areQueriesEqual(prevProps.location.query, this.props.location.query)) {\n      this.fetchFirstRules();\n    }\n    if (\n      !this.state.openRule &&\n      (prevState.selected !== this.state.selected || prevState.openRule)\n    ) {\n      // if user simply selected another issue\n      // or if he went from the source code back to the list of issues\n      this.scrollToSelectedRule();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    removeWhitePageClass();\n    removeSideBarClass();\n    this.detachShortcuts();\n  }\n\n  attachShortcuts = () => {\n    key.setScope('coding-rules');\n    key('up', 'coding-rules', () => {\n      this.selectPreviousRule();\n      return false;\n    });\n    key('down', 'coding-rules', () => {\n      this.selectNextRule();\n      return false;\n    });\n    key('right', 'coding-rules', () => {\n      this.openSelectedRule();\n      return false;\n    });\n    key('left', 'coding-rules', () => {\n      this.closeRule();\n      return false;\n    });\n  };\n\n  detachShortcuts = () => key.deleteScope('coding-rules');\n\n  getOpenRule = (props: Props, rules: T.Rule[]) => {\n    const open = getOpen(props.location.query);\n    return open && rules.find(rule => rule.key === open);\n  };\n\n  getFacetsToFetch = () => {\n    const { openFacets } = this.state;\n    return Object.keys(openFacets)\n      .filter((facet: FacetKey) => openFacets[facet])\n      .filter((facet: FacetKey) => shouldRequestFacet(facet))\n      .map((facet: FacetKey) => getServerFacet(facet));\n  };\n\n  getFieldsToFetch = () => {\n    const fields = [\n      'isTemplate',\n      'name',\n      'lang',\n      'langName',\n      'severity',\n      'status',\n      'sysTags',\n      'tags',\n      'templateKey'\n    ];\n    if (this.state.query.profile) {\n      fields.push('actives', 'params');\n    }\n    return fields;\n  };\n\n  getSearchParameters = () => ({\n    f: this.getFieldsToFetch().join(),\n    facets: this.getFacetsToFetch().join(),\n    organization: this.props.organization && this.props.organization.key,\n    ps: PAGE_SIZE,\n    s: 'name',\n    ...serializeQuery(this.state.query)\n  });\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  fetchInitialData = () => {\n    this.setState({ loading: true });\n    const organization = this.props.organization && this.props.organization.key;\n    Promise.all([getRulesApp({ organization }), this.fetchQualityProfiles()]).then(\n      ([{ canWrite, repositories }, { profiles }]) => {\n        this.setState({\n          canWrite,\n          referencedProfiles: keyBy(profiles, 'key'),\n          referencedRepositories: keyBy(repositories, 'key')\n        });\n        this.fetchFirstRules();\n      },\n      this.stopLoading\n    );\n  };\n\n  makeFetchRequest = (query?: RawQuery) =>\n    searchRules({ ...this.getSearchParameters(), ...query }).then(\n      ({ actives: rawActives, facets: rawFacets, p, ps, rules, total }) => {\n        const actives = rawActives && parseActives(rawActives);\n        const facets = rawFacets && parseFacets(rawFacets);\n        const paging = { pageIndex: p, pageSize: ps, total };\n        return { actives, facets, paging, rules };\n      }\n    );\n\n  fetchFirstRules = (query?: RawQuery) => {\n    this.setState({ loading: true });\n    this.makeFetchRequest(query).then(({ actives, facets, paging, rules }) => {\n      if (this.mounted) {\n        const openRule = this.getOpenRule(this.props, rules);\n        const selected = rules.length > 0 ? (openRule && openRule.key) || rules[0].key : undefined;\n        this.setState({ actives, facets, loading: false, openRule, paging, rules, selected });\n      }\n    }, this.stopLoading);\n  };\n\n  fetchMoreRules = () => {\n    const { paging } = this.state;\n    if (paging) {\n      this.setState({ loading: true });\n      const nextPage = paging.pageIndex + 1;\n      this.makeFetchRequest({ p: nextPage, facets: undefined }).then(\n        ({ actives, paging, rules }) => {\n          if (this.mounted) {\n            this.setState((state: State) => ({\n              actives: { ...state.actives, ...actives },\n              loading: false,\n              paging,\n              rules: [...state.rules, ...rules]\n            }));\n          }\n        },\n        this.stopLoading\n      );\n    }\n  };\n\n  fetchFacet = (facet: FacetKey) => {\n    this.makeFetchRequest({ ps: 1, facets: getServerFacet(facet) }).then(({ facets }) => {\n      if (this.mounted) {\n        this.setState(state => ({ facets: { ...state.facets, ...facets }, loading: false }));\n      }\n    }, this.stopLoading);\n  };\n\n  fetchQualityProfiles = () => {\n    const { currentUser, organization, userOrganizations } = this.props;\n    if (hasPrivateAccess(currentUser, organization, userOrganizations)) {\n      return searchQualityProfiles({ organization: organization && organization.key });\n    }\n    return { profiles: [] };\n  };\n\n  getSelectedIndex = ({ selected, rules } = this.state) => {\n    const index = rules.findIndex(rule => rule.key === selected);\n    return index !== -1 ? index : undefined;\n  };\n\n  selectNextRule = () => {\n    const { rules, loading, paging } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    if (selectedIndex !== undefined) {\n      if (\n        selectedIndex > rules.length - LIMIT_BEFORE_LOAD_MORE &&\n        !loading &&\n        paging &&\n        rules.length < paging.total\n      ) {\n        this.fetchMoreRules();\n      }\n      if (rules && selectedIndex < rules.length - 1) {\n        if (this.state.openRule) {\n          this.openRule(rules[selectedIndex + 1].key);\n        } else {\n          this.setState({ selected: rules[selectedIndex + 1].key });\n        }\n      }\n    }\n  };\n\n  selectPreviousRule = () => {\n    const { rules } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    if (rules && selectedIndex !== undefined && selectedIndex > 0) {\n      if (this.state.openRule) {\n        this.openRule(rules[selectedIndex - 1].key);\n      } else {\n        this.setState({ selected: rules[selectedIndex - 1].key });\n      }\n    }\n  };\n\n  getRulePath = (rule: string) => ({\n    pathname: this.props.location.pathname,\n    query: { ...serializeQuery(this.state.query), open: rule }\n  });\n\n  openRule = (rule: string) => {\n    const path = this.getRulePath(rule);\n    if (this.state.openRule) {\n      this.props.router.replace(path);\n    } else {\n      this.props.router.push(path);\n    }\n  };\n\n  openSelectedRule = () => {\n    const { selected } = this.state;\n    if (selected) {\n      this.openRule(selected);\n    }\n  };\n\n  closeRule = () => {\n    this.props.router.push({\n      pathname: this.props.location.pathname,\n      query: {\n        ...serializeQuery(this.state.query),\n        open: undefined\n      }\n    });\n    this.scrollToSelectedRule(false);\n  };\n\n  scrollToSelectedRule = (smooth = true) => {\n    const { selected } = this.state;\n    if (selected) {\n      const element = document.querySelector(`[data-rule=\"${selected}\"]`);\n      if (element) {\n        scrollToElement(element, { topOffset: 150, bottomOffset: 100, smooth });\n      }\n    }\n  };\n\n  getRuleActivation = (rule: string) => {\n    const { actives, query } = this.state;\n    if (actives && actives[rule] && query.profile) {\n      return actives[rule][query.profile];\n    } else {\n      return undefined;\n    }\n  };\n\n  getSelectedProfile = () => {\n    const { query, referencedProfiles } = this.state;\n    if (query.profile) {\n      return referencedProfiles[query.profile];\n    } else {\n      return undefined;\n    }\n  };\n\n  closeFacet = (facet: string) =>\n    this.setState(state => ({\n      openFacets: { ...state.openFacets, [facet]: false }\n    }));\n\n  handleRuleOpen = (ruleKey: string) => {\n    this.props.router.push(this.getRulePath(ruleKey));\n  };\n\n  handleBack = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.closeRule();\n  };\n\n  handleFilterChange = (changes: Partial<Query>) => {\n    this.props.router.push({\n      pathname: this.props.location.pathname,\n      query: serializeQuery({ ...this.state.query, ...changes })\n    });\n\n    this.setState(({ openFacets }) => ({\n      openFacets: {\n        ...openFacets,\n        sonarsourceSecurity: shouldOpenSonarSourceSecurityFacet(openFacets, changes),\n        standards: shouldOpenStandardsFacet(openFacets, changes)\n      }\n    }));\n  };\n\n  handleFacetToggle = (property: string) => {\n    this.setState(state => {\n      const willOpenProperty = !state.openFacets[property];\n      const newState = {\n        loading: state.loading,\n        openFacets: { ...state.openFacets, [property]: willOpenProperty }\n      };\n\n      // Try to open sonarsource security \"subfacet\" by default if the standard facet is open\n      if (willOpenProperty && property === STANDARDS) {\n        newState.openFacets.sonarsourceSecurity = shouldOpenSonarSourceSecurityFacet(\n          newState.openFacets,\n          state.query\n        );\n        // Force loading of sonarsource security facet data\n        property = newState.openFacets.sonarsourceSecurity ? 'sonarsourceSecurity' : property;\n      }\n\n      if (shouldRequestFacet(property) && (!state.facets || !state.facets[property])) {\n        newState.loading = true;\n        this.fetchFacet(property);\n      }\n\n      return newState;\n    });\n  };\n\n  handleReload = () => this.fetchFirstRules();\n\n  handleReset = () => this.props.router.push({ pathname: this.props.location.pathname });\n\n  /** Tries to take rule by index, or takes the last one  */\n  pickRuleAround = (rules: T.Rule[], selectedIndex: number | undefined) => {\n    if (selectedIndex === undefined || rules.length === 0) {\n      return undefined;\n    }\n    if (selectedIndex >= 0 && selectedIndex < rules.length) {\n      return rules[selectedIndex].key;\n    }\n    return rules[rules.length - 1].key;\n  };\n\n  handleRuleDelete = (ruleKey: string) => {\n    if (this.state.query.ruleKey === ruleKey) {\n      this.handleReset();\n    } else {\n      this.setState(state => {\n        const rules = state.rules.filter(rule => rule.key !== ruleKey);\n        const selectedIndex = this.getSelectedIndex(state);\n        const selected = this.pickRuleAround(rules, selectedIndex);\n        return { rules, selected };\n      });\n      this.closeRule();\n    }\n  };\n\n  handleRuleActivate = (profile: string, rule: string, activation: Activation) =>\n    this.setState((state: State) => {\n      const { actives = {} } = state;\n      if (!actives[rule]) {\n        return { actives: { ...actives, [rule]: { [profile]: activation } } };\n      }\n\n      return { actives: { ...actives, [rule]: { ...actives[rule], [profile]: activation } } };\n    });\n\n  handleRuleDeactivate = (profile: string, rule: string) =>\n    this.setState(state => {\n      const { actives } = state;\n      if (actives && actives[rule]) {\n        const newRule = { ...actives[rule] };\n        delete newRule[profile];\n        return { actives: { ...actives, [rule]: newRule } };\n      }\n      return null;\n    });\n\n  handleSearch = (searchQuery: string) => this.handleFilterChange({ searchQuery });\n\n  isFiltered = () => Object.keys(serializeQuery(this.state.query)).length > 0;\n\n  render() {\n    const { paging, rules } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    const organization = this.props.organization && this.props.organization.key;\n    const hideQualityProfiles = !hasPrivateAccess(\n      this.props.currentUser,\n      this.props.organization,\n      this.props.userOrganizations\n    );\n    return (\n      <>\n        <Suggestions suggestions=\"coding_rules\" />\n        <Helmet title={translate('coding_rules.page')}>\n          <meta content=\"noindex\" name=\"robots\" />\n        </Helmet>\n        <div className=\"layout-page\" id=\"coding-rules-page\">\n          <ScreenPositionHelper className=\"layout-page-side-outer\">\n            {({ top }) => (\n              <div className=\"layout-page-side\" style={{ top }}>\n                <div className=\"layout-page-side-inner\">\n                  <div className=\"layout-page-filters\">\n                    <A11ySkipTarget\n                      anchor=\"rules_filters\"\n                      label={translate('coding_rules.skip_to_filters')}\n                      weight={10}\n                    />\n                    <FiltersHeader displayReset={this.isFiltered()} onReset={this.handleReset} />\n                    <SearchBox\n                      className=\"spacer-bottom\"\n                      id=\"coding-rules-search\"\n                      minLength={2}\n                      onChange={this.handleSearch}\n                      placeholder={translate('search.search_for_rules')}\n                      value={this.state.query.searchQuery || ''}\n                    />\n                    <FacetsList\n                      facets={this.state.facets}\n                      hideProfileFacet={hideQualityProfiles}\n                      onFacetToggle={this.handleFacetToggle}\n                      onFilterChange={this.handleFilterChange}\n                      openFacets={this.state.openFacets}\n                      organization={organization}\n                      organizationsEnabled={this.props.appState.organizationsEnabled}\n                      query={this.state.query}\n                      referencedProfiles={this.state.referencedProfiles}\n                      referencedRepositories={this.state.referencedRepositories}\n                      selectedProfile={this.getSelectedProfile()}\n                    />\n                  </div>\n                </div>\n              </div>\n            )}\n          </ScreenPositionHelper>\n\n          <div className=\"layout-page-main\">\n            <div className=\"layout-page-header-panel layout-page-main-header\">\n              <div className=\"layout-page-header-panel-inner layout-page-main-header-inner\">\n                <div className=\"layout-page-main-inner\">\n                  <A11ySkipTarget anchor=\"rules_main\" />\n                  {this.state.openRule ? (\n                    <a className=\"js-back\" href=\"#\" onClick={this.handleBack}>\n                      {translate('coding_rules.return_to_list')}\n                    </a>\n                  ) : (\n                    this.state.paging && (\n                      <BulkChange\n                        languages={this.props.languages}\n                        organization={organization}\n                        query={this.state.query}\n                        referencedProfiles={this.state.referencedProfiles}\n                        total={this.state.paging.total}\n                      />\n                    )\n                  )}\n                  <PageActions\n                    loading={this.state.loading}\n                    onReload={this.handleReload}\n                    paging={paging}\n                    selectedIndex={selectedIndex}\n                  />\n                </div>\n              </div>\n            </div>\n\n            <div className=\"layout-page-main-inner\">\n              {this.state.openRule ? (\n                <RuleDetails\n                  allowCustomRules={!this.props.appState.organizationsEnabled}\n                  canWrite={this.state.canWrite}\n                  hideQualityProfiles={hideQualityProfiles}\n                  onActivate={this.handleRuleActivate}\n                  onDeactivate={this.handleRuleDeactivate}\n                  onDelete={this.handleRuleDelete}\n                  onFilterChange={this.handleFilterChange}\n                  organization={organization}\n                  referencedProfiles={this.state.referencedProfiles}\n                  referencedRepositories={this.state.referencedRepositories}\n                  ruleKey={this.state.openRule.key}\n                  selectedProfile={this.getSelectedProfile()}\n                />\n              ) : (\n                <>\n                  {rules.map(rule => (\n                    <RuleListItem\n                      activation={this.getRuleActivation(rule.key)}\n                      key={rule.key}\n                      onActivate={this.handleRuleActivate}\n                      onDeactivate={this.handleRuleDeactivate}\n                      onFilterChange={this.handleFilterChange}\n                      onOpen={this.handleRuleOpen}\n                      organization={organization}\n                      rule={rule}\n                      selected={rule.key === this.state.selected}\n                      selectedProfile={this.getSelectedProfile()}\n                    />\n                  ))}\n                  {paging !== undefined && (\n                    <ListFooter\n                      count={rules.length}\n                      loadMore={this.fetchMoreRules}\n                      ready={!this.state.loading}\n                      total={paging.total}\n                    />\n                  )}\n                </>\n              )}\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nfunction parseActives(rawActives: T.Dict<T.RuleActivation[]>) {\n  const actives: Actives = {};\n  for (const [rule, activations] of Object.entries(rawActives)) {\n    actives[rule] = {};\n    for (const { inherit, qProfile, severity } of activations) {\n      actives[rule][qProfile] = { inherit, severity };\n    }\n  }\n  return actives;\n}\n\nfunction parseFacets(rawFacets: { property: string; values: { count: number; val: string }[] }[]) {\n  const facets: Facets = {};\n  for (const rawFacet of rawFacets) {\n    const values: T.Dict<number> = {};\n    for (const rawValue of rawFacet.values) {\n      values[rawValue.val] = rawValue.count;\n    }\n    facets[getAppFacet(rawFacet.property)] = values;\n  }\n  return facets;\n}\n\nconst mapStateToProps = (state: Store) => ({\n  appState: getAppState(state),\n  currentUser: getCurrentUser(state),\n  languages: getLanguages(state),\n  userOrganizations: getMyOrganizations(state)\n});\n\nexport default withRouter(connect(mapStateToProps)(App));\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Tooltip, { Placement } from './Tooltip';\nimport HelpIcon from '../icons-components/HelpIcon';\nimport * as theme from '../../app/theme';\nimport './HelpTooltip.css';\n\ninterface Props {\n  className?: string;\n  children?: React.ReactNode;\n  onShow?: () => void;\n  overlay: React.ReactNode;\n  placement?: Placement;\n  tagName?: string;\n}\n\nexport default function HelpTooltip(props: Props) {\n  const { children = <HelpIcon fill={theme.gray71} size={12} />, tagName = 'div' } = props;\n\n  return React.createElement(\n    tagName,\n    { className: classNames('help-tooltip', props.className) },\n    <Tooltip\n      mouseLeaveDelay={0.25}\n      onShow={props.onShow}\n      overlay={props.overlay}\n      placement={props.placement}>\n      <span className=\"display-inline-flex-center\">{children}</span>\n    </Tooltip>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { SuggestionsContext } from './SuggestionsContext';\n\ninterface Props {\n  suggestions: string;\n}\n\nexport default function Suggestions({ suggestions }: Props) {\n  return (\n    <SuggestionsContext.Consumer>\n      {({ addSuggestions, removeSuggestions }) => (\n        <SuggestionsInner\n          addSuggestions={addSuggestions}\n          removeSuggestions={removeSuggestions}\n          suggestions={suggestions}\n        />\n      )}\n    </SuggestionsContext.Consumer>\n  );\n}\n\ninterface SuggestionsInnerProps {\n  addSuggestions: (key: string) => void;\n  removeSuggestions: (key: string) => void;\n  suggestions: string;\n}\n\nclass SuggestionsInner extends React.PureComponent<SuggestionsInnerProps> {\n  componentDidMount() {\n    this.props.addSuggestions(this.props.suggestions);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.suggestions !== this.props.suggestions) {\n      this.props.removeSuggestions(this.props.suggestions);\n      this.props.addSuggestions(prevProps.suggestions);\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.removeSuggestions(this.props.suggestions);\n  }\n\n  render() {\n    return null;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Modal, { ModalProps } from './Modal';\n\nexport interface ChildrenProps {\n  onCloseClick: (event?: React.SyntheticEvent<HTMLElement>) => void;\n  onFormSubmit: (event: React.SyntheticEvent<HTMLFormElement>) => void;\n  onSubmitClick: (event?: React.SyntheticEvent<HTMLElement>) => void;\n  submitting: boolean;\n}\n\ninterface Props extends ModalProps {\n  children: (props: ChildrenProps) => React.ReactNode;\n  header: string;\n  onClose: () => void;\n  onSubmit: () => void | Promise<void>;\n}\n\ninterface State {\n  submitting: boolean;\n}\n\nexport default class SimpleModal extends React.Component<Props, State> {\n  mounted = false;\n  state: State = { submitting: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  stopSubmitting = () => {\n    if (this.mounted) {\n      this.setState({ submitting: false });\n    }\n  };\n\n  handleCloseClick = (event?: React.SyntheticEvent<HTMLElement>) => {\n    if (event) {\n      event.preventDefault();\n      event.currentTarget.blur();\n    }\n    this.props.onClose();\n  };\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    this.submit();\n  };\n\n  handleSubmitClick = (event?: React.SyntheticEvent<HTMLElement>) => {\n    if (event) {\n      event.preventDefault();\n      event.currentTarget.blur();\n    }\n    this.submit();\n  };\n\n  submit = () => {\n    const result = this.props.onSubmit();\n    if (result) {\n      this.setState({ submitting: true });\n      result.then(this.stopSubmitting, this.stopSubmitting);\n    }\n  };\n\n  render() {\n    const { children, header, onClose, onSubmit, ...modalProps } = this.props;\n    return (\n      <Modal contentLabel={header} onRequestClose={onClose} {...modalProps}>\n        {children({\n          onCloseClick: this.handleCloseClick,\n          onFormSubmit: this.handleFormSubmit,\n          onSubmitClick: this.handleSubmitClick,\n          submitting: this.state.submitting\n        })}\n      </Modal>\n    );\n  }\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./HelpTooltip.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./HelpTooltip.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./HelpTooltip.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".help-tooltip{display:inline-flex;align-items:center;vertical-align:middle}.help-toolip-link{display:block;width:12px;height:12px;border:none}\", \"\"]);\n\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport HelpTooltip from '../controls/HelpTooltip';\nimport { lazyLoad } from '../lazyLoad';\n\nconst DocMarkdownBlock = lazyLoad(() => import('./DocMarkdownBlock'));\n\ninterface Props {\n  className?: string;\n  children?: React.ReactNode;\n  // Use as `import(/* webpackMode: \"eager\" */ 'Docs/tooltips/foo/bar.md')`\n  doc: Promise<{ default: string }>;\n  overlayProps?: T.Dict<string>;\n}\n\ninterface State {\n  content?: string;\n  open: boolean;\n}\n\nexport default class DocTooltip extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { open: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.props.doc.then(\n      ({ default: content }) => {\n        if (this.mounted) {\n          this.setState({ content });\n        }\n      },\n      () => {}\n    );\n    document.addEventListener('scroll', this.close, true);\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    document.removeEventListener('scroll', this.close, true);\n  }\n\n  close = () => {\n    if (this.mounted) {\n      this.setState({ open: false });\n    }\n  };\n\n  render() {\n    return this.state.content ? (\n      <HelpTooltip\n        className={this.props.className}\n        overlay={\n          <div className=\"abs-width-300\">\n            <DocMarkdownBlock\n              childProps={this.props.overlayProps}\n              className=\"cut-margins\"\n              content={this.state.content}\n              isTooltip={true}\n            />\n          </div>\n        }>\n        {this.props.children}\n      </HelpTooltip>\n    ) : (\n      this.props.children || null\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { A11yContext } from './A11yContext';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  anchor: string;\n  label?: string;\n  weight?: number;\n}\n\nexport default function A11ySkipTarget(props: Props) {\n  return (\n    <A11yContext.Consumer>\n      {({ addA11ySkipLink, removeA11ySkipLink }) => (\n        <A11ySkipTargetInner\n          addA11ySkipLink={addA11ySkipLink}\n          removeA11ySkipLink={removeA11ySkipLink}\n          {...props}\n        />\n      )}\n    </A11yContext.Consumer>\n  );\n}\n\ninterface InnerProps {\n  addA11ySkipLink: (link: T.A11ySkipLink) => void;\n  removeA11ySkipLink: (link: T.A11ySkipLink) => void;\n}\n\nexport class A11ySkipTargetInner extends React.PureComponent<Props & InnerProps> {\n  componentDidMount() {\n    this.props.addA11ySkipLink(this.getLink());\n  }\n\n  componentWillUnmount() {\n    this.props.removeA11ySkipLink(this.getLink());\n  }\n\n  getLink = (): T.A11ySkipLink => {\n    const { anchor: key, label = translate('skip_to_content'), weight } = this.props;\n    return { key, label, weight };\n  };\n\n  render() {\n    const { anchor } = this.props;\n    return <span id={`a11y_target__${anchor}`} />;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ModalProps } from './Modal';\nimport SimpleModal, { ChildrenProps } from './SimpleModal';\nimport DeferredSpinner from '../common/DeferredSpinner';\nimport { SubmitButton, ResetButtonLink } from '../ui/buttons';\nimport { translate } from '../../helpers/l10n';\n\nexport interface ConfirmModalProps<T> extends ModalProps {\n  cancelButtonText?: string;\n  confirmButtonText: string;\n  confirmData?: T;\n  confirmDisable?: boolean;\n  isDestructive?: boolean;\n  onConfirm: (data?: T) => void | Promise<void | Response>;\n}\n\ninterface Props<T> extends ConfirmModalProps<T> {\n  header: string;\n  headerDescription?: React.ReactNode;\n  onClose: () => void;\n}\n\nexport default class ConfirmModal<T = string> extends React.PureComponent<Props<T>> {\n  mounted = false;\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleSubmit = () => {\n    const result = this.props.onConfirm(this.props.confirmData);\n    if (result) {\n      return result.then(this.props.onClose, () => {});\n    } else {\n      this.props.onClose();\n      return undefined;\n    }\n  };\n\n  renderModalContent = ({ onCloseClick, onFormSubmit, submitting }: ChildrenProps) => {\n    const {\n      children,\n      confirmButtonText,\n      confirmDisable,\n      header,\n      headerDescription,\n      isDestructive,\n      cancelButtonText = translate('cancel')\n    } = this.props;\n    return (\n      <form onSubmit={onFormSubmit}>\n        <header className=\"modal-head\">\n          <h2>{header}</h2>\n          {headerDescription}\n        </header>\n        <div className=\"modal-body\">{children}</div>\n        <footer className=\"modal-foot\">\n          <DeferredSpinner className=\"spacer-right\" loading={submitting} />\n          <SubmitButton\n            autoFocus={true}\n            className={isDestructive ? 'button-red' : undefined}\n            disabled={submitting || confirmDisable}>\n            {confirmButtonText}\n          </SubmitButton>\n          <ResetButtonLink disabled={submitting} onClick={onCloseClick}>\n            {cancelButtonText}\n          </ResetButtonLink>\n        </footer>\n      </form>\n    );\n  };\n\n  render() {\n    const { header, onClose, noBackdrop, size } = this.props;\n    const modalProps = { header, onClose, noBackdrop, size };\n    return (\n      <SimpleModal onSubmit={this.handleSubmit} {...modalProps}>\n        {this.renderModalContent}\n      </SimpleModal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nconst CLASS_SIDEBAR_PAGE = 'sidebar-page';\nconst CLASS_WHITE_PAGE = 'white-page';\n\nexport function addSideBarClass() {\n  toggleBodyClass(CLASS_SIDEBAR_PAGE, true);\n}\n\nexport function addWhitePageClass() {\n  toggleBodyClass(CLASS_WHITE_PAGE, true);\n}\n\nexport function removeSideBarClass() {\n  toggleBodyClass(CLASS_SIDEBAR_PAGE, false);\n}\n\nexport function removeWhitePageClass() {\n  toggleBodyClass(CLASS_WHITE_PAGE, false);\n}\n\nfunction toggleBodyClass(className: string, force?: boolean) {\n  document.body.classList.toggle(className, force);\n  if (document.documentElement) {\n    document.documentElement.classList.toggle(className, force);\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport DeferredSpinner from '../common/DeferredSpinner';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\nimport { formatMeasure } from '../../helpers/measures';\n\ninterface Props {\n  count: number;\n  className?: string;\n  loading?: boolean;\n  loadMore?: () => void;\n  ready?: boolean;\n  total?: number;\n}\n\nexport default function ListFooter({ ready = true, ...props }: Props) {\n  const handleLoadMore = (event: React.SyntheticEvent<HTMLElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (props.loadMore) {\n      props.loadMore();\n    }\n  };\n\n  const hasMore = props.total && props.total > props.count;\n  const loadMoreLink = (\n    <a className=\"spacer-left\" href=\"#\" onClick={handleLoadMore}>\n      {translate('show_more')}\n    </a>\n  );\n  const className = classNames(\n    'spacer-top note text-center',\n    { 'new-loading': !ready },\n    props.className\n  );\n\n  return (\n    <footer className={className}>\n      {translateWithParameters(\n        'x_of_y_shown',\n        formatMeasure(props.count, 'INT', null),\n        formatMeasure(props.total, 'INT', null)\n      )}\n      {props.loadMore != null && hasMore ? loadMoreLink : null}\n      {props.loading && <DeferredSpinner className=\"text-bottom spacer-left position-absolute\" />}\n    </footer>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { map } from 'lodash';\nimport { csvEscape } from '../helpers/csv';\nimport {\n  request,\n  checkStatus,\n  parseJSON,\n  getJSON,\n  post,\n  postJSON,\n  RequestData\n} from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport interface ProfileActions {\n  associateProjects?: boolean;\n  copy?: boolean;\n  delete?: boolean;\n  edit?: boolean;\n  setAsDefault?: boolean;\n}\n\nexport interface Actions {\n  create?: boolean;\n}\n\nexport interface Profile {\n  actions?: ProfileActions;\n  key: string;\n  name: string;\n  language: string;\n  languageName: string;\n  isInherited?: boolean;\n  parentKey?: string;\n  parentName?: string;\n  isDefault?: boolean;\n  activeRuleCount: number;\n  activeDeprecatedRuleCount: number;\n  rulesUpdatedAt?: string;\n  lastUsed?: string;\n  userUpdatedAt?: string;\n  organization: string;\n  isBuiltIn?: boolean;\n  projectCount?: number;\n}\n\nexport interface SearchQualityProfilesParameters {\n  defaults?: boolean;\n  language?: string;\n  organization?: string;\n  project?: string;\n  qualityProfile?: string;\n}\n\nexport interface SearchQualityProfilesResponse {\n  actions?: Actions;\n  profiles: Profile[];\n}\n\nexport function searchQualityProfiles(\n  parameters: SearchQualityProfilesParameters\n): Promise<SearchQualityProfilesResponse> {\n  return getJSON('/api/qualityprofiles/search', parameters).catch(throwGlobalError);\n}\n\nexport function getQualityProfile(data: {\n  compareToSonarWay?: boolean;\n  profile: string;\n}): Promise<any> {\n  return getJSON('/api/qualityprofiles/show', data);\n}\n\nexport function createQualityProfile(data: RequestData): Promise<any> {\n  return request('/api/qualityprofiles/create')\n    .setMethod('post')\n    .setData(data)\n    .submit()\n    .then(checkStatus)\n    .then(parseJSON)\n    .catch(throwGlobalError);\n}\n\nexport function restoreQualityProfile(data: RequestData): Promise<any> {\n  return request('/api/qualityprofiles/restore')\n    .setMethod('post')\n    .setData(data)\n    .submit()\n    .then(checkStatus)\n    .then(parseJSON)\n    .catch(throwGlobalError);\n}\n\nexport interface ProfileProject {\n  id: number;\n  key: string;\n  name: string;\n  selected: boolean;\n}\n\nexport function getProfileProjects(\n  data: RequestData\n): Promise<{ more: boolean; paging: T.Paging; results: ProfileProject[] }> {\n  return getJSON('/api/qualityprofiles/projects', data).catch(throwGlobalError);\n}\n\nexport function getProfileInheritance(profileKey: string): Promise<any> {\n  return getJSON('/api/qualityprofiles/inheritance', { profileKey }).catch(throwGlobalError);\n}\n\nexport function setDefaultProfile(profileKey: string): Promise<void> {\n  return post('/api/qualityprofiles/set_default', { profileKey });\n}\n\nexport function renameProfile(key: string, name: string) {\n  return post('/api/qualityprofiles/rename', { key, name }).catch(throwGlobalError);\n}\n\nexport function copyProfile(fromKey: string, toName: string): Promise<any> {\n  return postJSON('/api/qualityprofiles/copy', { fromKey, toName }).catch(throwGlobalError);\n}\n\nexport function deleteProfile(profileKey: string) {\n  return post('/api/qualityprofiles/delete', { profileKey }).catch(throwGlobalError);\n}\n\nexport function changeProfileParent(profileKey: string, parentKey: string) {\n  return post('/api/qualityprofiles/change_parent', { profileKey, parentKey }).catch(\n    throwGlobalError\n  );\n}\n\nexport function getImporters(): Promise<\n  Array<{ key: string; languages: Array<string>; name: string }>\n> {\n  return getJSON('/api/qualityprofiles/importers').then(r => r.importers, throwGlobalError);\n}\n\nexport function getExporters(): Promise<any> {\n  return getJSON('/api/qualityprofiles/exporters').then(r => r.exporters);\n}\n\nexport function getProfileChangelog(data: RequestData): Promise<any> {\n  return getJSON('/api/qualityprofiles/changelog', data);\n}\n\nexport interface CompareResponse {\n  left: { name: string };\n  right: { name: string };\n  inLeft: Array<{ key: string; name: string; severity: string }>;\n  inRight: Array<{ key: string; name: string; severity: string }>;\n  modified: Array<{\n    key: string;\n    name: string;\n    left: { params: T.Dict<string>; severity: string };\n    right: { params: T.Dict<string>; severity: string };\n  }>;\n}\n\nexport function compareProfiles(leftKey: string, rightKey: string): Promise<CompareResponse> {\n  return getJSON('/api/qualityprofiles/compare', { leftKey, rightKey });\n}\n\nexport function associateProject(key: string, project: string) {\n  return post('/api/qualityprofiles/add_project', { key, project }).catch(throwGlobalError);\n}\n\nexport function dissociateProject(key: string, project: string) {\n  return post('/api/qualityprofiles/remove_project', { key, project }).catch(throwGlobalError);\n}\n\nexport interface SearchUsersGroupsParameters {\n  language: string;\n  organization?: string;\n  qualityProfile: string;\n  q?: string;\n  selected?: 'all' | 'selected' | 'deselected';\n}\n\nexport interface SearchUsersResponse {\n  users: Array<{\n    avatar?: string;\n    login: string;\n    name: string;\n    selected?: boolean;\n  }>;\n  paging: T.Paging;\n}\n\nexport function searchUsers(parameters: SearchUsersGroupsParameters): Promise<SearchUsersResponse> {\n  return getJSON('/api/qualityprofiles/search_users', parameters).catch(throwGlobalError);\n}\n\nexport interface SearchGroupsResponse {\n  groups: Array<{ name: string }>;\n  paging: T.Paging;\n}\n\nexport function searchGroups(\n  parameters: SearchUsersGroupsParameters\n): Promise<SearchGroupsResponse> {\n  return getJSON('/api/qualityprofiles/search_groups', parameters).catch(throwGlobalError);\n}\n\nexport interface AddRemoveUserParameters {\n  language: string;\n  login: string;\n  organization?: string;\n  qualityProfile: string;\n}\n\nexport function addUser(parameters: AddRemoveUserParameters): Promise<void | Response> {\n  return post('/api/qualityprofiles/add_user', parameters).catch(throwGlobalError);\n}\n\nexport function removeUser(parameters: AddRemoveUserParameters): Promise<void | Response> {\n  return post('/api/qualityprofiles/remove_user', parameters).catch(throwGlobalError);\n}\n\nexport interface AddRemoveGroupParameters {\n  group: string;\n  language: string;\n  organization?: string;\n  qualityProfile: string;\n}\n\nexport function addGroup(parameters: AddRemoveGroupParameters): Promise<void | Response> {\n  return post('/api/qualityprofiles/add_group', parameters).catch(throwGlobalError);\n}\n\nexport function removeGroup(parameters: AddRemoveGroupParameters): Promise<void | Response> {\n  return post('/api/qualityprofiles/remove_group', parameters).catch(throwGlobalError);\n}\n\nexport interface BulkActivateParameters {\n  activation?: boolean;\n  active_severities?: string;\n  asc?: boolean;\n  available_since?: string;\n  compareToProfile?: string;\n  inheritance?: string;\n  is_template?: string;\n  languages?: string;\n  organization: string | undefined;\n  q?: string;\n  qprofile?: string;\n  repositories?: string;\n  rule_key?: string;\n  s?: string;\n  severities?: string;\n  statuses?: string;\n  tags?: string;\n  targetKey: string;\n  targetSeverity?: string;\n  template_key?: string;\n  types?: string;\n}\n\nexport function bulkActivateRules(data: BulkActivateParameters) {\n  return postJSON('/api/qualityprofiles/activate_rules', data);\n}\n\nexport function bulkDeactivateRules(data: BulkActivateParameters) {\n  return postJSON('/api/qualityprofiles/deactivate_rules', data);\n}\n\nexport function activateRule(data: {\n  key: string;\n  organization: string | undefined;\n  params?: T.Dict<string>;\n  reset?: boolean;\n  rule: string;\n  severity?: string;\n}) {\n  const params =\n    data.params && map(data.params, (value, key) => `${key}=${csvEscape(value)}`).join(';');\n  return post('/api/qualityprofiles/activate_rule', { ...data, params }).catch(throwGlobalError);\n}\n\nexport function deactivateRule(data: {\n  key: string;\n  organization: string | undefined;\n  rule: string;\n}) {\n  return post('/api/qualityprofiles/deactivate_rule', data).catch(throwGlobalError);\n}\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ConfirmModal, { ConfirmModalProps } from './ConfirmModal';\nimport ModalButton, { ChildrenProps, ModalProps } from './ModalButton';\n\ninterface Props<T> extends ConfirmModalProps<T> {\n  children: (props: ChildrenProps) => React.ReactNode;\n  modalBody: React.ReactNode;\n  modalHeader: string;\n  modalHeaderDescription?: React.ReactNode;\n}\n\ninterface State {\n  modal: boolean;\n}\n\nexport default class ConfirmButton<T> extends React.PureComponent<Props<T>, State> {\n  renderConfirmModal = ({ onClose }: ModalProps) => {\n    const {\n      children,\n      modalBody,\n      modalHeader,\n      modalHeaderDescription,\n      ...confirmModalProps\n    } = this.props;\n    return (\n      <ConfirmModal\n        header={modalHeader}\n        headerDescription={modalHeaderDescription}\n        onClose={onClose}\n        {...confirmModalProps}>\n        {modalBody}\n      </ConfirmModal>\n    );\n  };\n\n  render() {\n    return <ModalButton modal={this.renderConfirmModal}>{this.props.children}</ModalButton>;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\nexport interface ChildrenProps {\n  onClick: () => void;\n  onFormSubmit: (event: React.FormEvent<HTMLFormElement>) => void;\n}\n\nexport interface ModalProps {\n  onClose: () => void;\n}\n\nexport interface Props {\n  children: (props: ChildrenProps) => React.ReactNode;\n  modal: (props: ModalProps) => React.ReactNode;\n}\n\ninterface State {\n  modal: boolean;\n}\n\nexport default class ModalButton extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { modal: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleButtonClick = () => {\n    this.setState({ modal: true });\n  };\n\n  handleFormSubmit = (event?: React.FormEvent<HTMLFormElement>) => {\n    if (event) {\n      event.preventDefault();\n    }\n    this.setState({ modal: true });\n  };\n\n  handleCloseModal = () => {\n    if (this.mounted) {\n      this.setState({ modal: false });\n    }\n  };\n\n  render() {\n    return (\n      <>\n        {this.props.children({\n          onClick: this.handleButtonClick,\n          onFormSubmit: this.handleFormSubmit\n        })}\n        {this.state.modal && this.props.modal({ onClose: this.handleCloseModal })}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { post, getJSON, postJSON } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport interface GetRulesAppResponse {\n  canWrite?: boolean;\n  repositories: { key: string; language: string; name: string }[];\n}\n\nexport function getRulesApp(data: {\n  organization: string | undefined;\n}): Promise<GetRulesAppResponse> {\n  return getJSON('/api/rules/app', data).catch(throwGlobalError);\n}\n\nexport interface SearchRulesResponse {\n  actives?: T.Dict<T.RuleActivation[]>;\n  facets?: { property: string; values: { count: number; val: string }[] }[];\n  p: number;\n  ps: number;\n  rules: T.Rule[];\n  total: number;\n}\n\nexport function searchRules(data: {\n  organization: string | undefined;\n  [x: string]: any;\n}): Promise<SearchRulesResponse> {\n  return getJSON('/api/rules/search', data).catch(throwGlobalError);\n}\n\nexport function takeFacet(response: any, property: string) {\n  const facet = response.facets.find((facet: any) => facet.property === property);\n  return facet ? facet.values : [];\n}\n\nexport function getRuleDetails(parameters: {\n  actives?: boolean;\n  key: string;\n  organization: string | undefined;\n}): Promise<{ actives?: T.RuleActivation[]; rule: T.RuleDetails }> {\n  return getJSON('/api/rules/show', parameters).catch(throwGlobalError);\n}\n\nexport function getRuleTags(parameters: {\n  organization: string | undefined;\n  ps?: number;\n  q: string;\n}): Promise<string[]> {\n  return getJSON('/api/rules/tags', parameters).then(r => r.tags, throwGlobalError);\n}\n\nexport function createRule(data: {\n  custom_key: string;\n  markdown_description: string;\n  name: string;\n  organization: string | undefined;\n  params?: string;\n  prevent_reactivation?: boolean;\n  severity?: string;\n  status?: string;\n  template_key: string;\n  type?: string;\n}): Promise<T.RuleDetails> {\n  return postJSON('/api/rules/create', data).then(\n    r => r.rule,\n    error => {\n      // do not show global error if the status code is 409\n      // this case should be handled inside a component\n      if (error && error.response && error.response.status === 409) {\n        return Promise.reject(error.response);\n      } else {\n        return throwGlobalError(error);\n      }\n    }\n  );\n}\n\nexport function deleteRule(parameters: { key: string; organization: string | undefined }) {\n  return post('/api/rules/delete', parameters).catch(throwGlobalError);\n}\n\nexport function updateRule(data: {\n  key: string;\n  markdown_description?: string;\n  markdown_note?: string;\n  name?: string;\n  organization: string | undefined;\n  params?: string;\n  remediation_fn_base_effort?: string;\n  remediation_fn_type?: string;\n  remediation_fy_gap_multiplier?: string;\n  severity?: string;\n  status?: string;\n  tags?: string;\n}): Promise<T.RuleDetails> {\n  return postJSON('/api/rules/update', data).then(r => r.rule, throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\n\ninterface Props {\n  className?: string;\n  children: React.ReactNode;\n  property: string;\n}\n\nexport default function FacetBox(props: Props) {\n  return (\n    <div\n      className={classNames('search-navigator-facet-box', props.className)}\n      data-property={props.property}>\n      {props.children}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport OpenCloseIcon from '../icons-components/OpenCloseIcon';\nimport HelpTooltip from '../controls/HelpTooltip';\nimport { Button } from '../ui/buttons';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\n\ninterface Props {\n  children?: React.ReactNode;\n  clearLabel?: string;\n  helper?: string;\n  name: React.ReactNode;\n  onClear?: () => void;\n  onClick?: () => void;\n  open: boolean;\n  values?: string[];\n}\n\nexport default class FacetHeader extends React.PureComponent<Props> {\n  handleClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.onClick) {\n      this.props.onClick();\n    }\n  };\n\n  renderHelper() {\n    if (!this.props.helper) {\n      return null;\n    }\n    return <HelpTooltip className=\"spacer-left\" overlay={this.props.helper} />;\n  }\n\n  renderValueIndicator() {\n    const { values } = this.props;\n    if (!values || !values.length) {\n      return null;\n    }\n    const value =\n      values.length === 1 ? values[0] : translateWithParameters('x_selected', values.length);\n    return (\n      <span className=\"badge badge-secondary is-rounded text-ellipsis\" title={value}>\n        {value}\n      </span>\n    );\n  }\n\n  render() {\n    const showClearButton =\n      this.props.values != null && this.props.values.length > 0 && this.props.onClear != null;\n\n    return (\n      <div className=\"search-navigator-facet-header-wrapper\">\n        {this.props.onClick ? (\n          <span className=\"search-navigator-facet-header display-flex-center\">\n            <a href=\"#\" onClick={this.handleClick}>\n              <OpenCloseIcon className=\"little-spacer-right\" open={this.props.open} />\n              {this.props.name}\n            </a>\n            {this.renderHelper()}\n          </span>\n        ) : (\n          <span className=\"search-navigator-facet-header display-flex-center\">\n            {this.props.name}\n            {this.renderHelper()}\n          </span>\n        )}\n\n        {this.props.children}\n\n        <span className=\"search-navigator-facet-header-value spacer-left spacer-right \">\n          {this.renderValueIndicator()}\n        </span>\n\n        {showClearButton && (\n          <Button\n            className=\"search-navigator-facet-header-button button-small button-red\"\n            onClick={this.props.onClear}>\n            {translate(this.props.clearLabel || 'clear')}\n          </Button>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\n\nexport interface Props {\n  active?: boolean;\n  className?: string;\n  disabled?: boolean;\n  halfWidth?: boolean;\n  name: React.ReactNode;\n  onClick: (x: string, multiple?: boolean) => void;\n  stat?: React.ReactNode;\n  /** Textual version of `name` */\n  tooltip?: string;\n  value: string;\n}\n\nexport default class FacetItem extends React.PureComponent<Props> {\n  static defaultProps = {\n    disabled: false,\n    halfWidth: false,\n    loading: false\n  };\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onClick(this.props.value, event.ctrlKey || event.metaKey);\n  };\n\n  renderValue() {\n    if (this.props.stat == null) {\n      return null;\n    }\n\n    return <span className=\"facet-stat\">{this.props.stat}</span>;\n  }\n\n  render() {\n    const { name } = this.props;\n    const className = classNames('search-navigator-facet', this.props.className, {\n      active: this.props.active,\n      'search-navigator-facet-half': this.props.halfWidth\n    });\n\n    return this.props.disabled ? (\n      <span className={className} data-facet={this.props.value} title={this.props.tooltip}>\n        <span className=\"facet-name\">{name}</span>\n        {this.renderValue()}\n      </span>\n    ) : (\n      <a\n        className={className}\n        data-facet={this.props.value}\n        href=\"#\"\n        onClick={this.handleClick}\n        title={this.props.tooltip}>\n        <span className=\"facet-name\">{name}</span>\n        {this.renderValue()}\n      </a>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function csvEscape(value: string): string {\n  const escaped = value.replace(/\"/g, '\\\\\"');\n  return `\"${escaped}\"`;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\ninterface Props {\n  children?: React.ReactNode;\n  title?: string;\n}\n\nexport default function FacetItemsList({ children, title }: Props) {\n  return (\n    <div className=\"search-navigator-facet-list\">\n      {title && <div className=\"search-navigator-facet-list-title\">{title}</div>}\n      {children}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function ChevronDownIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M7.72 11.596L3.119 6.992A.382.382 0 0 1 3 6.713c0-.108.04-.2.118-.279l1.03-1.03a.382.382 0 0 1 .278-.117c.108 0 .201.04.28.117L8 8.7l3.294-3.295a.382.382 0 0 1 .28-.117c.108 0 .2.04.279.117l1.03 1.03a.382.382 0 0 1 .117.28c0 .107-.04.2-.118.278L8.28 11.596a.382.382 0 0 1-.279.117.382.382 0 0 1-.28-.117z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { debounce } from 'lodash';\n\ninterface Props {\n  className?: string;\n  children: (position: { top: number; left: number }) => React.ReactElement<any>;\n}\n\nexport default class ScreenPositionHelper extends React.PureComponent<Props> {\n  container?: HTMLDivElement;\n  debouncedOnResize: () => void;\n\n  constructor(props: Props) {\n    super(props);\n    this.debouncedOnResize = debounce(() => this.forceUpdate(), 250);\n  }\n\n  componentDidMount() {\n    this.forceUpdate();\n    window.addEventListener('resize', this.debouncedOnResize);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.debouncedOnResize);\n  }\n\n  getPosition = () => {\n    const containerPos = this.container && this.container.getBoundingClientRect();\n    if (!containerPos) {\n      return { top: 0, left: 0 };\n    }\n    return {\n      top: window.pageYOffset + containerPos.top,\n      left: window.pageXOffset + containerPos.left\n    };\n  };\n\n  render() {\n    return (\n      <div\n        className={this.props.className}\n        ref={container => (this.container = container as HTMLDivElement)}>\n        {this.props.children(this.getPosition())}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { isLoggedIn } from './users';\n\nexport function isPaidOrganization(organization: T.Organization | undefined): boolean {\n  return Boolean(organization && organization.subscription === 'PAID');\n}\n\nexport function hasPrivateAccess(\n  currentUser: T.CurrentUser,\n  organization: T.Organization | undefined,\n  userOrganizations: T.Organization[]\n): boolean {\n  return (\n    !isPaidOrganization(organization) ||\n    isCurrentUserMemberOf(currentUser, organization, userOrganizations)\n  );\n}\n\nexport function isCurrentUserMemberOf(\n  currentUser: T.CurrentUser,\n  organization: T.Organization | undefined,\n  userOrganizations: T.Organization[]\n): boolean {\n  return Boolean(\n    organization &&\n      isLoggedIn(currentUser) &&\n      ((organization.actions && organization.actions.admin) ||\n        userOrganizations.some(org => org.key === organization.key))\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\nimport { formatMeasure } from '../../helpers/measures';\n\ninterface Props {\n  className?: string;\n  count: number;\n  showMore: () => void;\n  showLess: (() => void) | undefined;\n  total: number;\n}\n\nexport default class ListStyleFacetFooter extends React.PureComponent<Props> {\n  handleShowMoreClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.showMore();\n  };\n\n  handleShowLessClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.showLess) {\n      this.props.showLess();\n    }\n  };\n\n  render() {\n    const { count, total } = this.props;\n    const hasMore = total > count;\n    const allShown = Boolean(total && total === count);\n\n    return (\n      <footer className=\"note spacer-top spacer-bottom text-center\">\n        {translateWithParameters('x_show', formatMeasure(count, 'INT', null))}\n\n        {hasMore && (\n          <a className=\"spacer-left text-muted\" href=\"#\" onClick={this.handleShowMoreClick}>\n            {translate('show_more')}\n          </a>\n        )}\n\n        {this.props.showLess && allShown && (\n          <a className=\"spacer-left text-muted\" href=\"#\" onClick={this.handleShowLessClick}>\n            {translate('show_less')}\n          </a>\n        )}\n      </footer>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { sortBy, without } from 'lodash';\nimport FacetBox from './FacetBox';\nimport FacetHeader from './FacetHeader';\nimport FacetItem from './FacetItem';\nimport FacetItemsList from './FacetItemsList';\nimport ListStyleFacetFooter from './ListStyleFacetFooter';\nimport MultipleSelectionHint from './MultipleSelectionHint';\nimport { Alert } from '../ui/Alert';\nimport DeferredSpinner from '../common/DeferredSpinner';\nimport ListFooter from '../controls/ListFooter';\nimport SearchBox from '../controls/SearchBox';\nimport Tooltip from '../controls/Tooltip';\nimport { formatMeasure } from '../../helpers/measures';\nimport { queriesEqual, RawQuery } from '../../helpers/query';\nimport { translate } from '../../helpers/l10n';\n\ninterface SearchResponse<S> {\n  maxResults?: boolean;\n  results: S[];\n  paging?: T.Paging;\n}\n\nexport interface Props<S> {\n  className?: string;\n  disabled?: boolean;\n  disabledHelper?: string;\n  facetHeader: string;\n  fetching: boolean;\n  getFacetItemText: (item: string) => string;\n  getSearchResultKey: (result: S) => string;\n  getSearchResultText: (result: S) => string;\n  loadSearchResultCount?: (result: S[]) => Promise<T.Dict<number>>;\n  maxInitialItems: number;\n  maxItems: number;\n  minSearchLength: number;\n  onChange: (changes: T.Dict<string | string[]>) => void;\n  onClear?: () => void;\n  onItemClick?: (itemValue: string, multiple: boolean) => void;\n  onSearch: (query: string, page?: number) => Promise<SearchResponse<S>>;\n  onToggle: (property: string) => void;\n  open: boolean;\n  property: string;\n  query?: RawQuery;\n  renderFacetItem: (item: string) => React.ReactNode;\n  renderSearchResult: (result: S, query: string) => React.ReactNode;\n  searchPlaceholder: string;\n  getSortedItems?: () => string[];\n  stats: T.Dict<number> | undefined;\n  values: string[];\n}\n\ninterface State<S> {\n  autoFocus: boolean;\n  query: string;\n  searching: boolean;\n  searchMaxResults?: boolean;\n  searchPaging?: T.Paging;\n  searchResults?: S[];\n  searchResultsCounts: T.Dict<number>;\n  showFullList: boolean;\n}\n\nexport default class ListStyleFacet<S> extends React.Component<Props<S>, State<S>> {\n  mounted = false;\n\n  static defaultProps = {\n    maxInitialItems: 15,\n    maxItems: 100,\n    minSearchLength: 2\n  };\n\n  state: State<S> = {\n    autoFocus: false,\n    query: '',\n    searching: false,\n    searchResultsCounts: {},\n    showFullList: false\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentDidUpdate(prevProps: Props<S>) {\n    if (!prevProps.open && this.props.open) {\n      // focus search field *only* if it was manually open\n      this.setState({ autoFocus: true });\n    } else if (\n      (prevProps.open && !this.props.open) ||\n      !queriesEqual(prevProps.query || {}, this.props.query || {})\n    ) {\n      // reset state when closing the facet, or when query changes\n      this.setState({\n        query: '',\n        searchMaxResults: undefined,\n        searchResults: undefined,\n        searching: false,\n        searchResultsCounts: {},\n        showFullList: false\n      });\n    } else if (\n      prevProps.stats !== this.props.stats &&\n      Object.keys(this.props.stats || {}).length < this.props.maxInitialItems\n    ) {\n      // show limited list if `stats` changed and there are less than 15 items\n      this.setState({ showFullList: false });\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    if (this.props.onItemClick) {\n      this.props.onItemClick(itemValue, multiple);\n    } else {\n      const { values } = this.props;\n      if (multiple) {\n        const newValue = sortBy(\n          values.includes(itemValue) ? without(values, itemValue) : [...values, itemValue]\n        );\n        this.props.onChange({ [this.props.property]: newValue });\n      } else {\n        this.props.onChange({\n          [this.props.property]: values.includes(itemValue) && values.length < 2 ? [] : [itemValue]\n        });\n      }\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.props.property);\n  };\n\n  handleClear = () => {\n    if (this.props.onClear) {\n      this.props.onClear();\n    } else this.props.onChange({ [this.props.property]: [] });\n  };\n\n  stopSearching = () => {\n    if (this.mounted) {\n      this.setState({ searching: false });\n    }\n  };\n\n  search = (query: string) => {\n    if (query.length >= this.props.minSearchLength) {\n      this.setState({ query, searching: true });\n      this.props\n        .onSearch(query)\n        .then(this.loadCountsForSearchResults)\n        .then(({ maxResults, paging, results, stats }) => {\n          if (this.mounted) {\n            this.setState(state => ({\n              searching: false,\n              searchMaxResults: maxResults,\n              searchResults: results,\n              searchPaging: paging,\n              searchResultsCounts: { ...state.searchResultsCounts, ...stats }\n            }));\n          }\n        })\n        .catch(this.stopSearching);\n    } else {\n      this.setState({ query, searching: false, searchResults: [] });\n    }\n  };\n\n  searchMore = () => {\n    const { query, searchPaging, searchResults } = this.state;\n    if (query && searchResults && searchPaging) {\n      this.setState({ searching: true });\n      this.props\n        .onSearch(query, searchPaging.pageIndex + 1)\n        .then(this.loadCountsForSearchResults)\n        .then(({ paging, results, stats }) => {\n          if (this.mounted) {\n            this.setState(state => ({\n              searching: false,\n              searchResults: [...searchResults, ...results],\n              searchPaging: paging,\n              searchResultsCounts: { ...state.searchResultsCounts, ...stats }\n            }));\n          }\n        })\n        .catch(this.stopSearching);\n    }\n  };\n\n  loadCountsForSearchResults = (response: SearchResponse<S>) => {\n    const { loadSearchResultCount = () => Promise.resolve({}) } = this.props;\n    const resultsToLoad = response.results.filter(result => {\n      const key = this.props.getSearchResultKey(result);\n      return this.getStat(key) === undefined && this.state.searchResultsCounts[key] === undefined;\n    });\n    if (resultsToLoad.length > 0) {\n      return loadSearchResultCount(resultsToLoad).then(stats => ({ ...response, stats }));\n    } else {\n      return { ...response, stats: {} };\n    }\n  };\n\n  getStat(item: string) {\n    const { stats } = this.props;\n    return stats && stats[item] !== undefined ? stats && stats[item] : undefined;\n  }\n\n  showFullList = () => {\n    this.setState({ showFullList: true });\n  };\n\n  hideFullList = () => {\n    this.setState({ showFullList: false });\n  };\n\n  renderList() {\n    const { stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const sortedItems = this.props.getSortedItems\n      ? this.props.getSortedItems()\n      : sortBy(Object.keys(stats), key => -stats[key], key => this.props.getFacetItemText(key));\n\n    const limitedList = this.state.showFullList\n      ? sortedItems\n      : sortedItems.slice(0, this.props.maxInitialItems);\n\n    // make sure all selected items are displayed\n    const selectedBelowLimit = this.state.showFullList\n      ? []\n      : sortedItems\n          .slice(this.props.maxInitialItems)\n          .filter(item => this.props.values.includes(item));\n\n    const mightHaveMoreResults = sortedItems.length >= this.props.maxItems;\n\n    return (\n      <>\n        <FacetItemsList>\n          {limitedList.map(item => (\n            <FacetItem\n              active={this.props.values.includes(item)}\n              key={item}\n              name={this.props.renderFacetItem(item)}\n              onClick={this.handleItemClick}\n              stat={formatFacetStat(this.getStat(item))}\n              tooltip={this.props.getFacetItemText(item)}\n              value={item}\n            />\n          ))}\n        </FacetItemsList>\n        {selectedBelowLimit.length > 0 && (\n          <>\n            <div className=\"note spacer-bottom text-center\">⋯</div>\n            <FacetItemsList>\n              {selectedBelowLimit.map(item => (\n                <FacetItem\n                  active={true}\n                  key={item}\n                  name={this.props.renderFacetItem(item)}\n                  onClick={this.handleItemClick}\n                  stat={formatFacetStat(this.getStat(item))}\n                  tooltip={this.props.getFacetItemText(item)}\n                  value={item}\n                />\n              ))}\n            </FacetItemsList>\n          </>\n        )}\n        <ListStyleFacetFooter\n          count={limitedList.length + selectedBelowLimit.length}\n          showLess={this.state.showFullList ? this.hideFullList : undefined}\n          showMore={this.showFullList}\n          total={sortedItems.length}\n        />\n        {mightHaveMoreResults && this.state.showFullList && (\n          <Alert className=\"spacer-top\" variant=\"warning\">\n            {translate('facet_might_have_more_results')}\n          </Alert>\n        )}\n      </>\n    );\n  }\n\n  renderSearch() {\n    if (!this.props.stats || !Object.keys(this.props.stats).length) {\n      return null;\n    }\n\n    return (\n      <SearchBox\n        autoFocus={this.state.autoFocus}\n        className=\"little-spacer-top spacer-bottom\"\n        loading={this.state.searching}\n        minLength={this.props.minSearchLength}\n        onChange={this.search}\n        placeholder={this.props.searchPlaceholder}\n        value={this.state.query}\n      />\n    );\n  }\n\n  renderSearchResults() {\n    const { searching, searchMaxResults, searchResults, searchPaging } = this.state;\n\n    if (!searching && (!searchResults || !searchResults.length)) {\n      return <div className=\"note spacer-bottom\">{translate('no_results')}</div>;\n    }\n\n    if (!searchResults) {\n      // initial search\n      return null;\n    }\n\n    return (\n      <>\n        <FacetItemsList>\n          {searchResults.map(result => this.renderSearchResult(result))}\n        </FacetItemsList>\n        {searchMaxResults && (\n          <Alert className=\"spacer-top\" variant=\"warning\">\n            {translate('facet_might_have_more_results')}\n          </Alert>\n        )}\n        {searchPaging && (\n          <ListFooter\n            className=\"spacer-bottom\"\n            count={searchResults.length}\n            loadMore={this.searchMore}\n            ready={!searching}\n            total={searchPaging.total}\n          />\n        )}\n      </>\n    );\n  }\n\n  renderSearchResult(result: S) {\n    const key = this.props.getSearchResultKey(result);\n    const active = this.props.values.includes(key);\n    const stat = this.getStat(key) || this.state.searchResultsCounts[key];\n    const disabled = !active && stat === 0;\n    return (\n      <FacetItem\n        active={active}\n        disabled={disabled}\n        key={key}\n        name={this.props.renderSearchResult(result, this.state.query)}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={this.props.getSearchResultText(result)}\n        value={key}\n      />\n    );\n  }\n\n  render() {\n    const { disabled, stats = {} } = this.props;\n    const { query, searching, searchResults } = this.state;\n    const values = this.props.values.map(item => this.props.getFacetItemText(item));\n    const loadingResults =\n      query !== '' && searching && (searchResults === undefined || searchResults.length === 0);\n    const showList = !query || loadingResults;\n    return (\n      <FacetBox\n        className={classNames(this.props.className, {\n          'search-navigator-facet-box-forbidden': disabled\n        })}\n        property={this.props.property}>\n        <FacetHeader\n          name={\n            <Tooltip overlay={disabled ? this.props.disabledHelper : undefined}>\n              <span>{this.props.facetHeader}</span>\n            </Tooltip>\n          }\n          onClear={this.handleClear}\n          onClick={disabled ? undefined : this.handleHeaderClick}\n          open={this.props.open && !disabled}\n          values={values}\n        />\n\n        <DeferredSpinner loading={this.props.fetching} />\n        {this.props.open && !disabled && (\n          <>\n            {this.renderSearch()}\n            {showList ? this.renderList() : this.renderSearchResults()}\n            <MultipleSelectionHint options={Object.keys(stats).length} values={values.length} />\n          </>\n        )}\n      </FacetBox>\n    );\n  }\n}\n\nfunction formatFacetStat(stat: number | undefined) {\n  return stat && formatMeasure(stat, 'SHORT_INT');\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { IconProps } from './Icon';\nimport ChevronDownIcon from './ChevronDownIcon';\nimport ChevronRightIcon from './ChevronRightcon';\n\ninterface Props extends IconProps {\n  open: boolean;\n}\n\nexport default function OpenCloseIcon({ open, ...props }: Props) {\n  return open ? <ChevronDownIcon {...props} /> : <ChevronRightIcon {...props} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\nexport function highlightTerm(str: string, term: string) {\n  const pos = str.toLowerCase().indexOf(term.toLowerCase());\n  return pos !== -1 ? (\n    <>\n      {pos > 0 && str.substring(0, pos)}\n      <mark>{str.substr(pos, term.length)}</mark>\n      {pos + term.length < str.length && str.substring(pos + term.length)}\n    </>\n  ) : (\n    str\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { getWrappedDisplayName } from './utils';\nimport { Store, getAppState } from '../../store/rootReducer';\n\nexport function withAppState<P>(\n  WrappedComponent: React.ComponentClass<P & { appState: Partial<T.AppState> }>\n) {\n  class Wrapper extends React.Component<P & { appState: T.AppState }> {\n    static displayName = getWrappedDisplayName(WrappedComponent, 'withAppState');\n\n    render() {\n      return <WrappedComponent {...this.props} />;\n    }\n  }\n\n  function mapStateToProps(state: Store) {\n    return { appState: getAppState(state) };\n  }\n\n  return connect(mapStateToProps)(Wrapper);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../helpers/l10n';\nimport './MultipleSelectionHint.css';\n\ninterface Props {\n  options: number;\n  values: number;\n}\n\nexport default function MultipleSelectionHint({ options, values }: Props) {\n  // do not render if nothing is selected or there are less than 2 possible options\n  if (values === 0 || options < 2) {\n    return null;\n  }\n\n  return (\n    <div className=\"multiple-selection-hint\">\n      <div className=\"multiple-selection-hint-inner\">\n        {translate(\n          isOnMac()\n            ? 'shortcuts.section.global.facets.multiselection.mac'\n            : 'shortcuts.section.global.facets.multiselection'\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction isOnMac() {\n  return navigator.userAgent.indexOf('Mac OS X') !== -1;\n}\n","\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../node_modules/postcss-loader/src/index.js??postcss!./search-navigator.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../node_modules/postcss-loader/src/index.js??postcss!./search-navigator.css\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../node_modules/postcss-loader/src/index.js??postcss!./search-navigator.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".search-navigator.sticky .search-navigator-workspace-header{position:fixed;z-index:50;top:0;left:300px;right:0}.search-navigator.sticky .search-navigator-workspace-details,.search-navigator.sticky .search-navigator-workspace-list{padding-top:43px}.search-navigator-facet-box{background-color:#f3f3f3;font-size:13px}.search-navigator-facet-box.leak-facet-box{background-color:#fbf3d5;border:1px solid #eae3c7}.search-navigator-facet-box.is-inner{margin-left:8px;padding-left:12px;border-left:1px solid #e6e6e6}.search-navigator-facet-box.is-inner .search-navigator-facet-header{padding-top:6px;padding-bottom:6px}.leak-facet-box:not(.hidden)+.leak-facet-box{border-top:none}.search-navigator-facet-box-forbidden{background-color:transparent;opacity:.5}.search-navigator-facet-box-forbidden .search-navigator-facet-container,.search-navigator-facet-box-forbidden .search-navigator-facet-empty,.search-navigator-facet-box-forbidden .search-navigator-facet-list{display:none}.search-navigator-facet-box-forbidden .search-navigator-facet-header{color:#777}.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover{color:#4b9fd5}.search-navigator-facet-box-forbidden .search-navigator-facet-header{cursor:default}.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover{color:#777}.search-navigator-facet-box>.spinner{float:right;margin-top:-24px}.search-navigator-facet{position:relative;display:inline-flex;justify-content:space-between;align-items:center;width:100%;height:24px;margin:0 0 1px;padding:0 6px;border:1px solid transparent;border-radius:2px;box-sizing:border-box;white-space:normal;opacity:.3;cursor:not-allowed;transition:none}a.search-navigator-facet{opacity:1;cursor:pointer}a.search-navigator-facet .facet-name{color:#444}.search-navigator-facet.active,a.search-navigator-facet:focus,a.search-navigator-facet:hover{border-color:#4b9fd5}.search-navigator-facet.facet-category{opacity:1;cursor:default}.search-navigator-facet.facet-category .facet-name{color:#777}.search-navigator-facet .facet-name{flex:1 1 auto;min-width:0;line-height:16px;padding:1px 0;color:#777;font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.search-navigator-facet .facet-stat{display:flex;align-items:center;margin-left:8px;color:#777;font-size:12px}.search-navigator-facet .facet-toggle{display:none;float:left;height:16px;line-height:16px;margin-top:-1px;padding:0 5px;border-radius:2px;font-size:11px;text-transform:lowercase}.search-navigator-facet .facet-toggle:hover{color:#444}.search-navigator-facet .facet-toggle-active.facet-toggle-green{background-color:#0a0;color:#fff}.search-navigator-facet .facet-toggle-active.facet-toggle-red{background-color:#d4333f;color:#fff}.leak-facet-box .search-navigator-facet .facet-name,.leak-facet-box .search-navigator-facet .facet-stat{background-color:#fbf3d5}.leak-facet-box .search-navigator-facet .facet-stat:before{background-image:linear-gradient(90deg,rgba(251,243,213,0),#fbf3d5 75%)}.search-navigator-facet.active{background-color:#cae3f2;text-decoration:none}.search-navigator-facet.active .facet-toggle{display:inline}.search-navigator-facet.compare .facet-toggle{cursor:not-allowed;opacity:.5}.search-navigator-facet.compare .facet-toggle.facet-toggle-green{background-color:#0a0;color:#fff}.search-navigator-facet.compare .facet-toggle.facet-toggle-red{background-color:transparent;color:#777}.search-navigator-facet-half{width:45%}.search-navigator-facet-half:nth-child(odd){margin-right:10%}.search-navigator-facet-highlight-under-container{margin-bottom:1px}.search-navigator-facet-highlight-under-container .search-navigator-facet{margin-bottom:0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover{border-bottom:none;padding-bottom:1px;border-radius:2px 2px 0 0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet{border-top:none;border-bottom:none;border-left-color:#4b9fd5;border-right-color:#4b9fd5;border-radius:0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:last-of-type,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet:last-of-type{border-bottom:1px solid #4b9fd5;border-radius:0 0 2px 2px}.search-navigator-facet-highlight-under-container .search-navigator-facet.active:last-of-type,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover:last-of-type{border-bottom:1px solid #4b9fd5;border-radius:2px}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet{background-color:#cae3f2;text-decoration:none}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet .facet-toggle{display:inline}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet.active{border-top:1px solid #4b9fd5}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover,.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover~.search-navigator-facet{background-color:#a1cde8;text-decoration:none}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover .facet-toggle,.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover~.search-navigator-facet .facet-toggle{display:inline}.search-navigator-facet-header{display:block;flex-shrink:0;padding:8px 0;color:#444;font-weight:600;overflow:hidden;white-space:nowrap}.search-navigator-facet-header>a{border-bottom:none;color:#444}.search-navigator-facet-header>a:hover{color:#4b9fd5}.search-navigator-facet-header>.note{font-weight:400}.search-navigator-facet-header-value{display:block;overflow:hidden}.search-navigator-facet-header-value>.badge{display:block}.search-navigator-facet-header-button{flex-shrink:0;margin-left:auto}.search-navigator-facet-header-wrapper{display:flex;align-items:center}.search-navigator-facet-list{padding-bottom:8px;font-size:0}.search-navigator-facet-list-title{margin:0 8px 4px;font-size:12px;font-weight:700}.search-navigator-facet-list+.search-navigator-facet-list>.search-navigator-facet-list-title{border-top:1px solid #e6e6e6;padding-top:8px}.search-navigator-facet-empty{margin:0;padding:0 10px 10px;color:#444;font-size:12px;white-space:nowrap}.search-navigator-facet-footer{display:block;padding-bottom:8px;border-bottom:none}.search-navigator-facet-container{margin-top:6px;padding:0 10px 16px}.search-navigator-date-facet-selection{position:relative;padding-left:8px;font-size:12px}.search-navigator-date-facet-selection:after,.search-navigator-date-facet-selection:before{display:table;content:\\\"\\\";line-height:0}.search-navigator-date-facet-selection:after{clear:both}.search-navigator-date-facet-selection .date-input-control-input{width:115px!important}.search-navigator-date-facet-selection-dropdown-left{float:left;border-bottom:none}.search-navigator-date-facet-selection-dropdown-right{float:right;border-bottom:none}.search-navigator-date-facet-selection-input-left{position:absolute;left:0;width:100px;visibility:hidden}.search-navigator-date-facet-selection-input-right{position:absolute;right:0;width:100px;visibility:hidden}.search-navigator-date-facet-selection .date-input-control:not(:first-of-type) .date-input-calendar{left:auto;right:0}.search-navigator-filters{position:relative;padding:5px 10px;background-color:#f3f3f3}.search-navigator-filters:after,.search-navigator-filters:before{display:table;content:\\\"\\\";line-height:0}.search-navigator-filters:after{clear:both}.search-navigator-filters-header{margin-bottom:12px;padding-bottom:11px;border-bottom:1px solid #e6e6e6}.search-navigator-intro{width:500px;margin:0 auto;padding-top:100px}\", \"\"]);\n\n","var baseOrderBy = require('./_baseOrderBy'),\n    isArray = require('./isArray');\n\n/**\n * This method is like `_.sortBy` except that it allows specifying the sort\n * orders of the iteratees to sort by. If `orders` is unspecified, all values\n * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n * descending or \"asc\" for ascending sort order of corresponding values.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @param {string[]} [orders] The sort orders of `iteratees`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 34 },\n *   { 'user': 'fred',   'age': 40 },\n *   { 'user': 'barney', 'age': 36 }\n * ];\n *\n * // Sort by `user` in ascending order and by `age` in descending order.\n * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n */\nfunction orderBy(collection, iteratees, orders, guard) {\n  if (collection == null) {\n    return [];\n  }\n  if (!isArray(iteratees)) {\n    iteratees = iteratees == null ? [] : [iteratees];\n  }\n  orders = guard ? undefined : orders;\n  if (!isArray(orders)) {\n    orders = orders == null ? [] : [orders];\n  }\n  return baseOrderBy(collection, iteratees, orders);\n}\n\nmodule.exports = orderBy;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n/*\n * Latinize string by removing all diacritics\n * From http://stackoverflow.com/questions/990904/javascript-remove-accents-in-strings\n */\nconst defaultDiacriticsRemovalap = [\n  {\n    base: 'A',\n    letters:\n      '\\u0041\\u24B6\\uFF21\\u00C0\\u00C1\\u00C2\\u1EA6\\u1EA4\\u1EAA\\u1EA8\\u00C3\\u0100\\u0102\\u1EB0\\u1EAE\\u1EB4\\u1EB2\\u0226\\u01E0\\u00C4\\u01DE\\u1EA2\\u00C5\\u01FA\\u01CD\\u0200\\u0202\\u1EA0\\u1EAC\\u1EB6\\u1E00\\u0104\\u023A\\u2C6F'\n  },\n  {\n    base: 'AA',\n    letters: '\\uA732'\n  },\n  {\n    base: 'AE',\n    letters: '\\u00C6\\u01FC\\u01E2'\n  },\n  {\n    base: 'AO',\n    letters: '\\uA734'\n  },\n  {\n    base: 'AU',\n    letters: '\\uA736'\n  },\n  {\n    base: 'AV',\n    letters: '\\uA738\\uA73A'\n  },\n  {\n    base: 'AY',\n    letters: '\\uA73C'\n  },\n  {\n    base: 'B',\n    letters: '\\u0042\\u24B7\\uFF22\\u1E02\\u1E04\\u1E06\\u0243\\u0182\\u0181'\n  },\n  {\n    base: 'C',\n    letters: '\\u0043\\u24B8\\uFF23\\u0106\\u0108\\u010A\\u010C\\u00C7\\u1E08\\u0187\\u023B\\uA73E'\n  },\n  {\n    base: 'D',\n    letters: '\\u0044\\u24B9\\uFF24\\u1E0A\\u010E\\u1E0C\\u1E10\\u1E12\\u1E0E\\u0110\\u018B\\u018A\\u0189\\uA779'\n  },\n  {\n    base: 'DZ',\n    letters: '\\u01F1\\u01C4'\n  },\n  {\n    base: 'Dz',\n    letters: '\\u01F2\\u01C5'\n  },\n  {\n    base: 'E',\n    letters:\n      '\\u0045\\u24BA\\uFF25\\u00C8\\u00C9\\u00CA\\u1EC0\\u1EBE\\u1EC4\\u1EC2\\u1EBC\\u0112\\u1E14\\u1E16\\u0114\\u0116\\u00CB\\u1EBA\\u011A\\u0204\\u0206\\u1EB8\\u1EC6\\u0228\\u1E1C\\u0118\\u1E18\\u1E1A\\u0190\\u018E'\n  },\n  {\n    base: 'F',\n    letters: '\\u0046\\u24BB\\uFF26\\u1E1E\\u0191\\uA77B'\n  },\n  {\n    base: 'G',\n    letters:\n      '\\u0047\\u24BC\\uFF27\\u01F4\\u011C\\u1E20\\u011E\\u0120\\u01E6\\u0122\\u01E4\\u0193\\uA7A0\\uA77D\\uA77E'\n  },\n  {\n    base: 'H',\n    letters: '\\u0048\\u24BD\\uFF28\\u0124\\u1E22\\u1E26\\u021E\\u1E24\\u1E28\\u1E2A\\u0126\\u2C67\\u2C75\\uA78D'\n  },\n  {\n    base: 'I',\n    letters:\n      '\\u0049\\u24BE\\uFF29\\u00CC\\u00CD\\u00CE\\u0128\\u012A\\u012C\\u0130\\u00CF\\u1E2E\\u1EC8\\u01CF\\u0208\\u020A\\u1ECA\\u012E\\u1E2C\\u0197'\n  },\n  {\n    base: 'J',\n    letters: '\\u004A\\u24BF\\uFF2A\\u0134\\u0248'\n  },\n  {\n    base: 'K',\n    letters: '\\u004B\\u24C0\\uFF2B\\u1E30\\u01E8\\u1E32\\u0136\\u1E34\\u0198\\u2C69\\uA740\\uA742\\uA744\\uA7A2'\n  },\n  {\n    base: 'L',\n    letters:\n      '\\u004C\\u24C1\\uFF2C\\u013F\\u0139\\u013D\\u1E36\\u1E38\\u013B\\u1E3C\\u1E3A\\u0141\\u023D\\u2C62\\u2C60\\uA748\\uA746\\uA780'\n  },\n  {\n    base: 'LJ',\n    letters: '\\u01C7'\n  },\n  {\n    base: 'Lj',\n    letters: '\\u01C8'\n  },\n  {\n    base: 'M',\n    letters: '\\u004D\\u24C2\\uFF2D\\u1E3E\\u1E40\\u1E42\\u2C6E\\u019C'\n  },\n  {\n    base: 'N',\n    letters:\n      '\\u004E\\u24C3\\uFF2E\\u01F8\\u0143\\u00D1\\u1E44\\u0147\\u1E46\\u0145\\u1E4A\\u1E48\\u0220\\u019D\\uA790\\uA7A4'\n  },\n  {\n    base: 'NJ',\n    letters: '\\u01CA'\n  },\n  {\n    base: 'Nj',\n    letters: '\\u01CB'\n  },\n  {\n    base: 'O',\n    letters:\n      '\\u004F\\u24C4\\uFF2F\\u00D2\\u00D3\\u00D4\\u1ED2\\u1ED0\\u1ED6\\u1ED4\\u00D5\\u1E4C\\u022C\\u1E4E\\u014C\\u1E50\\u1E52\\u014E\\u022E\\u0230\\u00D6\\u022A\\u1ECE\\u0150\\u01D1\\u020C\\u020E\\u01A0\\u1EDC\\u1EDA\\u1EE0\\u1EDE\\u1EE2\\u1ECC\\u1ED8\\u01EA\\u01EC\\u00D8\\u01FE\\u0186\\u019F\\uA74A\\uA74C'\n  },\n  {\n    base: 'OI',\n    letters: '\\u01A2'\n  },\n  {\n    base: 'OO',\n    letters: '\\uA74E'\n  },\n  {\n    base: 'OU',\n    letters: '\\u0222'\n  },\n  {\n    base: 'OE',\n    letters: '\\u008C\\u0152'\n  },\n  {\n    base: 'oe',\n    letters: '\\u009C\\u0153'\n  },\n  {\n    base: 'P',\n    letters: '\\u0050\\u24C5\\uFF30\\u1E54\\u1E56\\u01A4\\u2C63\\uA750\\uA752\\uA754'\n  },\n  {\n    base: 'Q',\n    letters: '\\u0051\\u24C6\\uFF31\\uA756\\uA758\\u024A'\n  },\n  {\n    base: 'R',\n    letters:\n      '\\u0052\\u24C7\\uFF32\\u0154\\u1E58\\u0158\\u0210\\u0212\\u1E5A\\u1E5C\\u0156\\u1E5E\\u024C\\u2C64\\uA75A\\uA7A6\\uA782'\n  },\n  {\n    base: 'S',\n    letters:\n      '\\u0053\\u24C8\\uFF33\\u1E9E\\u015A\\u1E64\\u015C\\u1E60\\u0160\\u1E66\\u1E62\\u1E68\\u0218\\u015E\\u2C7E\\uA7A8\\uA784'\n  },\n  {\n    base: 'T',\n    letters:\n      '\\u0054\\u24C9\\uFF34\\u1E6A\\u0164\\u1E6C\\u021A\\u0162\\u1E70\\u1E6E\\u0166\\u01AC\\u01AE\\u023E\\uA786'\n  },\n  {\n    base: 'TZ',\n    letters: '\\uA728'\n  },\n  {\n    base: 'U',\n    letters:\n      '\\u0055\\u24CA\\uFF35\\u00D9\\u00DA\\u00DB\\u0168\\u1E78\\u016A\\u1E7A\\u016C\\u00DC\\u01DB\\u01D7\\u01D5\\u01D9\\u1EE6\\u016E\\u0170\\u01D3\\u0214\\u0216\\u01AF\\u1EEA\\u1EE8\\u1EEE\\u1EEC\\u1EF0\\u1EE4\\u1E72\\u0172\\u1E76\\u1E74\\u0244'\n  },\n  {\n    base: 'V',\n    letters: '\\u0056\\u24CB\\uFF36\\u1E7C\\u1E7E\\u01B2\\uA75E\\u0245'\n  },\n  {\n    base: 'VY',\n    letters: '\\uA760'\n  },\n  {\n    base: 'W',\n    letters: '\\u0057\\u24CC\\uFF37\\u1E80\\u1E82\\u0174\\u1E86\\u1E84\\u1E88\\u2C72'\n  },\n  {\n    base: 'X',\n    letters: '\\u0058\\u24CD\\uFF38\\u1E8A\\u1E8C'\n  },\n  {\n    base: 'Y',\n    letters:\n      '\\u0059\\u24CE\\uFF39\\u1EF2\\u00DD\\u0176\\u1EF8\\u0232\\u1E8E\\u0178\\u1EF6\\u1EF4\\u01B3\\u024E\\u1EFE'\n  },\n  {\n    base: 'Z',\n    letters: '\\u005A\\u24CF\\uFF3A\\u0179\\u1E90\\u017B\\u017D\\u1E92\\u1E94\\u01B5\\u0224\\u2C7F\\u2C6B\\uA762'\n  },\n  {\n    base: 'a',\n    letters:\n      '\\u0061\\u24D0\\uFF41\\u1E9A\\u00E0\\u00E1\\u00E2\\u1EA7\\u1EA5\\u1EAB\\u1EA9\\u00E3\\u0101\\u0103\\u1EB1\\u1EAF\\u1EB5\\u1EB3\\u0227\\u01E1\\u00E4\\u01DF\\u1EA3\\u00E5\\u01FB\\u01CE\\u0201\\u0203\\u1EA1\\u1EAD\\u1EB7\\u1E01\\u0105\\u2C65\\u0250'\n  },\n  {\n    base: 'aa',\n    letters: '\\uA733'\n  },\n  {\n    base: 'ae',\n    letters: '\\u00E6\\u01FD\\u01E3'\n  },\n  {\n    base: 'ao',\n    letters: '\\uA735'\n  },\n  {\n    base: 'au',\n    letters: '\\uA737'\n  },\n  {\n    base: 'av',\n    letters: '\\uA739\\uA73B'\n  },\n  {\n    base: 'ay',\n    letters: '\\uA73D'\n  },\n  {\n    base: 'b',\n    letters: '\\u0062\\u24D1\\uFF42\\u1E03\\u1E05\\u1E07\\u0180\\u0183\\u0253'\n  },\n  {\n    base: 'c',\n    letters: '\\u0063\\u24D2\\uFF43\\u0107\\u0109\\u010B\\u010D\\u00E7\\u1E09\\u0188\\u023C\\uA73F\\u2184'\n  },\n  {\n    base: 'd',\n    letters: '\\u0064\\u24D3\\uFF44\\u1E0B\\u010F\\u1E0D\\u1E11\\u1E13\\u1E0F\\u0111\\u018C\\u0256\\u0257\\uA77A'\n  },\n  {\n    base: 'dz',\n    letters: '\\u01F3\\u01C6'\n  },\n  {\n    base: 'e',\n    letters:\n      '\\u0065\\u24D4\\uFF45\\u00E8\\u00E9\\u00EA\\u1EC1\\u1EBF\\u1EC5\\u1EC3\\u1EBD\\u0113\\u1E15\\u1E17\\u0115\\u0117\\u00EB\\u1EBB\\u011B\\u0205\\u0207\\u1EB9\\u1EC7\\u0229\\u1E1D\\u0119\\u1E19\\u1E1B\\u0247\\u025B\\u01DD'\n  },\n  {\n    base: 'f',\n    letters: '\\u0066\\u24D5\\uFF46\\u1E1F\\u0192\\uA77C'\n  },\n  {\n    base: 'g',\n    letters:\n      '\\u0067\\u24D6\\uFF47\\u01F5\\u011D\\u1E21\\u011F\\u0121\\u01E7\\u0123\\u01E5\\u0260\\uA7A1\\u1D79\\uA77F'\n  },\n  {\n    base: 'h',\n    letters:\n      '\\u0068\\u24D7\\uFF48\\u0125\\u1E23\\u1E27\\u021F\\u1E25\\u1E29\\u1E2B\\u1E96\\u0127\\u2C68\\u2C76\\u0265'\n  },\n  {\n    base: 'hv',\n    letters: '\\u0195'\n  },\n  {\n    base: 'i',\n    letters:\n      '\\u0069\\u24D8\\uFF49\\u00EC\\u00ED\\u00EE\\u0129\\u012B\\u012D\\u00EF\\u1E2F\\u1EC9\\u01D0\\u0209\\u020B\\u1ECB\\u012F\\u1E2D\\u0268\\u0131'\n  },\n  {\n    base: 'j',\n    letters: '\\u006A\\u24D9\\uFF4A\\u0135\\u01F0\\u0249'\n  },\n  {\n    base: 'k',\n    letters: '\\u006B\\u24DA\\uFF4B\\u1E31\\u01E9\\u1E33\\u0137\\u1E35\\u0199\\u2C6A\\uA741\\uA743\\uA745\\uA7A3'\n  },\n  {\n    base: 'l',\n    letters:\n      '\\u006C\\u24DB\\uFF4C\\u0140\\u013A\\u013E\\u1E37\\u1E39\\u013C\\u1E3D\\u1E3B\\u017F\\u0142\\u019A\\u026B\\u2C61\\uA749\\uA781\\uA747'\n  },\n  {\n    base: 'lj',\n    letters: '\\u01C9'\n  },\n  {\n    base: 'm',\n    letters: '\\u006D\\u24DC\\uFF4D\\u1E3F\\u1E41\\u1E43\\u0271\\u026F'\n  },\n  {\n    base: 'n',\n    letters:\n      '\\u006E\\u24DD\\uFF4E\\u01F9\\u0144\\u00F1\\u1E45\\u0148\\u1E47\\u0146\\u1E4B\\u1E49\\u019E\\u0272\\u0149\\uA791\\uA7A5'\n  },\n  {\n    base: 'nj',\n    letters: '\\u01CC'\n  },\n  {\n    base: 'o',\n    letters:\n      '\\u006F\\u24DE\\uFF4F\\u00F2\\u00F3\\u00F4\\u1ED3\\u1ED1\\u1ED7\\u1ED5\\u00F5\\u1E4D\\u022D\\u1E4F\\u014D\\u1E51\\u1E53\\u014F\\u022F\\u0231\\u00F6\\u022B\\u1ECF\\u0151\\u01D2\\u020D\\u020F\\u01A1\\u1EDD\\u1EDB\\u1EE1\\u1EDF\\u1EE3\\u1ECD\\u1ED9\\u01EB\\u01ED\\u00F8\\u01FF\\u0254\\uA74B\\uA74D\\u0275'\n  },\n  {\n    base: 'oi',\n    letters: '\\u01A3'\n  },\n  {\n    base: 'ou',\n    letters: '\\u0223'\n  },\n  {\n    base: 'oo',\n    letters: '\\uA74F'\n  },\n  {\n    base: 'p',\n    letters: '\\u0070\\u24DF\\uFF50\\u1E55\\u1E57\\u01A5\\u1D7D\\uA751\\uA753\\uA755'\n  },\n  {\n    base: 'q',\n    letters: '\\u0071\\u24E0\\uFF51\\u024B\\uA757\\uA759'\n  },\n  {\n    base: 'r',\n    letters:\n      '\\u0072\\u24E1\\uFF52\\u0155\\u1E59\\u0159\\u0211\\u0213\\u1E5B\\u1E5D\\u0157\\u1E5F\\u024D\\u027D\\uA75B\\uA7A7\\uA783'\n  },\n  {\n    base: 's',\n    letters:\n      '\\u0073\\u24E2\\uFF53\\u00DF\\u015B\\u1E65\\u015D\\u1E61\\u0161\\u1E67\\u1E63\\u1E69\\u0219\\u015F\\u023F\\uA7A9\\uA785\\u1E9B'\n  },\n  {\n    base: 't',\n    letters:\n      '\\u0074\\u24E3\\uFF54\\u1E6B\\u1E97\\u0165\\u1E6D\\u021B\\u0163\\u1E71\\u1E6F\\u0167\\u01AD\\u0288\\u2C66\\uA787'\n  },\n  {\n    base: 'tz',\n    letters: '\\uA729'\n  },\n  {\n    base: 'u',\n    letters:\n      '\\u0075\\u24E4\\uFF55\\u00F9\\u00FA\\u00FB\\u0169\\u1E79\\u016B\\u1E7B\\u016D\\u00FC\\u01DC\\u01D8\\u01D6\\u01DA\\u1EE7\\u016F\\u0171\\u01D4\\u0215\\u0217\\u01B0\\u1EEB\\u1EE9\\u1EEF\\u1EED\\u1EF1\\u1EE5\\u1E73\\u0173\\u1E77\\u1E75\\u0289'\n  },\n  {\n    base: 'v',\n    letters: '\\u0076\\u24E5\\uFF56\\u1E7D\\u1E7F\\u028B\\uA75F\\u028C'\n  },\n  {\n    base: 'vy',\n    letters: '\\uA761'\n  },\n  {\n    base: 'w',\n    letters: '\\u0077\\u24E6\\uFF57\\u1E81\\u1E83\\u0175\\u1E87\\u1E85\\u1E98\\u1E89\\u2C73'\n  },\n  {\n    base: 'x',\n    letters: '\\u0078\\u24E7\\uFF58\\u1E8B\\u1E8D'\n  },\n  {\n    base: 'y',\n    letters:\n      '\\u0079\\u24E8\\uFF59\\u1EF3\\u00FD\\u0177\\u1EF9\\u0233\\u1E8F\\u00FF\\u1EF7\\u1E99\\u1EF5\\u01B4\\u024F\\u1EFF'\n  },\n  {\n    base: 'z',\n    letters: '\\u007A\\u24E9\\uFF5A\\u017A\\u1E91\\u017C\\u017E\\u1E93\\u1E95\\u01B6\\u0225\\u0240\\u2C6C\\uA763'\n  }\n];\n\nconst diacriticsMap: T.Dict<string> = {};\ndefaultDiacriticsRemovalap.forEach(defaultDiacritic =>\n  defaultDiacritic.letters.split('').forEach(letter => {\n    diacriticsMap[letter] = defaultDiacritic.base;\n  })\n);\n\n// \"what?\" version ... http://jsperf.com/diacritics/12\nexport function latinize(str: string): string {\n  // eslint-disable-next-line no-control-regex\n  return str.replace(/[^\\u0000-\\u007E]/g, a => diacriticsMap[a] || a);\n}\n\n// Inspired from https://github.com/SonarSource/sonar-enterprise/blob/master/sonar-core/src/main/java/org/sonar/core/util/Slug.java\nexport function slugify(text: string) {\n  return latinize(text.trim().toLowerCase())\n    .replace(/&/g, '-and-') // Replace & with 'and'\n    .replace(/[^\\w-]+/g, '-') // Replace all non-word chars with dash\n    .replace(/\\s+/g, '-') // Replace whitespaces with dash\n    .replace(/[·/_,:;]/g, '-') // Replace special chars with dash\n    .replace(/--+/g, '-') // Replace multiple dash with single dash\n    .replace(/^-+/, '') // Remove heading dash\n    .replace(/-+$/, ''); // Remove trailing dash\n}\n\nexport function decodeJwt(token: string) {\n  const segments = token.split('.');\n  const base64Url = segments.length > 1 ? segments[1] : segments[0];\n  const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n  return JSON.parse(window.atob(base64));\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Tooltip from './Tooltip';\nimport * as theme from '../../app/theme';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  tooltip?: string;\n  onClick: () => void;\n}\n\nexport default class ReloadButton extends React.PureComponent<Props> {\n  handleClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onClick();\n  };\n\n  renderIcon = () => (\n    <svg height=\"24\" viewBox=\"0 0 18 24\" width=\"18\">\n      <path\n        d=\"M16.6454 8.1084c-.3-.5-.9-.7-1.4-.4-.5.3-.7.9-.4 1.4.9 1.6 1.1 3.4.6 5.1-.5 1.7-1.7 3.2-3.2 4-3.3 1.8-7.4.6-9.1-2.7-1.8-3.1-.8-6.9 2.1-8.8v3.3h2v-7h-7v2h3.9c-3.7 2.5-5 7.5-2.8 11.4 1.6 3 4.6 4.6 7.7 4.6 1.4 0 2.8-.3 4.2-1.1 2-1.1 3.5-3 4.2-5.2.6-2.2.3-4.6-.8-6.6z\"\n        fill={theme.secondFontColor}\n      />\n    </svg>\n  );\n\n  render() {\n    const { tooltip = translate('reload') } = this.props;\n    return (\n      <Tooltip overlay={tooltip}>\n        <a\n          className={classNames('link-no-underline', this.props.className)}\n          href=\"#\"\n          onClick={this.handleClick}>\n          {this.renderIcon()}\n        </a>\n      </Tooltip>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport DocTooltip from '../../../components/docs/DocTooltip';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  tooltip?: boolean;\n}\n\nexport default function BuiltInQualityProfileBadge({ className, tooltip = true }: Props) {\n  const badge = (\n    <div className={classNames('outline-badge', className)}>\n      {translate('quality_profiles.built_in')}\n    </div>\n  );\n\n  if (tooltip) {\n    return (\n      <DocTooltip\n        doc={import(/* webpackMode: \"eager\" */ 'Docs/tooltips/quality-profiles/built-in-quality-profile.md')}>\n        {badge}\n      </DocTooltip>\n    );\n  }\n  return badge;\n}\n"],"sourceRoot":""}